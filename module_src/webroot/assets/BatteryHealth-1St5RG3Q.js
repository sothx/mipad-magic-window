import{d as t,L as e,r as a,b as l,aQ as o,aR as n,aS as s,a_ as r,aW as c,J as i,M as u,aV as d,F as m,bD as p,c as y,aZ as f,aX as h,aY as g}from"./apis-DMZRtRi-.js";import{aw as b,x as I,R as w,y as v,z as x}from"./hooks-BgXKzEvh.js";import{R}from"./RenderJSX-EhwFgcRO.js";import{r as S,a as k}from"./XCircleIcon-DNc3ifIu.js";import"./lodash-DMrPhC4V.js";const F={class:"batteryHealth"},B={class:"mt-3"},M={class:"px-3 sm:px-0"},D={class:"flex"},q=t({__name:"BatteryHealth",setup(t){const q=e(),$=b(),_=a(""),z=a(null),C=l((()=>({theme:q.isDarkMode?v:x})));I(["message","modal"],{configProviderProps:C});const U=({focused:t,checked:e})=>{const a={};return e?(a.background="#d03050",t&&(a.boxShadow="0 0 0 2px #d0305040")):(a.background="#2080f0",t&&(a.boxShadow="0 0 0 2px #2080f040")),a},A=[{title:"真实电量（高通）",content:()=>u(m,null,[u("p",null,[`${$.qcomBatteryFg1RSocInfo.current} %`,u(o("n-button"),{class:"ml-1",strong:!0,secondary:!0,size:"small",type:"success",onClick:()=>$.qcomBatteryFg1RSocInfo.reload()},{default:()=>[y("手动刷新")]}),u(o("n-switch"),{class:"ml-2",value:$.qcomBatteryFg1RSocInfo.autoReload,"onUpdate:value":t=>$.qcomBatteryFg1RSocInfo.autoReload=t,"rail-style":U},{checked:()=>"开启自动刷新",unchecked:()=>"未开启自动刷新"})]),$.qcomBatteryFg1RSocInfo.autoReload&&u("div",null,[u("p",{class:"my-2"},[y("隔多少秒刷新一次")]),u("p",null,[u(o("n-slider"),{value:$.qcomBatteryFg1RSocInfo.timer,"onUpdate:value":t=>$.qcomBatteryFg1RSocInfo.timer=t,size:"small",min:1,max:30,step:1},null),u(o("n-input-number"),{"show-button":!1,class:"pt-3",readonly:!0,placeholder:"请输入刷新频率间隔时间",value:$.qcomBatteryFg1RSocInfo.timer,"onUpdate:value":t=>$.qcomBatteryFg1RSocInfo.timer=t,min:0,max:30,step:1},null)])])]),isShow:()=>Boolean($.qcomBatteryFg1RSocInfo.current)},{title:"真实电量",content:()=>u(m,null,[u("p",null,[$.capacityRawInfo.current/100+" %",u(o("n-button"),{class:"ml-1",strong:!0,secondary:!0,size:"small",type:"success",onClick:()=>$.capacityRawInfo.reload()},{default:()=>[y("手动刷新")]}),u(o("n-switch"),{class:"ml-2",value:$.capacityRawInfo.autoReload,"onUpdate:value":t=>$.capacityRawInfo.autoReload=t,"rail-style":U},{checked:()=>"开启自动刷新",unchecked:()=>"未开启自动刷新"})]),$.capacityRawInfo.autoReload&&u("div",null,[u("p",{class:"my-2"},[y("隔多少秒刷新一次")]),u("p",null,[u(o("n-slider"),{value:$.capacityRawInfo.timer,"onUpdate:value":t=>$.capacityRawInfo.timer=t,size:"small",min:1,max:30,step:1},null),u(o("n-input-number"),{"show-button":!1,class:"pt-3",readonly:!0,placeholder:"请输入刷新频率间隔时间",value:$.capacityRawInfo.timer,"onUpdate:value":t=>$.capacityRawInfo.timer=t,min:0,max:30,step:1},null)])])]),isShow:()=>Boolean($.capacityRawInfo.current)},{title:"电池出厂设计容量",content:()=>u("p",null,[q.batteryInfo.chargeFullDesign/1e3+" mAh"]),isShow:()=>Boolean(q.batteryInfo.chargeFullDesign)},{title:"电池当前预估容量",content:()=>u("p",null,[q.batteryInfo.chargeFull/1e3+" mAh"]),isShow:()=>Boolean(q.batteryInfo.chargeFull)},{title:"电池循环充电次数",content:()=>u("p",null,[`${q.batteryInfo.cycleCount} 次`]),isShow:()=>Boolean(q.batteryInfo.cycleCount)},{title:"电池预估健康度",content:()=>u("p",null,[`${(q.batteryInfo.chargeFull/q.batteryInfo.chargeFullDesign*100).toFixed(2)} %`]),isShow:()=>Boolean(q.batteryInfo.chargeFullDesign&&q.batteryInfo.chargeFull)},{title:"电池售后健康度（高通）",content:()=>u(m,null,[u("p",null,[`${q.batteryInfo.sohQcom} %`]),u("p",null,[`≈ ${Math.round(q.batteryInfo.chargeFullDesign*(q.batteryInfo.sohQcom/100)/1e3)} mAh`]),u(o("n-alert"),{class:"mt-5",type:"info","show-icon":!1,bordered:!1},{default:()=>[u("p",null,[y("在设备保修期内健康度低于80%可以申请电池质保")])]})]),isShow:()=>Boolean(q.batteryInfo.sohQcom)},{title:"电池售后健康度",content:()=>u(m,null,[u("p",null,[`${q.batteryInfo.sohMTK} %`]),u("p",null,[`≈ ${Math.round(q.batteryInfo.chargeFullDesign*(q.batteryInfo.sohMTK/100)/1e3)} mAh`]),u(o("n-alert"),{class:"mt-5",type:"info","show-icon":!1,bordered:!1},{default:()=>[u("p",null,[y("在设备保修期内健康度低于80%可以申请电池质保")])]})]),isShow:()=>Boolean(q.batteryInfo.sohMTK)},{title:"电池售后健康度（小米）",content:()=>u(m,null,[u("p",null,[`${q.batteryInfo.sohXMPower} %`]),u("p",null,[`≈ ${Math.round(q.batteryInfo.chargeFullDesign*(q.batteryInfo.sohXMPower/100)/1e3)} mAh`]),u(o("n-alert"),{class:"mt-5",type:"info","show-icon":!1,bordered:!1},{default:()=>[u("p",null,[y("在设备保修期内健康度低于80%可以申请电池质保")])]})]),isShow:()=>Boolean(q.batteryInfo.sohXMPower)}],X=l((()=>{const t=_.value.trim().toLowerCase();return A.filter((e=>!(e.isShow&&!e.isShow())&&(!t||e.title.toLowerCase().includes(t))))}));return(t,e)=>{const a=o("n-icon"),l=o("n-button"),b=o("n-input-group"),I=o("n-card");return n(),s("div",F,[r("div",B,[r("div",M,[e[3]||(e[3]=r("h3",{class:c("text-base font-semibold leading-7")},[r("span",{class:"animated-bg bg-clip-text font-semibold text-transparent",style:{"background-image":"linear-gradient(\r\n\t\t\t\t\t\t\t\t101.22deg,\r\n\t\t\t\t\t\t\t\trgb(255, 182, 133) -18.32%,\r\n\t\t\t\t\t\t\t\trgb(255, 111, 29) 7.01%,\r\n\t\t\t\t\t\t\t\trgb(252, 181, 232) 41.59%,\r\n\t\t\t\t\t\t\t\trgb(135, 148, 255) 70.98%,\r\n\t\t\t\t\t\t\t\trgb(60, 112, 255) 91.35%,\r\n\t\t\t\t\t\t\t\trgb(60, 112, 255) 110.17%\r\n\t\t\t\t\t\t\t)"}},"电池健康")],-1)),r("p",{class:c("mt-1 max-w-2xl text-sm leading-6 "+(i(q).isDarkMode?"text-gray-300":"text-gray-500"))}," 电池健康，提供电池健康状态监测。 ",2)]),u(I,{size:"small",class:"mt-5"},{default:d((()=>[r("div",D,[u(b,null,{default:d((()=>[u(i(w),{size:"large",clearable:"",value:_.value,"onUpdate:value":e[0]||(e[0]=t=>_.value=t),ref_key:"searchKeyWordInput",ref:z,placeholder:"搜索功能名称",class:"w-4/5"},null,8,["value"]),u(l,{size:"large",type:"primary",onClick:e[1]||(e[1]=()=>{var t;null==(t=z.value)||t.blur()})},{icon:d((()=>[u(a,null,{default:d((()=>[u(i(S))])),_:1})])),default:d((()=>[e[4]||(e[4]=r("span",{class:"hidden sm:inline-block"},"搜索",-1))])),_:1}),u(l,{size:"large",bordered:"",onClick:e[2]||(e[2]=()=>{_.value=""})},{icon:d((()=>[u(a,null,{default:d((()=>[u(i(k))])),_:1})])),default:d((()=>[e[5]||(e[5]=r("span",{class:"hidden sm:inline-block"},"清空",-1))])),_:1})])),_:1})])])),_:1}),r("div",{class:c("mt-3 border-t "+(i(q).isDarkMode?"divide-sothx-gray-color border-sothx-gray-color":"divide-gray-200 border-gray-200"))},[r("dl",{class:c("divide-y "+(i(q).isDarkMode?"divide-sothx-gray-color":"divide-gray-200"))},[(n(!0),s(m,null,p(X.value,((t,e)=>(n(),s("div",{key:e,class:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},[r("dt",{class:c("text-sm font-medium leading-6 "+(i(q).isDarkMode?"text-white":"text-gray-900"))},[y(f(t.title)+" ",1),t.titleSlot?(n(),h(i(R),{key:0,content:t.titleSlot&&t.titleSlot()},null,8,["content"])):g("",!0)],2),r("dd",{class:c(`mt-1 text-sm leading-6 ${i(q).isDarkMode?"text-gray-300":"text-gray-700"} sm:col-span-2 sm:mt-0`)},[t.content?(n(),h(i(R),{key:0,content:t.content&&t.content()},null,8,["content"])):g("",!0)],2)])))),128))],2)],2)])])}}});export{q as default};
