import{aK as e,aL as t,aT as a,d as l,L as n,r as o,aG as i,b as s,aJ as r,aP as d,J as c,M as u,aO as p,F as g,bw as y,c as v,aS as f,aQ as m,aR as h,N as b,l as S,bI as w,bD as k,bT as M,bU as I,bL as x,bV as T,bW as B}from"./apis-AJ0ovKP0.js";import{aw as R,ax as D,aq as O,ay as P,az as C,aA as F,aB as U,x as V,p as A,R as _,y as E,z}from"./hooks-D6OHrZ_8.js";import{b as L}from"./index-odvlHIoU.js";import{R as K}from"./RenderJSX-DN2yxmX0.js";import{a as G,b as N}from"./format-D_OGebxR.js";import{p as Q}from"./pako-DsGp7kFX.js";import{r as $,a as q}from"./XCircleIcon-DZJkl1hA.js";import{f as j}from"./lodash-DMrPhC4V.js";import"./iconfont-CKH9wMaD.js";function H(l,n){return e(),t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-.53 14.03a.75.75 0 0 0 1.06 0l3-3a.75.75 0 1 0-1.06-1.06l-1.72 1.72V8.25a.75.75 0 0 0-1.5 0v5.69l-1.72-1.72a.75.75 0 0 0-1.06 1.06l3 3Z","clip-rule":"evenodd"})])}const X={class:"setting"},W={class:"mt-3"},J={class:"px-3 sm:px-0"},Z={class:"flex"},Y=l({__name:"SettingsView",setup(l){const Y=n(),ee=o(""),te=o(null),ae=i(),le=R(),ne=D(),oe=O(),ie=P(),{activateABTest:se,loading:re}=C(),de=F(),ce=U(),ue=s((()=>({theme:Y.isDarkMode?E:z}))),{message:pe,modal:ge}=V(["message","modal"],{configProviderProps:ue}),ye=A(),ve=L(),fe=[{label:"跟随系统",key:"autoRhythm"},{label:"浅色模式",key:"lightMode"},{label:"深色模式",key:"dartMode"}],me=o([{label:"MiSans",key:"MiSans",type:"info"},{label:"HarmonyOS Sans",key:"HarmonyOS Sans",type:"error"},{label:"OPPO Sans",key:"OPPO Sans",type:"success"}]),he=s((()=>j(me.value,"key"))),be=e=>{Y.rhythmMode=e,"lightMode"===e&&(Y.isDarkMode=!1),"dartMode"===e&&(Y.isDarkMode=!0)},Se=o(""),we=o(!1),ke=o(!1),Me=async(e,t,a)=>{ge.create({title:`获取${e}`,type:"info",preset:"dialog",content:()=>u("div",null,[u("p",null,[v("确定要下载"),e,v("么？请注意核对部分应用的兼容性。"),"system"===a,"revision"===a,u("span",null,[v("（Tips: Magisk模块请通过ROOT管理器进行安装）")])]),u("p",null,[v("下载地址:")]),u("p",null,[t])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${t}`),k()},onNegativeClick:()=>{}})},Ie=({focused:e,checked:t})=>{const a={};return t?(a.background="#d03050",e&&(a.boxShadow="0 0 0 2px #d0305040")):(a.background="#2080f0",e&&(a.boxShadow="0 0 0 2px #2080f040")),a},xe=[{title:"模块ID",content:()=>{var e;return u(g,null,[(null==(e=Y.moduleInfo)?void 0:e.id)??"获取失败"])},isShow:()=>{var e;return Boolean(null==(e=Y.moduleInfo)?void 0:e.id)}},{title:"模块路径",content:()=>{var e;return u(g,null,[(null==(e=Y.moduleInfo)?void 0:e.dir)??"获取失败"])},isShow:()=>{var e;return Boolean(null==(e=Y.moduleInfo)?void 0:e.id)}},{title:"模块版本名",content:()=>{var e;return u(g,null,[(null==(e=Y.moduleInfo)?void 0:e.version)??"获取失败"])},isShow:()=>{var e;return Boolean(null==(e=Y.moduleInfo)?void 0:e.version)}},{title:"模块版本号",content:()=>{var e;return u(g,null,[(null==(e=Y.moduleInfo)?void 0:e.versionCode)??"获取失败"])},isShow:()=>{var e;return Boolean(null==(e=Y.moduleInfo)?void 0:e.versionCode)}},{title:"模块工作模式",content:()=>u(g,null,[u(r("n-switch"),{value:ae.isPatchMode,loading:we.value,disabled:Y.androidTargetSdk&&Y.androidTargetSdk<32,railStyle:Ie,onUpdateValue:e=>(async e=>{const[t,a]=await b(new Promise(((t,a)=>{ge.create({title:e?"想切换为定制模式吗？":"想切换为完整模式吗？",type:"info",preset:"dialog",content:()=>u("div",null,[e&&u("p",null,[v("切换为")," ",u("span",{class:"font-bold "+(Y.isDarkMode?"text-teal-400":"text-gray-600")},[v("定制模式")])," ",v("后，模块会以您设备的整体应用情况")," ",u("span",{class:"font-bold "+(Y.isDarkMode?"text-teal-400":"text-gray-600")},[v("修剪模块应用适配列表")])," ",v("，以解决老机型由于系统优化不佳而导致的卡顿、掉帧等问题，后续每次更新模块或者安装新的应用后，建议前往")," ",u("span",{class:"font-bold "+(Y.isDarkMode?"text-teal-400":"text-gray-600")},[v("应用横屏布局")])," ",v("重新")," ",u("span",{class:"font-bold "+(Y.isDarkMode?"text-teal-400":"text-gray-600")},[v("生成定制应用数据")])," ",v("，确定要继续吗？")]),!e&&u("p",null,[v("切换为")," ",u("span",{class:"font-bold "+(Y.isDarkMode?"text-teal-400":"text-gray-600")},[v("完整模式")])," ",v("后，可以获得模块提供的大量应用适配，同时可能会导致部分老机型由于系统优化不佳而导致的卡顿、掉帧等问题，确定要继续吗？")])]),positiveText:"确定继续",negativeText:"我再想想",onPositiveClick:()=>{t("positiveClick")},onNegativeClick:()=>{a("negativeClick")}})})));if(a){we.value=!0;const[t]=await b(M());if(t)return ge.create({title:"操作失败",type:"error",preset:"dialog",content:()=>u("p",null,[v("无法移除定制模式的配置项，详情请查看日志记录~")]),negativeText:"确定"}),void(we.value=!1);if(e){const[e]=await b(I());if(e)return ge.create({title:"操作失败",type:"error",preset:"dialog",content:()=>u("p",null,[v("无法切换为定制模式，详情请查看日志记录~")]),negativeText:"确定"}),void(we.value=!1);ae.isPatchMode=!0}else we.value=!1,ae.isPatchMode=!1;await Y.getAndroidApplicationPackageNameList();const[a,l]=await b(x());a?(ge.create({title:"操作失败",type:"error",preset:"dialog",content:()=>u("p",null,[v("发生异常错误，更新失败了QwQ，详细错误请查看错误日志~")])}),ae.isPatchMode=!ae.isPatchMode,we.value=!1):(ge.create({title:"操作成功",type:"success",preset:"dialog",content:()=>u("div",null,[e&&u("p",null,[v("好耶w，已成功切换为")," ",u("span",{class:"font-bold "+(Y.isDarkMode?"text-teal-400":"text-gray-600")},[v("定制模式")])," ",v("，模块已根据您设备当前的整体应用情况")," ",u("span",{class:"font-bold "+(Y.isDarkMode?"text-teal-400":"text-gray-600")},[v("修剪模块应用适配列表")])," ",v("，以解决老机型由于系统优化不佳而导致的卡顿、掉帧等问题，建议每次更新模块或者安装新的应用后，均需要在前往")," ",u("span",{class:"font-bold "+(Y.isDarkMode?"text-teal-400":"text-gray-600")},[v("应用横屏布局")])," ",v("界面重新")," ",u("span",{class:"font-bold "+(Y.isDarkMode?"text-teal-400":"text-gray-600")},[v("生成定制应用数据")])," ",v("。")]),!e&&u("p",null,[v("好耶w，已成功切换为")," ",u("span",{class:"font-bold "+(Y.isDarkMode?"text-teal-400":"text-gray-600")},[v("完整模式")])," ",v("，可以获得模块提供的大量应用适配，同时可能会导致部分老机型由于系统优化不佳而导致的卡顿、掉帧等问题。")])]),negativeText:"确定"}),we.value=!1,ae.updateMergeRuleList())}})(e)},{checked:()=>"定制模式",unchecked:()=>"完整模式"}),ae.isPatchMode&&u(r("n-alert"),{class:"mt-5",type:"warning","show-icon":!1,bordered:!1},{default:()=>[u("p",null,[v("「定制模式」还额外提供了仅根据当前「已安装应用列表」修剪「模块应用适配列表」的功能， 您可以通过启用「深度定制模式」来开启该功能，但启用后模块不再提供「高频应用适配列表」作为兜底， 可以进一步优化老机型由于系统优化不佳而导致的卡顿、掉帧等问题， 但后续每次更新模块或者安装新的应用后，均需要在前往「应用横屏布局」界面重新「生成定制应用数据」。")]),u(r("n-switch"),{class:"mt-5",value:ae.isDeepPatchMode,loading:we.value,disabled:Y.androidTargetSdk&&Y.androidTargetSdk<32,railStyle:Ie,onUpdateValue:e=>(async e=>{const[t,a]=await b(new Promise(((t,a)=>{ge.create({title:e?"想启用深度定制模式吗？":"想关闭深度定制模式吗？",type:"info",preset:"dialog",content:()=>u("div",null,[e&&u("p",null,[v("启用")," ",u("span",{class:"font-bold "+(Y.isDarkMode?"text-teal-400":"text-gray-600")},[v("深度定制模式")])," ",v("后，模块将仅根据")," ",u("span",{class:"font-bold "+(Y.isDarkMode?"text-teal-400":"text-gray-600")},[v("当前已安装应用修剪模块应用适配列表")])," ",v("，不再提供")," ",u("span",{class:"font-bold "+(Y.isDarkMode?"text-teal-400":"text-gray-600")},[v("高频应用适配列表")])," ",v("作为兜底，可以进一步优化老机型由于系统优化不佳而导致的卡顿、掉帧等问题，但后续每次更新模块或者安装新的应用后，均需要前往")," ",u("span",{class:"font-bold "+(Y.isDarkMode?"text-teal-400":"text-gray-600")},[v("应用横屏布局")])," ",v("重新")," ",u("span",{class:"font-bold "+(Y.isDarkMode?"text-teal-400":"text-gray-600")},[v("生成定制应用数据")])," ",v("，确定要继续吗？")]),!e&&u("p",null,[v("关闭")," ",u("span",{class:"font-bold "+(Y.isDarkMode?"text-teal-400":"text-gray-600")},[v("深度定制模式")])," ",v("后，模块会以更符合大多数人的设备整体应用情况")," ",u("span",{class:"font-bold "+(Y.isDarkMode?"text-teal-400":"text-gray-600")},[v("修剪模块应用适配列表")])," ",v("，确定要继续吗？")])]),positiveText:"确定继续",negativeText:"我再想想",onPositiveClick:()=>{t("positiveClick")},onNegativeClick:()=>{a("negativeClick")}})})));if(a){ke.value=!0;const[t]=await b(T());if(t)return ge.create({title:"操作失败",type:"error",preset:"dialog",content:()=>u("p",null,[v("无法移除深度定制模式的配置项，详情请查看日志记录~")]),negativeText:"确定"}),void(ke.value=!1);if(e){const[e]=await b(B());if(e)return ge.create({title:"操作失败",type:"error",preset:"dialog",content:()=>u("p",null,[v("无法切换为深度定制模式，详情请查看日志记录~")]),negativeText:"确定"}),void(ke.value=!1);ae.isDeepPatchMode=!0}else ke.value=!1,ae.isDeepPatchMode=!1;await Y.getAndroidApplicationPackageNameList();const[a,l]=await b(x());a?(ge.create({title:"操作失败",type:"error",preset:"dialog",content:()=>u("p",null,[v("发生异常错误，更新失败了QwQ，详细错误请查看错误日志~")])}),ae.isPatchMode=!ae.isPatchMode,ke.value=!1):(ge.create({title:"操作成功",type:"success",preset:"dialog",content:()=>u("div",null,[e&&u("p",null,[v("好耶w，已成功启用")," ",u("span",{class:"font-bold "+(Y.isDarkMode?"text-teal-400":"text-gray-600")},[v("深度定制模式")])," ",v("，模块将仅根据当前已安装应用")," ",u("span",{class:"font-bold "+(Y.isDarkMode?"text-teal-400":"text-gray-600")},[v("修剪模块应用适配列表")])," ",v("，不再提供")," ",u("span",{class:"font-bold "+(Y.isDarkMode?"text-teal-400":"text-gray-600")},[v("高频应用适配列表")])," ",v("作为兜底，可以进一步解决老机型由于系统优化不佳而导致的卡顿、掉帧等问题，但后续每次更新模块或者安装新的应用后，均需要前往")," ",u("span",{class:"font-bold "+(Y.isDarkMode?"text-teal-400":"text-gray-600")},[v("应用横屏布局")])," ",v("界面重新")," ",u("span",{class:"font-bold "+(Y.isDarkMode?"text-teal-400":"text-gray-600")},[v("生成定制应用数据")])," ",v("。")]),!e&&u("p",null,[v("好耶w，已成功关闭")," ",u("span",{class:"font-bold "+(Y.isDarkMode?"text-teal-400":"text-gray-600")},[v("深度定制模式")])," ",v("，模块会以更符合大多数人的设备整体应用情况")," ",u("span",{class:"font-bold "+(Y.isDarkMode?"text-teal-400":"text-gray-600")},[v("修剪模块应用适配列表")])," ",v("。")])]),negativeText:"确定"}),ke.value=!1,ae.updateMergeRuleList())}})(e)},{checked:()=>"已启用深度定制模式",unchecked:()=>"未启用深度定制模式"})]})]),isShow:()=>Boolean(["tablet","fold"].includes(Y.deviceType))},{title:"模块使用须知",content:()=>u(r("n-switch"),{value:Y.isDisabledOS2InstallModuleTips,disabled:Y.androidTargetSdk&&Y.androidTargetSdk<35,railStyle:Ie,onUpdateValue:e=>de.change(e)},{checked:()=>"禁用模块使用须知",unchecked:()=>"开启模块使用须知"}),isShow:()=>Boolean(Y.MIOSVersion&&Y.MIOSVersion>=2&&Y.androidTargetSdk>=35&&["tablet","fold"].includes(Y.deviceType))},{title:"系统应用横屏优化",content:()=>u(g,null,[u(r("n-switch"),{value:Y.isDisabledOS2SystemAppOptimize,loading:Y.loading,railStyle:Ie,onUpdateValue:e=>oe.change(e)},{checked:()=>"已禁用系统应用横屏优化",unchecked:()=>"已启用系统应用横屏优化"}),u(r("n-alert"),{class:"mt-5",type:"warning","show-icon":!1,bordered:!1},{default:()=>[u("p",null,[v("由于小米「应用横屏布局」BUG，Hyper OS 2 下部分系统应用可无法完全横屏工作，模块可以修复这个问题， 但每次设备重启或修改模块规则，这些系统应用都将被强制重启，该功能默认启用， 如「启用」将代表已接纳并知晓此副作用影响。")]),u("p",null,[v("受此影响的系统应用：")]),u("p",null,[v("超级小爱(com.miui.voiceassist)")]),u("p",null,[v("小米浏览器(com.android.browser)")]),u("p",null,[v("平板/手机管家(com.miui.securitycenter)")])]})]),isShow:()=>Boolean(Y.MIOSVersion&&Y.MIOSVersion>=2&&Y.androidTargetSdk>=35&&["tablet"].includes(Y.deviceType))},{title:"智能IO调度",content:()=>u(g,null,["on"===Y.smartFocusIO?u(r("n-tag"),{type:"success"},{default:()=>[v("已启用智能IO调度")]}):u(r("n-tag"),{type:"info"},{default:()=>[v("已启用系统默认调度")]}),"SM8475"===Y.deviceInfo.socModel&&Y.androidTargetSdk&&Y.androidTargetSdk>=34&&"on"!==Y.smartFocusIO&&["tablet","fold"].includes(Y.deviceType)&&u(r("n-alert"),{class:"mt-5",type:"warning","show-icon":!1,bordered:!1},{default:()=>[u("p",null,[v("您当前未启用「智能IO调度」，由于小米「磁盘IO调度」BUG，骁龙8+Gen1机型存在IO调度异常的问题， 容易导致系统卡顿或者无响应，您可以通过安装「小米平板系统功能补全模块」来启用「智能IO调度」，提升系统IO性能体验。")]),u(r("n-button"),{class:"mt-2",strong:!0,size:"small",secondary:!0,type:"warning",onClick:()=>Me("小米平板系统功能补全模块","https://caiyun.139.com/m/i?135CmUuWuqGsk","magisk")},{default:()=>[v("获取小米平板系统功能补全模块")]})]}),"SM8475"===Y.deviceInfo.socModel&&Y.androidTargetSdk&&Y.androidTargetSdk>=34&&"on"!==Y.smartFocusIO&&["phone"].includes(Y.deviceType)&&u(r("n-alert"),{class:"mt-5",type:"warning","show-icon":!1,bordered:!1},{default:()=>[u("p",null,[v("您当前未启用「智能IO调度」，由于小米「磁盘IO调度」BUG，骁龙8+Gen1机型存在IO调度异常的问题， 容易导致系统卡顿或者无响应，您可以通过安装「小米手机系统功能补全模块」来启用「智能IO调度」，提升系统IO性能体验。")]),u(r("n-button"),{class:"mt-2",strong:!0,size:"small",secondary:!0,type:"warning",onClick:()=>Me("小米手机系统功能补全模块","https://caiyun.139.com/m/i?135CmOdNLkQeu","magisk")},{default:()=>[v("获取小米平板系统功能补全模块")]})]})]),isShow:()=>Boolean("SM8475"===Y.deviceInfo.socModel&&Y.androidTargetSdk&&Y.androidTargetSdk>=34&&"on"!==Y.smartFocusIO&&["phone"].includes(Y.deviceType))},{title:"ZRAM Writeback",content:()=>u(g,null,[u("div",{class:"mb-3"},[u(r("n-tag"),null,{default:()=>[v("dm设备映射器: "),ie.miuiExtmDmOptEnable.value?"启用":"未启用"]})]),u("div",{class:"mb-3"},[u(r("n-tag"),{type:"error"},{default:()=>[v("回写块: "),ie.backingDev.value]})]),u("div",{class:"mb-3"},[u(r("n-tag"),{type:"success"},{default:()=>[v("已回写: "),ie.hasWriteBack.value,v(" MB")]})]),u("div",{class:"mb-3"},[u(r("n-tag"),{type:"info"},{default:()=>[v("总读取: "),ie.totalRead.value,v(" MB")]})]),u("div",null,[u(r("n-tag"),{type:"warning"},{default:()=>[v("总回写: "),ie.totalWriteBack.value,v(" MB")]})]),u(r("n-alert"),{class:"mt-5",type:"warning","show-icon":!1,bordered:!1},{default:()=>[u("p",null,[v("通常用于将设备上的冷数据压缩并迁移到磁盘上，是基于「内存扩展」的回写块， 该功能依赖「内存扩展」，请确保已经开启「内存扩展」，总回写可以大于「内存扩展」， 初始状态下显示 0 MB是正常现象，请持续使用一段时间再观察是否有变化")])]})]),isShow:()=>Boolean(Y.MIOSVersion&&Y.MIOSVersion>=2&&Y.androidTargetSdk>=35&&ie.isInit.value&&["tablet","fold"].includes(Y.deviceType))},{title:"设备名称",content:()=>u(g,null,[Y.deviceName||""]),isShow:()=>Boolean(Y.deviceName)},{title:"ROOT管理器",content:()=>u(g,null,[Y.currentRootManager||"获取失败"])},{title:"KernelSU 版本",content:()=>u(g,null,[Y.rootManagerInfo.KSU_VER||"获取失败"]),isShow:()=>Boolean("KernelSU"===Y.currentRootManager)},{title:"KernelSU 用户空间版本号",content:()=>u(g,null,[Y.rootManagerInfo.KSU_VER_CODE||"获取失败"]),isShow:()=>Boolean("KernelSU"===Y.currentRootManager)},{title:"KernelSU 内核空间版本号",content:()=>u(g,null,[Y.rootManagerInfo.KSU_KERNEL_VER_CODE||"获取失败"]),isShow:()=>Boolean("KernelSU"===Y.currentRootManager)},{title:"APatch 版本名",content:()=>u(g,null,[Y.rootManagerInfo.APATCH_VER||"获取失败"]),isShow:()=>Boolean("APatch"===Y.currentRootManager)},{title:"APatch 版本号",content:()=>u(g,null,[Y.rootManagerInfo.APATCH_VER_CODE||"获取失败"]),isShow:()=>Boolean("APatch"===Y.currentRootManager)},{title:"Magisk 版本",content:()=>u(g,null,[Y.rootManagerInfo.MAGISK_VER||"获取失败"]),isShow:()=>Boolean("Magisk"===Y.currentRootManager)},{title:"Magisk 版本号",content:()=>u(g,null,[Y.rootManagerInfo.MAGISK_VER_CODE||"获取失败"]),isShow:()=>Boolean("Magisk"===Y.currentRootManager)},{title:"外观模式",content:()=>u(r("n-dropdown"),{size:"large",trigger:"click",options:fe,onSelect:be},{default:()=>[u(r("n-button"),{size:"small",strong:!0,secondary:!0,type:"autoRhythm"===Y.rhythmMode?"error":"success"},{default:()=>["autoRhythm"===Y.rhythmMode?"跟随系统":"lightMode"===Y.rhythmMode?"浅色模式":"dartMode"===Y.rhythmMode?"深色模式":""]})]})},{title:"应用字体",content:()=>u(r("n-dropdown"),{size:"large",trigger:"click",options:me.value,onSelect:e=>(e=>{ve.currentFont=e})(e)},{default:()=>{var e;return[u(r("n-button"),{size:"small",strong:!0,secondary:!0,type:(null==(e=he.value[ve.currentFont])?void 0:e.type)??"info"},{default:()=>[ve.currentFont]})]}})},{title:"激活口令",content:()=>u(r("n-button"),{size:"small",type:"warning",secondary:!0,loading:Y.loading||re.value,onClick:()=>(async()=>{const e=JSON.stringify({GAME_BOOSTER_CUSTOM_RATIO:!0}),t=Q.deflate(e,{level:9,memLevel:9,windowBits:15}),a=new Uint8Array(t),l=G(a);console.log(l,"base64String"),Se.value="";const[n,o]=await b(new Promise(((e,t)=>{ge.create({title:"请粘贴激活口令",preset:"dialog",style:"min-width:500px; width:50%;",class:"responsive-modal",content:()=>S(_,{type:"textarea",value:Se.value,"onUpdate:value":e=>{Se.value=e},autosize:{minRows:8,maxRows:8},placeholder:"在此处粘贴激活口令"}),positiveText:"确定提交",negativeText:"取消",onPositiveClick(){e("positiveClick")}})})));if(o){re.value=!0;const e=Se.value,t=w(e);if(!(null==t?void 0:t.length))return ge.create({title:"导入激活口令失败",type:"error",preset:"dialog",content:()=>u("p",null,[v("导入激活口令失败了QwQ，解析口令发生错误，无法正常解析。")]),negativeText:"确定"}),void(re.value=!1);try{const e=N(t),a=Q.inflate(e,{to:"string"}),l=JSON.parse(a);se(l)}catch(i){ge.create({title:"解析激活口令失败",type:"error",preset:"dialog",content:()=>u("p",null,[v("解析激活口令失败了QwQ，请检查激活口令是否有误")]),negativeText:"确定"}),re.value=!1}}})()},{icon:()=>u(r("n-icon"),null,{default:()=>[u(H,null,null)]}),default:()=>"导入激活口令"})},{title:"游戏显示布局",content:()=>u(r("n-switch"),{"onUpdate:value":e=>ye.changeGameMode(e),value:ye.isSupportGameMode.value,"rail-style":Ie,disabled:"tablet"!==Y.deviceType||Y.androidTargetSdk&&Y.androidTargetSdk<32},{checked:()=>u(g,null,[v("已开启游戏显示布局")]),unchecked:()=>u(g,null,[Y.androidTargetSdk&&Y.androidTargetSdk<32?"不支持游戏显示布局":"未开启游戏显示布局"])}),isShow:()=>Boolean(["tablet"].includes(Y.deviceType)&&Y.androidTargetSdk&&Y.androidTargetSdk>32)},{title:"手势提示线（小白条）",content:()=>u(g,null,[ne.isInit.value?u(r("n-switch"),{"onUpdate:value":e=>ne.changeIsHideGestureLine(e),"rail-style":Ie,value:1===ne.currentIsHideGestureLine.value},{checked:()=>u(g,null,[v("隐藏手势提示线")]),unchecked:()=>u(g,null,[v("显示手势提示线")])}):u(r("n-skeleton"),{width:137,sharp:!1,round:!0,size:"small"},null)]),isShow:()=>Boolean("tablet"===Y.deviceType&&Y.MIOSVersion&&Y.MIOSVersion>=2)},{title:"Xiaomi Hyper OS 版本号",content:()=>u(g,null,[""+(Y.MIOSVersion?`Xiaomi\n\t\t\t\t\t\t\tHyper OS ${Y.MIOSVersion}`:"当前为MIUI")]),isShow:()=>Boolean(Y.MIOSVersion)},{title:"系统版本",content:()=>u(g,null,[Y.systemVersion||""]),isShow:()=>Boolean(Y.systemVersion)},{title:"上次更新的系统版本",content:()=>u(g,null,[Y.systemPreVersion||""]),isShow:()=>Boolean(Y.systemPreVersion)},{title:"Android Target Version",content:()=>u(g,null,[Y.androidTargetSdk||"非Android设备环境"])},{title:"设备类型",content:()=>u(g,null,["tablet"===Y.deviceType?"平板(Pad)":"fold"===Y.deviceType?"折叠屏(Fold)":"手机(Phone)"])},{title:"设备Soc类型",content:()=>u(g,null,[Y.deviceInfo.socModel||"获取失败"]),isShow:()=>Boolean(Y.deviceInfo.socModel)},{title:"设备Soc名称",content:()=>u(g,null,[Y.deviceInfo.socName||"获取失败"]),isShow:()=>Boolean(Y.deviceInfo.socName)},{title:"设备显示器信息(display0)",content:()=>u(g,null,[Y.deviceInfo.display0Panel]),isShow:()=>Boolean(Y.deviceInfo.display0Panel)},{title:"设备DDR和UFS信息",content:()=>u("div",{class:"whitespace-pre"},[Y.deviceInfo.memoryInfo??"获取失败"]),isShow:()=>Boolean(Y.deviceInfo.memoryInfo&&["tablet","fold"].includes(Y.deviceType))},{title:"设备DDR生产厂商",content:()=>u("div",{class:"whitespace-pre"},[Y.DDRVendor??"获取失败"]),isShow:()=>Boolean(Y.DDRVendor&&["tablet","fold"].includes(Y.deviceType))},{title:"UFS 存储健康",content:()=>u(g,null,[u("div",{class:"mb-3"},[ce.correctedPreEOLStatus.value&&u("div",{class:"mb-3"},[u(r("n-tag"),{type:"info"},{default:()=>[v("寿命阶段: "),ce.correctedPreEOLStatus.value]})]),ce.deviceLifeTimeEstA.value&&u("div",{class:"mb-3"},[u(r("n-tag"),{type:"success"},{default:()=>[v("用户数据区(已磨损): "),ce.deviceLifeTimeEstA.value]})]),ce.deviceLifeTimeEstB.value&&u("div",{class:"mb-3"},[u(r("n-tag"),{type:"warning"},{default:()=>[v("高速缓存区(已磨损): "),ce.deviceLifeTimeEstB.value]})])]),u(r("n-alert"),{class:"mt-5",type:"info","show-icon":!1,bordered:!1},{default:()=>[u("p",null,[v("数据仅供参考，通常仅代表当前 UFS 存储设备循环擦写次数与预期设计寿命的比值，不代表 UFS 存储设备的实际磨损状况，但仍然建议当前 UFS 存储设备接近预期设计寿命时选择更换存储设备。")])]})]),isShow:()=>Boolean(ce.isShow.value&&["tablet","fold"].includes(Y.deviceType))},{title:"真实电量（高通）",content:()=>u(g,null,[u("p",null,[`${le.qcomBatteryFg1RSocInfo.current} %`,u(r("n-button"),{class:"ml-1",strong:!0,secondary:!0,size:"small",type:"success",onClick:()=>le.qcomBatteryFg1RSocInfo.reload()},{default:()=>[v("手动刷新")]}),u(r("n-switch"),{class:"ml-2",value:le.qcomBatteryFg1RSocInfo.autoReload,"onUpdate:value":e=>le.qcomBatteryFg1RSocInfo.autoReload=e,"rail-style":Ie},{checked:()=>"开启自动刷新",unchecked:()=>"未开启自动刷新"})]),le.qcomBatteryFg1RSocInfo.autoReload&&u("div",null,[u("p",{class:"my-2"},[v("隔多少秒刷新一次")]),u("p",null,[u(r("n-slider"),{value:le.qcomBatteryFg1RSocInfo.timer,"onUpdate:value":e=>le.qcomBatteryFg1RSocInfo.timer=e,size:"small",min:1,max:30,step:1},null),u(r("n-input-number"),{"show-button":!1,class:"pt-3",readonly:!0,placeholder:"请输入刷新频率间隔时间",value:le.qcomBatteryFg1RSocInfo.timer,"onUpdate:value":e=>le.qcomBatteryFg1RSocInfo.timer=e,min:0,max:30,step:1},null)])])]),isShow:()=>Boolean(le.qcomBatteryFg1RSocInfo.current&&["tablet","fold"].includes(Y.deviceType))},{title:"真实电量",content:()=>u(g,null,[u("p",null,[le.capacityRawInfo.current/100+" %",u(r("n-button"),{class:"ml-1",strong:!0,secondary:!0,size:"small",type:"success",onClick:()=>le.capacityRawInfo.reload()},{default:()=>[v("手动刷新")]}),u(r("n-switch"),{class:"ml-2",value:le.capacityRawInfo.autoReload,"onUpdate:value":e=>le.capacityRawInfo.autoReload=e,"rail-style":Ie},{checked:()=>"开启自动刷新",unchecked:()=>"未开启自动刷新"})]),le.capacityRawInfo.autoReload&&u("div",null,[u("p",{class:"my-2"},[v("隔多少秒刷新一次")]),u("p",null,[u(r("n-slider"),{value:le.capacityRawInfo.timer,"onUpdate:value":e=>le.capacityRawInfo.timer=e,size:"small",min:1,max:30,step:1},null),u(r("n-input-number"),{"show-button":!1,class:"pt-3",readonly:!0,placeholder:"请输入刷新频率间隔时间",value:le.capacityRawInfo.timer,"onUpdate:value":e=>le.capacityRawInfo.timer=e,min:0,max:30,step:1},null)])])]),isShow:()=>Boolean(le.capacityRawInfo.current&&["tablet","fold"].includes(Y.deviceType))},{title:"电池出厂设计容量",content:()=>u("p",null,[Y.batteryInfo.chargeFullDesign/1e3+" mAh"]),isShow:()=>Boolean(Y.batteryInfo.chargeFullDesign&&["tablet","fold"].includes(Y.deviceType))},{title:"电池当前预估容量",content:()=>u("p",null,[Y.batteryInfo.chargeFull/1e3+" mAh"]),isShow:()=>Boolean(Y.batteryInfo.chargeFull&&["tablet","fold"].includes(Y.deviceType))},{title:"电池循环充电次数",content:()=>u("p",null,[`${Y.batteryInfo.cycleCount} 次`]),isShow:()=>Boolean(Y.batteryInfo.cycleCount&&["tablet","fold"].includes(Y.deviceType))},{title:"电池预估健康度",content:()=>u("p",null,[`${(Y.batteryInfo.chargeFull/Y.batteryInfo.chargeFullDesign*100).toFixed(2)} %`]),isShow:()=>Boolean(Y.batteryInfo.chargeFullDesign&&Y.batteryInfo.chargeFull&&["tablet","fold"].includes(Y.deviceType))},{title:"电池售后健康度（高通）",content:()=>u(g,null,[u("p",null,[`${Y.batteryInfo.sohQcom} %`]),u("p",null,[`≈ ${Math.round(Y.batteryInfo.chargeFullDesign*(Y.batteryInfo.sohQcom/100)/1e3)} mAh`]),u(r("n-alert"),{class:"mt-5",type:"info","show-icon":!1,bordered:!1},{default:()=>[u("p",null,[v("在设备保修期内健康度低于80%可以申请电池质保")])]})]),isShow:()=>Boolean(Y.batteryInfo.sohQcom&&["tablet","fold"].includes(Y.deviceType))},{title:"电池售后健康度",content:()=>u(g,null,[u("p",null,[`${Y.batteryInfo.sohMTK} %`]),u("p",null,[`≈ ${Math.round(Y.batteryInfo.chargeFullDesign*(Y.batteryInfo.sohMTK/100)/1e3)} mAh`]),u(r("n-alert"),{class:"mt-5",type:"info","show-icon":!1,bordered:!1},{default:()=>[u("p",null,[v("在设备保修期内健康度低于80%可以申请电池质保")])]})]),isShow:()=>Boolean(Y.batteryInfo.sohMTK&&["tablet","fold"].includes(Y.deviceType))},{title:"电池售后健康度（小米）",content:()=>u(g,null,[u("p",null,[`${Y.batteryInfo.sohXMPower} %`]),u("p",null,[`≈ ${Math.round(Y.batteryInfo.chargeFullDesign*(Y.batteryInfo.sohXMPower/100)/1e3)} mAh`]),u(r("n-alert"),{class:"mt-5",type:"info","show-icon":!1,bordered:!1},{default:()=>[u("p",null,[v("在设备保修期内健康度低于80%可以申请电池质保")])]})]),isShow:()=>Boolean(Y.batteryInfo.sohXMPower&&["tablet","fold"].includes(Y.deviceType))}],Te=s((()=>{const e=ee.value.trim().toLowerCase();return xe.filter((t=>!(t.isShow&&!t.isShow())&&(!e||t.title.toLowerCase().includes(e))))}));return(l,n)=>{const o=r("n-icon"),i=r("n-button"),s=r("n-input-group"),b=r("n-card");return e(),t("div",X,[a("div",W,[a("div",J,[n[3]||(n[3]=a("h3",{class:d("text-base font-semibold leading-7")},[a("span",{class:"animated-bg bg-clip-text font-semibold text-transparent",style:{"background-image":"linear-gradient(\r\n\t\t\t\t\t\t\t\t101.22deg,\r\n\t\t\t\t\t\t\t\trgb(255, 182, 133) -18.32%,\r\n\t\t\t\t\t\t\t\trgb(255, 111, 29) 7.01%,\r\n\t\t\t\t\t\t\t\trgb(252, 181, 232) 41.59%,\r\n\t\t\t\t\t\t\t\trgb(135, 148, 255) 70.98%,\r\n\t\t\t\t\t\t\t\trgb(60, 112, 255) 91.35%,\r\n\t\t\t\t\t\t\t\trgb(60, 112, 255) 110.17%\r\n\t\t\t\t\t\t\t)"}},"模块设置")],-1)),a("p",{class:d("mt-1 max-w-2xl text-sm leading-6 "+(c(Y).isDarkMode?"text-gray-300":"text-gray-500"))}," 模块设置，让功能在自定义中完美契合。 ",2)]),u(b,{size:"small",class:"mt-5"},{default:p((()=>[a("div",Z,[u(s,null,{default:p((()=>[u(c(_),{size:"large",clearable:"",value:ee.value,"onUpdate:value":n[0]||(n[0]=e=>ee.value=e),ref_key:"searchKeyWordInput",ref:te,placeholder:"搜索设置名称",class:"w-4/5"},null,8,["value"]),u(i,{size:"large",type:"primary",onClick:n[1]||(n[1]=()=>{var e;null==(e=te.value)||e.blur()})},{icon:p((()=>[u(o,null,{default:p((()=>[u(c($))])),_:1})])),default:p((()=>[n[4]||(n[4]=a("span",{class:"hidden sm:inline-block"},"搜索",-1))])),_:1}),u(i,{size:"large",bordered:"",onClick:n[2]||(n[2]=()=>{ee.value=""})},{icon:p((()=>[u(o,null,{default:p((()=>[u(c(q))])),_:1})])),default:p((()=>[n[5]||(n[5]=a("span",{class:"hidden sm:inline-block"},"清空",-1))])),_:1})])),_:1})])])),_:1}),a("div",{class:d("mt-3 border-t "+(c(Y).isDarkMode?"divide-sothx-gray-color border-sothx-gray-color":"divide-gray-200 border-gray-200"))},[a("dl",{class:d("divide-y "+(c(Y).isDarkMode?"divide-sothx-gray-color":"divide-gray-200"))},[(e(!0),t(g,null,y(Te.value,((l,n)=>(e(),t("div",{key:n,class:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},[a("dt",{class:d("text-sm font-medium leading-6 "+(c(Y).isDarkMode?"text-white":"text-gray-900"))},[v(f(l.title)+" ",1),l.titleSlot?(e(),m(c(K),{key:0,content:l.titleSlot&&l.titleSlot()},null,8,["content"])):h("",!0)],2),a("dd",{class:d(`mt-1 text-sm leading-6 ${c(Y).isDarkMode?"text-gray-300":"text-gray-700"} sm:col-span-2 sm:mt-0`)},[l.content?(e(),m(c(K),{key:0,content:l.content&&l.content()},null,8,["content"])):h("",!0)],2)])))),128))],2)],2)])])}}});export{Y as default};
