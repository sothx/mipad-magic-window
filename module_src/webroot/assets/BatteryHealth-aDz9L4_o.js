import{d as t,L as e,r as a,b as l,V as o,b9 as n,ba as s,bb as r,bj as c,bh as i,J as u,be as d,F as m,cG as p,c as y,bf as f,bg as g,bi as h}from"./apis-CmgvsQN2.js";import{ax as b,x as I,y as w,z as v,U as x}from"./hooks-CrIX8USp.js";import{R}from"./RenderJSX-QrenfHZJ.js";import{r as S,a as k}from"./XCircleIcon-IvQXSGhY.js";import"./lodash-CIZQSGu2.js";const F={class:"batteryHealth"},B={class:"mt-3"},M={class:"px-3 sm:px-0"},D={class:"flex"},_=t({__name:"BatteryHealth",setup(t){const _=e(),q=b(),z=a(""),$=a(null),C=l(()=>({theme:_.isDarkMode?I:w})),{message:U,modal:j}=v(["message","modal"],{configProviderProps:C}),A=({focused:t,checked:e})=>{const a={};return e?(a.background="#d03050",t&&(a.boxShadow="0 0 0 2px #d0305040")):(a.background="#2080f0",t&&(a.boxShadow="0 0 0 2px #2080f040")),a},P=[{title:"真实电量（高通）",content:()=>o(m,null,[o("p",null,[`${q.qcomBatteryFg1RSocInfo.current} %`,o(n("n-button"),{class:"ml-1",strong:!0,secondary:!0,size:"small",type:"success",onClick:()=>q.qcomBatteryFg1RSocInfo.reload()},{default:()=>[y("手动刷新")]}),o(n("n-switch"),{class:"ml-2",value:q.qcomBatteryFg1RSocInfo.autoReload,"onUpdate:value":t=>q.qcomBatteryFg1RSocInfo.autoReload=t,"rail-style":A},{checked:()=>"开启自动刷新",unchecked:()=>"未开启自动刷新"})]),q.qcomBatteryFg1RSocInfo.autoReload&&o("div",null,[o("p",{class:"my-2"},[y("隔多少秒刷新一次")]),o("p",null,[o(n("n-slider"),{value:q.qcomBatteryFg1RSocInfo.timer,"onUpdate:value":t=>q.qcomBatteryFg1RSocInfo.timer=t,size:"small",min:1,max:30,step:1},null),o(n("n-input-number"),{"show-button":!1,class:"pt-3",readonly:!0,placeholder:"请输入刷新频率间隔时间",value:q.qcomBatteryFg1RSocInfo.timer,"onUpdate:value":t=>q.qcomBatteryFg1RSocInfo.timer=t,min:0,max:30,step:1},null)])])]),isShow:()=>Boolean(q.qcomBatteryFg1RSocInfo.current)},{title:"真实电量",content:()=>o(m,null,[o("p",null,[q.capacityRawInfo.current/100+" %",o(n("n-button"),{class:"ml-1",strong:!0,secondary:!0,size:"small",type:"success",onClick:()=>q.capacityRawInfo.reload()},{default:()=>[y("手动刷新")]}),o(n("n-switch"),{class:"ml-2",value:q.capacityRawInfo.autoReload,"onUpdate:value":t=>q.capacityRawInfo.autoReload=t,"rail-style":A},{checked:()=>"开启自动刷新",unchecked:()=>"未开启自动刷新"})]),q.capacityRawInfo.autoReload&&o("div",null,[o("p",{class:"my-2"},[y("隔多少秒刷新一次")]),o("p",null,[o(n("n-slider"),{value:q.capacityRawInfo.timer,"onUpdate:value":t=>q.capacityRawInfo.timer=t,size:"small",min:1,max:30,step:1},null),o(n("n-input-number"),{"show-button":!1,class:"pt-3",readonly:!0,placeholder:"请输入刷新频率间隔时间",value:q.capacityRawInfo.timer,"onUpdate:value":t=>q.capacityRawInfo.timer=t,min:0,max:30,step:1},null)])])]),isShow:()=>Boolean(q.capacityRawInfo.current)},{title:"电池出厂设计容量",content:()=>o("p",null,[_.batteryInfo.chargeFullDesign/1e3+" mAh"]),isShow:()=>Boolean(_.batteryInfo.chargeFullDesign)},{title:"电池当前预估容量",content:()=>o("p",null,[_.batteryInfo.chargeFull/1e3+" mAh"]),isShow:()=>Boolean(_.batteryInfo.chargeFull)},{title:"电池循环充电次数",content:()=>o("p",null,[`${_.batteryInfo.cycleCount} 次`]),isShow:()=>Boolean(_.batteryInfo.cycleCount)},{title:"电池预估健康度",content:()=>o("p",null,[`${(_.batteryInfo.chargeFull/_.batteryInfo.chargeFullDesign*100).toFixed(2)} %`]),isShow:()=>Boolean(_.batteryInfo.chargeFullDesign&&_.batteryInfo.chargeFull)},{title:"电池售后健康度（高通）",content:()=>o(m,null,[o("p",null,[`${_.batteryInfo.sohQcom} %`]),o("p",null,[`≈ ${Math.round(_.batteryInfo.chargeFullDesign*(_.batteryInfo.sohQcom/100)/1e3)} mAh`]),o(n("n-alert"),{class:"mt-5",type:"info","show-icon":!1,bordered:!1},{default:()=>[o("p",null,[y("在设备保修期内健康度低于80%可以申请电池质保")])]})]),isShow:()=>Boolean(_.batteryInfo.sohQcom)},{title:"电池售后健康度",content:()=>o(m,null,[o("p",null,[`${_.batteryInfo.sohMTK} %`]),o("p",null,[`≈ ${Math.round(_.batteryInfo.chargeFullDesign*(_.batteryInfo.sohMTK/100)/1e3)} mAh`]),o(n("n-alert"),{class:"mt-5",type:"info","show-icon":!1,bordered:!1},{default:()=>[o("p",null,[y("在设备保修期内健康度低于80%可以申请电池质保")])]})]),isShow:()=>Boolean(_.batteryInfo.sohMTK)},{title:"电池售后健康度（小米）",content:()=>o(m,null,[o("p",null,[`${_.batteryInfo.sohXMPower} %`]),o("p",null,[`≈ ${Math.round(_.batteryInfo.chargeFullDesign*(_.batteryInfo.sohXMPower/100)/1e3)} mAh`]),o(n("n-alert"),{class:"mt-5",type:"info","show-icon":!1,bordered:!1},{default:()=>[o("p",null,[y("在设备保修期内健康度低于80%可以申请电池质保")])]})]),isShow:()=>Boolean(_.batteryInfo.sohXMPower)}],X=l(()=>{const t=z.value.trim().toLowerCase();return P.filter(e=>!(e.isShow&&!e.isShow())&&(!t||e.title.toLowerCase().includes(t)))});return(t,e)=>{const a=n("n-icon"),l=n("n-button"),b=n("n-input-group"),I=n("n-card");return r(),s("div",F,[c("div",B,[c("div",M,[e[3]||(e[3]=c("h3",{class:i("text-base font-semibold leading-7")},[c("span",{class:"animated-bg bg-clip-text font-semibold text-transparent",style:{"background-image":"linear-gradient(\r\n\t\t\t\t\t\t\t\t101.22deg,\r\n\t\t\t\t\t\t\t\trgb(255, 182, 133) -18.32%,\r\n\t\t\t\t\t\t\t\trgb(255, 111, 29) 7.01%,\r\n\t\t\t\t\t\t\t\trgb(252, 181, 232) 41.59%,\r\n\t\t\t\t\t\t\t\trgb(135, 148, 255) 70.98%,\r\n\t\t\t\t\t\t\t\trgb(60, 112, 255) 91.35%,\r\n\t\t\t\t\t\t\t\trgb(60, 112, 255) 110.17%\r\n\t\t\t\t\t\t\t)"}},"电池健康")],-1)),c("p",{class:i("mt-1 max-w-2xl text-sm leading-6 "+(u(_).isDarkMode?"text-gray-300":"text-gray-500"))}," 电池健康，提供电池健康状态监测。 ",2)]),o(I,{size:"small",class:"mt-5"},{default:d(()=>[c("div",D,[o(b,null,{default:d(()=>[o(u(x),{size:"large",clearable:"",value:z.value,"onUpdate:value":e[0]||(e[0]=t=>z.value=t),ref_key:"searchKeyWordInput",ref:$,placeholder:"搜索功能名称",class:"w-4/5"},null,8,["value"]),o(l,{size:"large",type:"primary",onClick:e[1]||(e[1]=()=>{$.value?.blur()})},{icon:d(()=>[o(a,null,{default:d(()=>[o(u(S))]),_:1})]),default:d(()=>[e[4]||(e[4]=c("span",{class:"hidden sm:inline-block"},"搜索",-1))]),_:1,__:[4]}),o(l,{size:"large",bordered:"",onClick:e[2]||(e[2]=()=>{z.value=""})},{icon:d(()=>[o(a,null,{default:d(()=>[o(u(k))]),_:1})]),default:d(()=>[e[5]||(e[5]=c("span",{class:"hidden sm:inline-block"},"清空",-1))]),_:1,__:[5]})]),_:1})])]),_:1}),c("div",{class:i("mt-3 border-t "+(u(_).isDarkMode?"divide-sothx-gray-color border-sothx-gray-color":"divide-gray-200 border-gray-200"))},[c("dl",{class:i("divide-y "+(u(_).isDarkMode?"divide-sothx-gray-color":"divide-gray-200"))},[(r(!0),s(m,null,p(X.value,(t,e)=>(r(),s("div",{key:e,class:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},[c("dt",{class:i("text-sm font-medium leading-6 "+(u(_).isDarkMode?"text-white":"text-gray-900"))},[y(h(t.title)+" ",1),t.titleSlot?(r(),f(u(R),{key:0,content:t.titleSlot&&t.titleSlot()},null,8,["content"])):g("",!0)],2),c("dd",{class:i(`mt-1 text-sm leading-6 ${u(_).isDarkMode?"text-gray-300":"text-gray-700"} sm:col-span-2 sm:mt-0`)},[t.content?(r(),f(u(R),{key:0,content:t.content&&t.content()},null,8,["content"])):g("",!0)],2)]))),128))],2)],2)])])}}});export{_ as default};
