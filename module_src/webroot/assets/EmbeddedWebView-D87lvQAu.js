import{a as e,c as s}from"./index-CInLsUS0.js";import{d as o,r as a,o as r,w as t,e as n,b9 as i,bf as l,bb as u,be as c,bj as d}from"./apis-B57emkK9.js";import"./iconfont-CKH9wMaD.js";import"./hooks-BlfS49Vq.js";import"./lodash-CIZQSGu2.js";import"./pako-__J333JV.js";const v={class:"webview-container"},m=["src"],f=s(o({__name:"EmbeddedWebView",setup(s){const o=e(),f=a(o.query.url),b=a(null),p=()=>{console.log("网页加载完成"),j.value=!1,w()},w=()=>{if(b.value){const e=b.value.contentDocument||b.value.contentWindow?.document;if(e){const s=e.body.scrollHeight;b.value.style.height=`${s}px`}}},h=()=>{w()};r(()=>{window.addEventListener("resize",h)}),t(()=>o.query.url,e=>{f.value=e,b.value&&(b.value.src=f.value)});const j=a(!0);return n(()=>{window.removeEventListener("resize",h)}),(e,s)=>{const o=i("n-spin");return u(),l(o,{show:j.value},{default:c(()=>[d("div",v,[d("iframe",{ref_key:"iframeRef",ref:b,src:f.value,frameborder:"0",class:"webview",onLoad:p},null,40,m)])]),_:1},8,["show"])}}}),[["__scopeId","data-v-b5337083"]]);export{f as default};
