import{_ as e}from"./all_app-D39sbeUz.js";import{_ as t}from"./ai_icon-DLM4MVGS.js";import{_ as a}from"./qq_doc-CyffnODM.js";import{ai as i,aj as l,at as o,D as n,r as s,u as d,ae as r,L as c,c as p,ah as u,ak as m,al as v,am as g,a as y,an as f,b,aq as k,ar as S,as as x,ap as M,F as h,t as w,bx as O,by as A,C as T,H as P,v as D,o as C,A as I,ao as V,bz as R,bA as _,bB as N,bC as z,bD as L,bE as E,bF as F,bG as U,bH as B,bI as Q,bJ as j,bf as W}from"./apis-BmBo8D1k.js";import{p as $}from"./pako-DsGp7kFX.js";import{u as H,_ as G}from"./index-EBL9rCLF.js";import{y as q,x as J,z as K,B as Y,C as Z,D as X}from"./hooks-V1q5q3ik.js";import{c as ee,d as te,l as ae,B as ie,W as le,R as oe,n as ne,f as se}from"./naive-ui-CGQ9m12R.js";import{a as de,b as re}from"./format-D_OGebxR.js";import{r as ce,a as pe,b as ue,c as me}from"./XCircleIcon-BQG37sRc.js";import{r as ve,a as ge,b as ye,c as fe,d as be}from"./FunnelIcon-flxvovQ2.js";import{r as ke}from"./ShareIcon-V8DW9P0L.js";import{r as Se}from"./QuestionMarkCircleIcon-gPQByFSM.js";import{r as xe}from"./Cog6ToothIcon-DjJ3aBwx.js";import{i as Me}from"./lodash-DMrPhC4V.js";import"./iconfont-C4xyYXsr.js";function he(e,t){return i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m7.848 8.25 1.536.887M7.848 8.25a3 3 0 1 1-5.196-3 3 3 0 0 1 5.196 3Zm1.536.887a2.165 2.165 0 0 1 1.083 1.839c.005.351.054.695.14 1.024M9.384 9.137l2.077 1.199M7.848 15.75l1.536-.887m-1.536.887a3 3 0 1 1-5.196 3 3 3 0 0 1 5.196-3Zm1.536-.887a2.165 2.165 0 0 0 1.083-1.838c.005-.352.054-.695.14-1.025m-1.223 2.863 2.077-1.199m0-3.328a4.323 4.323 0 0 1 2.068-1.379l5.325-1.628a4.5 4.5 0 0 1 2.48-.044l.803.215-7.794 4.5m-2.882-1.664A4.33 4.33 0 0 0 10.607 12m3.736 0 7.794 4.5-.802.215a4.5 4.5 0 0 1-2.48-.043l-5.326-1.629a4.324 4.324 0 0 1-2.068-1.379M14.343 12l-2.882 1.664"})])}function we(e,t){return i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z","clip-rule":"evenodd"})])}const Oe={class:"mb-4"},Ae={class:"mb-4"},Te={class:"mb-4"},Pe={class:"mb-4"},De={class:"mb-4"},Ce={class:"mb-4"},Ie={class:"mb-4"},Ve={class:"mb-4"},Re={class:"mb-4"},_e=n({__name:"EmbeddedAppDrawer",props:{type:{},title:{}},emits:["submit"],setup(e,{expose:t,emit:a}){const n=s(null),O=e,A=s(!1),T=d(),P=r(),D=c(),C=p((()=>({theme:T.isDarkMode?te:ae}))),{message:I,modal:V}=ee(["message","modal"],{configProviderProps:C});let R,_;const N=[{label:"强制应用所有界面横屏[nra:cr:rcr:nr]",key:"fullScreen_nra:cr:rcr:nr",rule:"nra:cr:rcr:nr"},{label:"继承应用自身设置横屏[*]",key:"fullScreen_*",rule:"*"},{label:"自定义",key:"fullScreen_custom"}],z=p((()=>{const e=[{label:"默认横屏规则",key:"fullScreen_default",rule:""}];return T.MIOSVersion&&T.MIOSVersion>=2&&T.androidTargetSdk>=35?[...e,...N]:N})),L=[{label:"大尺寸[11:10]",key:"ratio_11_10",ratio:1.1},{label:"中尺寸",key:"ratio_default"},{label:"小尺寸[15:10]",key:"ratio_15_10",ratio:1.5},{label:"小尺寸[18:10]",key:"ratio_18:10",ratio:1.8},{label:"自定义",key:"ratio_custom"}],E=s(z.value[0]),F=s(),U=s(!0),B=s(),Q=s(),j=s(L[1]),W=s(),$=s(.5),H=s(!1),G=s(!1),J=s([]),K=e=>{const t=document.querySelector(".n-drawer-content");t instanceof HTMLElement&&(D.info("resizeDrawerContent",e),t.style.height=e?"calc(100% + 200px)":"100%")},Y=s({openDrawer:e=>new Promise(((t,a)=>{var i,l,o,n,s,d,r;if("update"===O.type&&!e)return a(new Error("更新模式下必须传入初始化参数")),void I.error("初始化参数不能为空");R=t,_=a,"add"===O.type&&(Q.value="add",E.value=z.value[0],ue.value="",F.value=T.MIOSVersion&&T.MIOSVersion>=2&&T.androidTargetSdk>=35?"":"nra:cr:rcr:nr",J.value=["fullScreen","fixedOrientation","disabled"],de.value=!1,re.value=!1,H.value=!1,ce.value=!1,pe.value=!1),"update"===O.type&&e&&(Q.value="update",G.value=!1,$.value=.5,pe.value=!1,B.value=e.ruleMode,ue.value=e.name,ve.value=e.isSupportEmbedded,e.embeddedRules&&e.embeddedRules.hasOwnProperty("splitRatio")&&($.value=e.embeddedRules.splitRatio??.5),e.embeddedRules&&e.embeddedRules.hasOwnProperty("relaunch")?de.value=!!e.embeddedRules.relaunch:de.value=!0,e.embeddedRules&&e.embeddedRules.hasOwnProperty("placeholder")?ce.value=!!e.embeddedRules.placeholder:ce.value=!1,le.value=e.settingMode,T.MIOSVersion&&T.MIOSVersion>=2&&T.androidTargetSdk>=35&&(ne.value=e.thirdPartyAppOptimize??!1),(!T.MIOSVersion||T.MIOSVersion&&T.MIOSVersion<2||T.androidTargetSdk<35)&&(oe.value=(null==(i=e.fixedOrientationRule)?void 0:i.disable)??!1),se.value=(null==(l=e.fixedOrientationRule)?void 0:l.isShowDivider)??!1,U.value=(null==(o=e.fixedOrientationRule)?void 0:o.supportFullSize)??!1,F.value=(null==(n=e.embeddedRules)?void 0:n.fullRule)??void 0,H.value=(null==(d=null==(s=e.fixedOrientationRule)?void 0:s.compatChange)?void 0:d.split(",").includes("OVERRIDE_UNDEFINED_ORIENTATION_TO_PORTRAIT"))??!1,"nra:cr:rcr:nr"===F.value?E.value=T.MIOSVersion&&T.MIOSVersion>=2&&T.androidTargetSdk>=35?z.value[1]:z.value[0]:e.embeddedRules&&!e.embeddedRules.hasOwnProperty("fullRule")?(F.value=T.MIOSVersion&&T.MIOSVersion>=2&&T.androidTargetSdk>=35?void 0:"nra:cr:rcr:nr",E.value=T.MIOSVersion&&T.MIOSVersion>=2&&T.androidTargetSdk>=35?z.value[0]:z.value[1]):"*"===F.value?E.value=T.MIOSVersion&&T.MIOSVersion>=2&&T.androidTargetSdk>=35?z.value[2]:z.value[1]:E.value=T.MIOSVersion&&T.MIOSVersion>=2&&T.androidTargetSdk>=35?z.value[3]:z.value[2],e.fixedOrientationRule&&e.fixedOrientationRule.hasOwnProperty("relaunch")?de.value=!!e.fixedOrientationRule.relaunch:de.value=!1,W.value=(null==(r=e.fixedOrientationRule)?void 0:r.ratio)??void 0,W.value?1.1===W.value?j.value=L[0]:1.5===W.value?j.value=L[2]:1.8===W.value?j.value=L[3]:j.value=L[4]:j.value=L[1]),A.value=!0})),closeDrawer:()=>{A.value=!1,_("Drawer closed without submission")}}),Z=(e,t)=>{E.value=t,F.value=["fullScreen_nra:cr:rcr:nr","fullScreen_*"].includes(e)?t.rule:void 0},X=(e,t)=>{j.value=t,W.value=["ratio_11_10","ratio_15_10","ratio_18:10"].includes(e)?t.ratio:"ratio_custom"===e?1.5:void 0},ie=({focused:e,checked:t})=>{const a={};return t?(a.background="#2080f0",e&&(a.boxShadow="0 0 0 2px #2080f040")):(a.background="#d03050",e&&(a.boxShadow="0 0 0 2px #d0305040")),a},le=s("fullScreen"),oe=s(!1),ne=s(!1),se=s(!0),de=s(!0),re=s(!1),ce=s(!1),pe=s(!1),ue=s(""),me=s(""),ve=s(!1),ge=s(!1);return t({openDrawer:Y.value.openDrawer}),(e,t)=>{const a=u("n-input-group-label"),s=u("n-input"),d=u("n-input-group"),r=u("n-tag"),c=u("n-alert"),p=u("n-switch"),D=u("n-card"),C=u("n-slider"),I=u("n-input-number"),_=u("n-tab-pane"),N=u("n-button"),Q=u("n-dropdown"),J=u("n-tabs"),ee=u("n-drawer-content"),te=u("n-drawer");return i(),l(h,null,[m(e.$slots,"default",v(g({openDrawer:Y.value.openDrawer}))),y(te,{show:A.value,"onUpdate:show":t[25]||(t[25]=e=>A.value=e),width:M(T).windowWidth>=640?"450px":"100%",placement:"right"},{default:f((()=>[y(ee,{title:O.title,closable:""},{footer:f((()=>[y(N,{type:"info",loading:ge.value,"onUpdate:loading":t[23]||(t[23]=e=>ge.value=e),onClick:t[24]||(t[24]=()=>(async()=>{if(!ue.value)return void V.create({title:"应用包名不能为空",type:"error",preset:"dialog",content:()=>y("p",null,[b("噫？应用包名不能为空（敲")])});if("fullScreen"===le.value&&!F.value&&(!T.MIOSVersion||T.MIOSVersion<2||T.androidTargetSdk<35))return void V.create({title:"应用全屏规则不能为空",type:"error",preset:"dialog",content:()=>y("p",null,[b("噫？应用全屏规则不能为空（敲")])});if("add"===O.type&&P.allPackageName.has(ue.value))return void V.create({title:"应用包名已存在",type:"error",preset:"dialog",content:()=>y("p",null,[b("噫？这个应用包名已经存在列表中了（敲")])});if("update"===O.type&&ve.value&&"fullScreen"===le.value){const[e]=await w(new Promise(((e,t)=>{V.create({title:"确认使用全屏规则吗？",type:"warning",preset:"dialog",content:()=>"custom"===B.value?y("p",null,[b("当前应用已存在")," ",y("span",{class:"font-bold "+(T.isDarkMode?"text-teal-400":"text-gray-600")},[b("平行窗口的自定义规则")])," ",b("，继续提交可能导致")," ",y("span",{class:"font-bold "+(T.isDarkMode?"text-teal-400":"text-gray-600")},[b("平行窗口的自定义规则")])," ",b("丢失。确定要继续吗？")]):y("p",null,[b("当前应用已存在")," ",y("span",{class:"font-bold "+(T.isDarkMode?"text-teal-400":"text-gray-600")},[b("平行窗口的模块规则")])," ",b("，继续更新将会被更替为")," ",y("span",{class:"font-bold "+(T.isDarkMode?"text-teal-400":"text-gray-600")},[b("全屏规则")])," ",b("，如后续需要改回")," ",y("span",{class:"font-bold "+(T.isDarkMode?"text-teal-400":"text-gray-600")},[b("平行窗口的模块规则")])," ",b("可能需要先清除自定义规则，确定要继续吗？")]),positiveText:"确定继续",negativeText:"我再想想",onPositiveClick:()=>{e("positiveClick")},onNegativeClick:()=>{t("negativeClick")}})})));if(e)return}if("update"===O.type&&"module"===B.value&&G.value){const[e]=await w(new Promise(((e,t)=>{V.create({title:"确认使用平行窗口自定义规则吗？",type:"warning",preset:"dialog",content:()=>y("p",null,[b("当前应用已存在")," ",y("span",{class:"font-bold "+(T.isDarkMode?"text-teal-400":"text-gray-600")},[b("平行窗口的模块规则")])," ",b("，继续更新将会被更替为")," ",y("span",{class:"font-bold "+(T.isDarkMode?"text-teal-400":"text-gray-600")},[b("平行窗口的自定义规则")])," ",b("，且该应用规则不再随模块版本更新，如后续需要改回")," ",y("span",{class:"font-bold "+(T.isDarkMode?"text-teal-400":"text-gray-600")},[b("平行窗口的模块规则")])," ",b("则需要先清除自定义规则，确定要继续吗？")]),positiveText:"确定继续",negativeText:"我再想想",onPositiveClick:()=>{e("positiveClick")},onNegativeClick:()=>{t("negativeClick")}})})));if(e)return}ge.value=!0;const e={name:ue.value,settingMode:le.value,...T.MIOSVersion&&T.MIOSVersion>=2&&T.androidTargetSdk>=35&&{thirdPartyAppOptimize:!(!ne.value||"fullScreen"!==le.value)},modePayload:{..."fullScreen"===le.value&&{fullRule:F.value},..."fullScreen"===le.value&&(!T.MIOSVersion||T.MIOSVersion&&T.MIOSVersion<2||T.androidTargetSdk<35)&&{skipSelfAdaptive:oe.value},...("fullScreen"===le.value||"disabled"===le.value)&&{isShowDivider:se.value},...("fullScreen"===le.value||"disabled"===le.value)&&{supportFullSize:U.value},..."fixedOrientation"===le.value&&{ratio:W.value},..."fixedOrientation"===le.value&&{foRelaunch:de.value},..."fixedOrientation"===le.value&&T.MIOSVersion&&T.MIOSVersion>=2&&T.androidTargetSdk>=35&&{forceFixedOrientation:H.value},..."embedded"===le.value&&("custom"===B.value||"module"===B.value&&G.value)&&{splitRatio:$.value},..."embedded"===le.value&&("custom"===B.value||"module"===B.value&&G.value)&&{emRelaunch:re.value},..."embedded"===le.value&&("custom"===B.value||"module"===B.value&&G.value)&&ce.value&&{emIsDisabledPlaceholder:pe.value}},loadingCallback:()=>{ge.value=!1},closeCallback:()=>{ge.value=!1,A.value=!1}};R(e)})())},{default:f((()=>t[69]||(t[69]=[b(" 提交 ")]))),_:1},8,["loading"])])),default:f((()=>[y(d,null,{default:f((()=>[y(a,{size:"large"},{default:f((()=>t[26]||(t[26]=[b("应用包名")]))),_:1}),y(s,{size:"large",status:me.value,value:ue.value,"onUpdate:value":t[0]||(t[0]=e=>ue.value=e),"allow-input":e=>q(e),readonly:"update"===O.type,placeholder:"请输入应用包名"},null,8,["status","value","allow-input","readonly"])])),_:1}),"custom"===B.value?(i(),k(c,{key:0,type:"info",class:"mt-5"},{default:f((()=>[t[29]||(t[29]=b(" 当前应用已被 ")),y(r,{bordered:!1,type:"info"},{default:f((()=>t[27]||(t[27]=[b("自定义规则")]))),_:1}),t[30]||(t[30]=b(" 覆盖，该应用规则不再随模块版本更新，如需恢复模块规则，请先清除 ")),y(r,{bordered:!1,type:"info"},{default:f((()=>t[28]||(t[28]=[b("自定义规则")]))),_:1}),t[31]||(t[31]=b(" 。 "))])),_:1})):S("",!0),y(J,{class:"my-3",type:"segment",animated:"",value:le.value,"onUpdate:value":t[22]||(t[22]=e=>le.value=e)},{default:f((()=>["update"===O.type&&ve.value?(i(),k(_,{key:0,name:"embedded",tab:"平行窗口"},{default:f((()=>[y(c,{"show-icon":!1,bordered:!1,title:"应用分屏显示",type:"success"},{default:f((()=>t[32]||(t[32]=[b(" 开启后，未适配横屏应用界面将通过平行窗口显示 ")]))),_:1}),"module"===B.value?(i(),k(D,{key:0,bordered:!1,title:"切换自定义规则",size:"small"},{default:f((()=>[o("div",Oe,[y(r,{bordered:!1,type:"info"},{default:f((()=>t[33]||(t[33]=[b(" 切换为自定义规则后该应用不再随模块更新 ")]))),_:1})]),y(p,{"rail-style":ie,value:G.value,"onUpdate:value":t[1]||(t[1]=e=>G.value=e),size:"large"},{checked:f((()=>t[34]||(t[34]=[b("使用自定义规则")]))),unchecked:f((()=>t[35]||(t[35]=[b("不使用自定义规则")]))),_:1},8,["value"])])),_:1})):S("",!0),("custom"===B.value||G.value)&&ce.value?(i(),k(D,{key:1,bordered:!1,title:"平行窗口冷启动是否默认首页分屏",size:"small"},{default:f((()=>[y(p,{"rail-style":ie,value:pe.value,"onUpdate:value":t[2]||(t[2]=e=>pe.value=e),size:"large"},{checked:f((()=>t[36]||(t[36]=[b("平行窗口冷启动移除默认首页分屏")]))),unchecked:f((()=>t[37]||(t[37]=[b("平行窗口冷启动使用默认首页分屏")]))),_:1},8,["value"])])),_:1})):S("",!0),"custom"===B.value||G.value?(i(),k(D,{key:2,bordered:!1,title:"平行窗口默认分屏比例",size:"small"},{default:f((()=>[y(C,{value:$.value,"onUpdate:value":t[3]||(t[3]=e=>$.value=e),size:"small",min:.01,max:.99,step:.01},null,8,["value"]),y(I,{"show-button":!1,class:"pt-3",readonly:"",placeholder:"请输入平行窗口默认分屏比例",value:$.value,"onUpdate:value":t[4]||(t[4]=e=>$.value=e),min:.01,max:.99,step:.01},null,8,["value"])])),_:1})):S("",!0),"custom"===B.value||G.value?(i(),k(D,{key:3,bordered:!1,title:"平行窗口显示比例发生变化时是否重载",size:"small"},{default:f((()=>[o("div",Ae,[y(r,{bordered:!1,type:"success"},{default:f((()=>t[38]||(t[38]=[b(" 适用于开启 "),o("span",{class:"font-bold"},"平行窗口滑动条",-1),b(" 的应用 ")]))),_:1})]),y(p,{"rail-style":ie,value:re.value,"onUpdate:value":t[5]||(t[5]=e=>re.value=e),size:"large"},{checked:f((()=>t[39]||(t[39]=[b("平行窗口显示比例变化时重载")]))),unchecked:f((()=>t[40]||(t[40]=[b("平行窗口显示比例变化时不重载")]))),_:1},8,["value"])])),_:1})):S("",!0)])),_:1})):S("",!0),y(_,{name:"fullScreen",tab:"全屏"},{default:f((()=>[y(c,{"show-icon":!1,bordered:!1,title:"应用横屏显示",type:"info"},{default:f((()=>t[41]||(t[41]=[b(" 开启后，未适配横屏应用界面将全屏显示，并可更改显示规则 ")]))),_:1}),y(D,{bordered:!1,title:"横屏显示规则",size:"small"},{default:f((()=>[y(Q,{modelValue:E.value,"onUpdate:modelValue":t[6]||(t[6]=e=>E.value=e),size:"large",trigger:"click",options:z.value,onSelect:Z},{default:f((()=>[y(N,{block:"",type:"info",dashed:""},{default:f((()=>[b(x(E.value.label),1)])),_:1})])),_:1},8,["modelValue","options"])])),_:1}),"fullScreen_custom"===E.value.key?(i(),k(D,{key:0,bordered:!1,title:"自定义横屏规则",size:"small"},{default:f((()=>[y(d,null,{default:f((()=>[y(s,{ref_key:"currentFullRuleRef",ref:n,onFocus:t[7]||(t[7]=()=>{return K(!0),void(null==(e=n.value)||e.$el.scrollIntoView({behavior:"smooth",block:"start"}));var e}),onBlur:t[8]||(t[8]=()=>{return K(!1),void(null==(e=n.value)||e.$el.scrollIntoView({behavior:"smooth",block:"start"}));var e}),value:F.value,"onUpdate:value":t[9]||(t[9]=e=>F.value=e),placeholder:"请输入横屏规则"},null,8,["value"])])),_:1})])),_:1})):S("",!0),y(D,{bordered:!1,title:"平行窗口滑动条",size:"small"},{default:f((()=>[o("div",Te,[y(r,{bordered:!1,type:"success"},{default:f((()=>t[42]||(t[42]=[b(" 适用于原生适配 "),o("span",{class:"font-bold"},"Android Embedded",-1),b(" 的应用 ")]))),_:1})]),y(p,{"rail-style":ie,value:se.value,"onUpdate:value":t[10]||(t[10]=e=>se.value=e),size:"large"},{checked:f((()=>t[43]||(t[43]=[b("启用平行窗口滑动条")]))),unchecked:f((()=>t[44]||(t[44]=[b("关闭平行窗口滑动条")]))),_:1},8,["value"])])),_:1}),se.value?(i(),k(D,{key:1,bordered:!1,title:"平行窗口可滑动至全屏",size:"small"},{default:f((()=>[o("div",Pe,[y(r,{bordered:!1,type:"success"},{default:f((()=>t[45]||(t[45]=[b(" 适用于原生适配 "),o("span",{class:"font-bold"},"Android Embedded",-1),b(" 的应用 ")]))),_:1})]),y(p,{"rail-style":ie,value:U.value,"onUpdate:value":t[11]||(t[11]=e=>U.value=e),size:"large"},{checked:f((()=>t[46]||(t[46]=[b("平行窗口可滑动至全屏")]))),unchecked:f((()=>t[47]||(t[47]=[b("平行窗口不可滑动至全屏")]))),_:1},8,["value"])])),_:1})):S("",!0),!M(T).MIOSVersion||M(T).MIOSVersion&&M(T).MIOSVersion<2||M(T).androidTargetSdk<35?(i(),k(D,{key:2,class:"",bordered:!1,title:"跳过应用自适配声明",size:"small"},{default:f((()=>[o("div",De,[y(r,{bordered:!1,type:"success"},{default:f((()=>t[48]||(t[48]=[b(" 适用于即使设置了 "),o("span",{class:"font-bold"},"横屏规则",-1),b(" 仍无法横屏的应用 ")]))),_:1})]),y(p,{"rail-style":ie,value:oe.value,"onUpdate:value":t[12]||(t[12]=e=>oe.value=e),size:"large"},{checked:f((()=>t[49]||(t[49]=[b("跳过自适配声明")]))),unchecked:f((()=>t[50]||(t[50]=[b("不跳过自适配声明")]))),_:1},8,["value"])])),_:1})):S("",!0),M(T).MIOSVersion&&M(T).MIOSVersion>=2&&M(T).androidTargetSdk>=35?(i(),k(D,{key:3,class:"",bordered:!1,title:"第三方应用横屏优化",size:"small"},{default:f((()=>[o("div",Ce,[y(r,{bordered:!1,type:"success"},{default:f((()=>t[51]||(t[51]=[b(" 适用于即使设置了 "),o("span",{class:"font-bold"},"横屏规则",-1),b(" 仍无法横屏的应用 ")]))),_:1})]),y(p,{"rail-style":ie,"onUpdate:value":t[13]||(t[13]=e=>(async e=>{if(e&&T.MIOSVersion&&T.MIOSVersion>=2&&T.androidTargetSdk>=35){const[e]=await w(new Promise(((e,t)=>{V.create({title:"确认启用第三方横屏优化吗？",type:"warning",preset:"dialog",content:()=>y("p",null,[b("由于小米的BUG，部分应用即使配置了横屏，在系统重启后仍然会丢失横屏配置，开启此项可以保证该应用的横屏规则不会丢失，但每次设备重启或修改模块规则，该应用都将被强制重启，确定要继续吗？")]),positiveText:"确定继续",negativeText:"我再想想",onPositiveClick:()=>{e("positiveClick")},onNegativeClick:()=>{t("negativeClick")}})})));if(e)return}ne.value=e})(e)),value:ne.value,size:"large"},{checked:f((()=>t[52]||(t[52]=[b("已开启第三方应用横屏优化")]))),unchecked:f((()=>t[53]||(t[53]=[b("未开启第三方应用横屏优化")]))),_:1},8,["value"])])),_:1})):S("",!0)])),_:1}),y(_,{name:"fixedOrientation",tab:"居中布局"},{default:f((()=>[y(c,{"show-icon":!1,bordered:!1,title:"应用居中显示",type:"warning"},{default:f((()=>t[54]||(t[54]=[b(" 开启后，未适配横屏应用界面将居中显示，并可更改显示比例 ")]))),_:1}),y(D,{bordered:!1,title:"居中显示比例",size:"small"},{default:f((()=>[y(Q,{value:j.value,"onUpdate:value":t[14]||(t[14]=e=>j.value=e),size:"large",trigger:"click",options:L,onSelect:X},{default:f((()=>[y(N,{block:"",type:"error",dashed:""},{default:f((()=>[b(x(j.value.label),1)])),_:1})])),_:1},8,["value"])])),_:1}),"ratio_custom"===j.value.key?(i(),k(D,{key:0,bordered:!1,title:"自定义显示比例",size:"small"},{default:f((()=>[y(C,{size:"small",value:W.value,"onUpdate:value":t[15]||(t[15]=e=>W.value=e),min:1.01,max:1.99,step:.01},null,8,["value"]),y(I,{"show-button":!1,class:"pt-3",readonly:"",placeholder:"请输入自定义显示比例",value:W.value,"onUpdate:value":t[16]||(t[16]=e=>W.value=e),min:1.01,max:1.99,step:.01},null,8,["value"])])),_:1})):S("",!0),y(D,{bordered:!1,title:"应用比例变化时是否重载应用",size:"small"},{default:f((()=>[y(p,{"rail-style":ie,value:de.value,"onUpdate:value":t[17]||(t[17]=e=>de.value=e),size:"large"},{checked:f((()=>t[55]||(t[55]=[b("应用比例变化时重载应用")]))),unchecked:f((()=>t[56]||(t[56]=[b("应用比例变化时不重载应用")]))),_:1},8,["value"])])),_:1}),M(T).MIOSVersion&&M(T).MIOSVersion>=2&&M(T).androidTargetSdk>=35?(i(),k(D,{key:1,class:"",bordered:!1,title:"强制应用居中显示",size:"small"},{default:f((()=>[o("div",Ie,[y(r,{bordered:!1,type:"success"},{default:f((()=>t[57]||(t[57]=[b(" 适用于即使设置了 "),o("span",{class:"font-bold"},"居中布局",-1),b(" 仍无法居中显示的应用 ")]))),_:1})]),y(p,{"rail-style":ie,value:H.value,"onUpdate:value":t[18]||(t[18]=e=>H.value=e),size:"large"},{checked:f((()=>t[58]||(t[58]=[b("强制应用居中显示")]))),unchecked:f((()=>t[59]||(t[59]=[b("不强制应用居中显示")]))),_:1},8,["value"])])),_:1})):S("",!0)])),_:1}),y(_,{name:"disabled",tab:"原始布局"},{default:f((()=>[y(c,{"show-icon":!1,bordered:!1,title:"应用原始布局",type:"error"},{default:f((()=>t[60]||(t[60]=[b(" 开启后，将禁用任何系统规则干预，应用会根据自身的适配规则进行显示，大多数应用仅竖屏显示 ")]))),_:1}),y(D,{bordered:!1,title:"应用比例变化时是否重载应用",size:"small"},{default:f((()=>[y(p,{"rail-style":ie,value:de.value,"onUpdate:value":t[19]||(t[19]=e=>de.value=e),size:"large"},{checked:f((()=>t[61]||(t[61]=[b("应用比例变化时重载应用")]))),unchecked:f((()=>t[62]||(t[62]=[b("应用比例变化时不重载应用")]))),_:1},8,["value"])])),_:1}),y(D,{bordered:!1,title:"平行窗口滑动条",size:"small"},{default:f((()=>[o("div",Ve,[y(r,{bordered:!1,type:"success"},{default:f((()=>t[63]||(t[63]=[b(" 适用于原生适配 "),o("span",{class:"font-bold"},"Android Embedded",-1),b(" 的应用 ")]))),_:1})]),y(p,{"rail-style":ie,value:se.value,"onUpdate:value":t[20]||(t[20]=e=>se.value=e),size:"large"},{checked:f((()=>t[64]||(t[64]=[b("启用平行窗口滑动条")]))),unchecked:f((()=>t[65]||(t[65]=[b("关闭平行窗口滑动条")]))),_:1},8,["value"])])),_:1}),se.value?(i(),k(D,{key:0,bordered:!1,title:"平行窗口可滑动至全屏",size:"small"},{default:f((()=>[o("div",Re,[y(r,{bordered:!1,type:"success"},{default:f((()=>t[66]||(t[66]=[b(" 适用于原生适配 "),o("span",{class:"font-bold"},"Android Embedded",-1),b(" 的应用 ")]))),_:1})]),y(p,{"rail-style":ie,value:U.value,"onUpdate:value":t[21]||(t[21]=e=>U.value=e),size:"large"},{checked:f((()=>t[67]||(t[67]=[b("平行窗口可滑动至全屏")]))),unchecked:f((()=>t[68]||(t[68]=[b("平行窗口不可滑动至全屏")]))),_:1},8,["value"])])),_:1})):S("",!0)])),_:1})])),_:1},8,["value"])])),_:1},8,["title"])])),_:1},8,["show","width"])],64)}}}),Ne={"com.vmos.pro":e=>{const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a});l.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>y("p",null,[b("经过多轮测试，")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("在大屏设备体验不佳，模块无法对其进行很好的适配，不推荐在大屏设备下使用")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("~")]),positiveText:"已了解该应用可能不兼容"})},"com.guozhigq.pilipala":e=>{const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a});l.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>y("p",null,[" ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("在大屏设备体验不佳，模块仅提供强制居中显示适配优化~")]),positiveText:"已了解该应用可能不兼容"})},"com.xiaomi.mitime":e=>{const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a});l.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>y("p",null,[" ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("在大屏设备体验不佳，模块仅提供强制居中显示适配优化~")]),positiveText:"已了解该应用可能不兼容"})},"com.unicom.woshipin":e=>{const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a});l.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>y("p",null,[" ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("在大屏设备体验不佳，极易触发应用异常崩溃，模块仅提供强制居中显示适配优化~")]),positiveText:"已了解该应用可能不兼容"})},"com.qiyi.video":e=>{const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a}),n="https://caiyun.139.com/m/i?135ClWdvL9xtB";l.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>y("div",null,[y("p",null,[" ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[b("爱奇艺PAD(com.qiyi.video.pad)")])," ",b("~")]),y("p",null,[b("下载地址:")]),y("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),A()},onNegativeClick:()=>{}})},"com.hunantv.imgo.activity":e=>{const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a}),n="https://caiyun.139.com/m/i?135CmUTZaefoj";l.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>y("div",null,[y("p",null,[" ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[b("芒果TV HD(com.imgo.pad)")])," ",b("~")]),y("p",null,[b("下载地址:")]),y("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),A()},onNegativeClick:()=>{}})},"com.taobao.idlefish":e=>{const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a});l.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>y("p",null,[" ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("在大屏设备体验不佳，模块无法对其进行很好的适配，模块更推荐在")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[b("居中布局")])," ",b("下使用")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("~")]),positiveText:"已了解该应用可能不兼容"})},"cn.cntv":e=>{const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a}),n="https://caiyun.139.com/m/i?135CmUTNrzYNh";l.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>y("div",null,[y("p",null,[" ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[b("央视影音 HD(cn.cntvhd)")])," ",b("~")]),y("p",null,[b("下载地址:")]),y("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),A()},onNegativeClick:()=>{}})},"com.sinyee.babybus.recommendapp":e=>{const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a}),n="https://caiyun.139.com/m/i?135ClqWyzHNVM";l.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>y("div",null,[y("p",null,[" ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[b("宝宝巴士 HD(com.bb.happykids)")])," ",b("~")]),y("p",null,[b("下载地址:")]),y("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),A()},onNegativeClick:()=>{}})},"com.ks.kaishustory":e=>{const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a}),n="https://caiyun.139.com/m/i?135Cmkd67YqaE";l.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>y("div",null,[y("p",null,[" ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[b("凯叔讲故事HD(com.ks.kaishustory.hd)")])," ",b("~")]),y("p",null,[b("下载地址:")]),y("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),A()},onNegativeClick:()=>{}})},"com.letv.android.client":e=>{const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a}),n="https://caiyun.139.com/m/i?135CmQkIsmiIY";l.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>y("div",null,[y("p",null,[" ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[b("乐视视频 Pad(ccom.letv.android.client.pad)")])," ",b("~")]),y("p",null,[b("下载地址:")]),y("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),A()},onNegativeClick:()=>{}})},"cn.vcinema.cinema":e=>{const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a}),n="https://caiyun.139.com/m/i?135ClmrX20IdL";l.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>y("div",null,[y("p",null,[" ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O("com.vcinema.cinema.pad","南瓜电影 HD")])," ",b("~")]),y("p",null,[b("下载地址:")]),y("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),A()},onNegativeClick:()=>{}})},"com.mdground.yizhida":e=>{const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a}),n="https://caiyun.139.com/m/i?135Ce3JW7jaOP";l.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>y("div",null,[y("p",null,[" ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O("com.mdground.yizhida.pad","医直达 Pad")])," ",b("~")]),y("p",null,[b("下载地址:")]),y("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),A()},onNegativeClick:()=>{}})},"com.wwzstaff.activity":e=>{const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a}),n="https://caiyun.139.com/m/i?135Clmlw6lnT6";l.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>y("div",null,[y("p",null,[" ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O("com.example.administrator.twocodedemo","客连连Pad端")])," ",b("~")]),y("p",null,[b("下载地址:")]),y("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),A()},onNegativeClick:()=>{}})},"uni.UNI1EB902E":e=>{const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a}),n="https://caiyun.139.com/m/i?135Cdj9ySaUf9";l.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>y("div",null,[y("p",null,[" ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O("com.kokoni.pad","KOKONI3D PAD")])," ",b("~")]),y("p",null,[b("下载地址:")]),y("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),A()},onNegativeClick:()=>{}})},"org.sojex.finance":e=>{const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a}),n="https://caiyun.139.com/m/i?135CmQYvJeeBr";l.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>y("div",null,[y("p",null,[" ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O("org.sojex.financehd","口袋贵金属 HD")])," ",b("~")]),y("p",null,[b("下载地址:")]),y("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),A()},onNegativeClick:()=>{}})},"com.zzvcom.uxin.yxgs":e=>{const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a}),n="https://caiyun.139.com/m/i?135ClSonIiovD";l.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>y("div",null,[y("p",null,[" ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O("com.zzvcom.uxinexpert.pad","优学高手PAD软件")])," ",b("~")]),y("p",null,[b("下载地址:")]),y("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),A()},onNegativeClick:()=>{}})},"com.cctv.yangshipin.app.androidp":e=>{const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a}),n="https://caiyun.139.com/m/i?135CdjETPAsIX";l.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>y("div",null,[y("p",null,[" ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O("cn.ysp.app.pad","央视频 HD")])," ",b("~")]),y("p",null,[b("下载地址:")]),y("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),A()},onNegativeClick:()=>{}})},"uni.UNI724DE05":e=>{const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a}),n="https://caiyun.139.com/m/i?135Ce3KZl34Fz";l.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>y("div",null,[y("p",null,[" ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O("plus.H5D021621","大桥化工 pad")])," ",b("~")]),y("p",null,[b("下载地址:")]),y("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),A()},onNegativeClick:()=>{}})},"com.shangkatong.merchant.app":e=>{const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a}),n="https://caiyun.139.com/m/i?135CdjIYZ6Pzq";l.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>y("div",null,[y("p",null,[" ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O("com.shangkatong.pro.pad","商卡通会员管理Pad")])," ",b("~")]),y("p",null,[b("下载地址:")]),y("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),A()},onNegativeClick:()=>{}})},"com.CDA.StructureMaster":e=>{const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a}),n="https://caiyun.139.com/m/i?135ClqS1uhW8p";l.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>y("div",null,[y("p",null,[" ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[b("结构大师 HD(com.CDAStudio.StructureMasterHD)")])," ",b("~")]),y("p",null,[b("下载地址:")]),y("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),A()},onNegativeClick:()=>{}})},"com.hujiang.cctalk":e=>{const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a}),n="https://caiyun.139.com/m/i?135Cm8YnuNKOg";l.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>y("div",null,[y("p",null,[" ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("由于自身存在错误的自适应声明，可能无法正常被系统反向适配平行窗口，如果无法正常展示平行窗口，请安装提供的修改版客户端。(Tips: 修改版客户端可能有被")," ",y("span",{class:""+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("封号的风险，不肯定，自行斟酌)")]),y("p",null,[b("下载地址:")]),y("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),A()},onNegativeClick:()=>{}})},"com.xianghu.organization":e=>{const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a}),n="https://caiyun.139.com/m/i?135Cmj9wYVCnM";l.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>y("div",null,[y("p",null,[" ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("由于自身存在错误的自适应声明，可能无法正常被系统反向适配平行窗口，如果无法正常展示平行窗口，请安装提供的修改版客户端。(Tips: 修改版客户端可能有被")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("封号的风险，不肯定，自行斟酌)")]),y("p",null,[b("下载地址:")]),y("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),A()},onNegativeClick:()=>{}})}},ze={"com.coolapk.market":{isShow:()=>d().androidTargetSdk>33,onClick(e){const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a});l.create({title:"应用规则感知",type:"info",preset:"dialog",content(){const a=(e,t,a)=>T(ie,{type:t,size:"small",class:"my-3",block:!0,dashed:!0,onClick:a},e);return y("div",null,[y("p",null,[b("如果您希望")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("在所有界面全屏显示，且不会进入")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[b("平行窗口")])," ",b(",您可以将此自定义规则通过")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[b("[应用横屏布局-从分享口令导入]")])," ",b("进行导入~"),a&&a("获取全局横屏自定义规则","info",(()=>(()=>{const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a}),n={name:"com.coolapk.market",cmpt:t.MIOSVersion&&t.MIOSVersion>=2&&t.androidTargetSdk>=35?2:1,em:{name:"com.coolapk.market",...t.MIOSVersion&&t.MIOSVersion>=2&&t.androidTargetSdk>=35?{skipSelfAdaptive:!0}:void 0,splitPairRule:"com.coolapk.market.view.main.MainActivity:*",activityRule:"com.coolapk.market.view.main.MainActivity",transitionRules:"com.coolapk.market.view.main.MainActivity",clearTop:!1,splitMinWidth:1800},fo:{name:"com.coolapk.market",disable:!0,isShowDivider:!0,...t.MIOSVersion&&t.MIOSVersion>=2&&t.androidTargetSdk>=35?{skipSelfAdaptive:!0}:void 0,supportFullSize:!0},type:"embedded",device:"tablet"===t.deviceType?"pad":"fold",mode:"embedded",...t.MIOSVersion&&t.MIOSVersion>=2&&t.androidTargetSdk>=35?{thirdPartyAppOptimize:!1}:void 0},s=JSON.stringify(n),r=$.deflate(s,{level:9,memLevel:9,windowBits:15}),c=new Uint8Array(r),u=de(c);l.create({title:"获取自定义规则",type:"info",preset:"dialog",content(){const a=e=>T(le,{code:e,class:"my-5 overflow-y-auto line-clamp-6 select-text",language:"Base64",wordWrap:!0});return y("div",null,[y("p",null,[b("使用此自定义规则会使")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("在所有界面全屏显示，且不会进入")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[b("平行窗口")])," ",b(",您可以将此自定义规则通过")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[b("[应用横屏布局-从分享口令导入]")])," ",b("进行导入~")]),a&&a(u)])},positiveText:"复制自定义规则到剪贴板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(u)},onNegativeClick:()=>{}})})())),"tablet"===t.deviceType&&t.MIOSVersion&&2===t.MIOSVersion&&t.androidTargetSdk>=35&&y("div",null,[y("p",null,[b("模块还为")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("进行了更详尽的应用规则适配，您可以将此自定义规则通过")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[b("[应用横屏布局-从分享口令导入]")])," ",b("进行导入~")]),y("p",null,[b("Tips: 此规则需要搭配最新版的Hyper OS 2.0，老版本的 OS 2 可能由于小米BUG存在崩溃的问题。")]),y("p",null,[a&&a("获取精适配平行窗口自定义规则","info",(()=>(()=>{const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a}),n={name:"com.coolapk.market",cmpt:t.MIOSVersion&&t.MIOSVersion>=2&&t.androidTargetSdk>=35?2:1,em:{name:"com.coolapk.market",skipSelfAdaptive:!0,splitRatio:"tablet"===t.deviceType?.3:.5,splitPairRule:"com.coolapk.market.view.main.MainActivity:*,com.coolapk.market.view.userv9.UserSpaceV9Activity:*,com.coolapk.market.view.node.DynamicNodePageActivity:*,com.coolapk.market.view.search.SuperSearchResultActivity:*,com.coolapk.market.view.base.SimpleAlphaActivity:*,com.coolapk.market.view.feed.FeedDetailActivityV8:*,com.coolapk.market.view.appmanager.UpgradeManagerActivity:*,com.coolapk.market.view.feedv8.multiSubmit.MultiSubmitActivity:*,com.coolapk.market.view.appmanager.AppManagerActivity:*,com.coolapk.market.view.user.UserFeedListActivity:*,com.coolapk.market.view.contact.FriendListActivity:*,com.coolapk.market.view.contact.FansListActivity:*,com.coolapk.market.view.user.UserFollowAppActivity:*,com.coolapk.market.view.album.UserAlbumListActivity:*,com.coolapk.market.view.user.MyDigitTabListActivit:*,com.coolapk.market.view.goods.MyGoodsTabListActivity:*,com.coolapk.market.view.user.UserPictureListActivity:*,com.coolapk.market.view.dyhv8.DyhListActivity:*,com.coolapk.market.view.backupList.BackupListActivity:*,com.coolapk.market.view.message.ChattingActivity:*,com.coolapk.market.view.feed.FeedReplyDetailActivity:*,com.coolapk.market.view.feedv8.SubmitFeedV8Activity:*,com.coolapk.market.view.notification.NotificationActivity:*,com.coolapk.market.view.feed.ReplyActivity:*",activityRule:"com.coolapk.market.view.main.MainActivity,com.coolapk.market.view.wallpaper.coolpic.CoolPicDetailActivity,com.coolapk.market.view.appmanager.UpgradeManagerActivity,com.coolapk.market.view.feedv8.multiSubmit.MultiSubmitActivity,com.coolapk.market.view.feed.ReplyActivity,com.coolapk.market.view.splash.SplashActivity,com.coolapk.market.view.splash.FullScreenAdActivity,com.coolapk.market.view.video.VideoDetailListActivity,com.coolapk.market.view.feedv8.FeedEntranceV8Activity,com.coolapk.market.view.photo.QRCodeActivity,com.coolapk.market.view.feedv8.SubmitFeedV8Activity,com.coolapk.market.view.feedv8.QuestionTitleActivity,com.coolapk.market.view.goodsList.CreateFunThingsActivity,com.coolapk.market.view.permission.PrivacyActivity,com.coolapk.market.view.webview.LoginActivity,com.coolapk.market.view.live.LiveActivity,com.coolapk.market.view.message.ChattingActivity,com.coolapk.market.view.feed.FeedReplyDetailActivity,com.coolapk.market.view.feed.ForwardEntityActivity",transitionRules:"com.coolapk.market.view.main.MainActivity,com.coolapk.market.view.feedv8.multiSubmit.MultiSubmitActivity,com.coolapk.market.view.feedv8.SubmitFeedV8Activity,com.coolapk.market.view.message.ChattingActivity,com.coolapk.market.view.feed.ReplyActivity,com.coolapk.market.view.feed.FeedReplyDetailActivity",isShowDivider:!0,supportFullSize:!0,flags:"reusePreContainer:com.coolapk.market.view.photo.PhotoViewActivity,com.coolapk.market.view.collectionList.CollectionSelectActivity;",..."tablet"===t.deviceType?{splitMinWidth:900}:void 0},..."tablet"===t.deviceType?{fo:{name:"com.coolapk.market",isShowDivider:!0,disable:!0,supportFullSize:!0,...t.MIOSVersion&&t.MIOSVersion>=2&&t.androidTargetSdk>=35?{skipSelfAdaptive:!0}:void 0}}:void 0,type:"embedded",device:"tablet"===t.deviceType?"pad":"fold",mode:"embedded",...t.MIOSVersion&&t.MIOSVersion>=2&&t.androidTargetSdk>=35?{thirdPartyAppOptimize:!1}:void 0},s=JSON.stringify(n),r=$.deflate(s,{level:9,memLevel:9,windowBits:15}),c=new Uint8Array(r),u=de(c);l.create({title:"获取自定义规则",type:"info",preset:"dialog",content:()=>y("div",null,[y("p",null,[b("模块已为")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("提供了更详尽的平行窗口自定义规则，您可以将此自定义规则通过")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[b("[应用横屏布局-从分享口令导入]")])," ",b("进行导入~")]),y("p",null,[b("Tips: 此规则需要搭配最新版的Hyper OS 2.0，老版本的 OS 2 可能由于小米BUG存在崩溃的问题。")])]),positiveText:"复制自定义规则到剪贴板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(u)},onNegativeClick:()=>{}})})()))])])])])},negativeText:"关闭",onNegativeClick:()=>{}})}},"tv.danmaku.bili":{isShow(){const e=d();return!!("tablet"===e.deviceType&&e.MIOSVersion&&2===e.MIOSVersion&&e.androidTargetSdk>=35)},onClick(e){const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a}),n={name:"tv.danmaku.bili",cmpt:t.MIOSVersion&&t.MIOSVersion>=2&&t.androidTargetSdk>=35?2:1,em:{name:"tv.danmaku.bili",disableSensor:!0,splitLineColor:"#FFFFFF:#17181A",...t.MIOSVersion&&t.MIOSVersion>=2&&t.androidTargetSdk>=35?{skipSelfAdaptive:!0}:void 0,splitRatio:"tablet"===t.deviceType?.4:.5,isShowDivider:!0,supportFullSize:!0,splitPairRule:"tv.danmaku.bili.MainActivityV2:*,com.bilibili.search.main.BiliMainSearchActivity:*,com.bilibili.bplus.followinglist.quick.consume.QuickConsumeActivity:*,tv.danmaku.bili.ui.videodownload.VideoDownloadListActivity:*,com.bilibili.lib.ui.GeneralActivity:*,tv.danmaku.bili.ui.favorite.FavoriteBoxActivity:*,tv.danmaku.bili.ui.main2.WatchLaterActivity:*,com.bilibili.lib.ui.GeneralActivity:*,com.bilibili.app.preferences.BiliPreferencesActivity:*,com.bilibili.app.authorspace.ui.AuthorSpaceActivity:*,com.bilibili.search2.main.BiliMainSearchActivity:*",activityRule:"tv.danmaku.bili.MainActivityV2,com.bilibili.column.ui.detail.image.ColumnImageViewerActivity,com.bilibili.studio.centerplus.ui.CenterPlusMainActivity,com.bilibili.lib.imageviewer.MediaViewerActivity,com.bilibili.socialize.share.core.ui.BiliShareDelegateActivity,com.bilibili.socialize.share.core.ui.QQAssistActivity,com.tencent.connect.common.AssistActivity,com.bilibili.upper.module.archive.activity.ArchiveTempActivity",transitionRules:"tv.danmaku.bili.MainActivityV2,tv.danmaku.bili.sms.SmsLoginDialogActivityV2,com.bilibili.teenagersmode.ui.TeenagersModeDialogActivity,tv.danmaku.bili.ui.answer.AnswerDialogTransferActivity,com.bilibili.bilibililive.ui.room.modresource.BlinkModResourceLoadingActivity,com.bilibili.bilibililive.ui.room.BlinkRoomActivityV2,com.bilibili.lib.fasthybrid.blrouter.SADispatcherActivity,com.bilibili.lib.fasthybrid.container.GameContainerActivity0",flags:"reusePreContainer:com.bilibili.bplus.followinglist.page.browser.ui.LightBrowserActivityV2",forcePortraitActivity:"tv.danmaku.bili/com.bilibili.app.preferences.storage.BiliStorageManagerActivity"},..."tablet"===t.deviceType?{fo:{name:"tv.danmaku.bili",...t.MIOSVersion&&t.MIOSVersion>=2&&t.androidTargetSdk>=35?{skipSelfAdaptive:!0,supportModes:"full,fo"}:void 0}}:void 0,type:"embedded",device:"tablet"===t.deviceType?"pad":"fold",mode:"embedded",...t.MIOSVersion&&t.MIOSVersion>=2&&t.androidTargetSdk>=35?{thirdPartyAppOptimize:!1}:void 0},s=JSON.stringify(n),r=$.deflate(s,{level:9,memLevel:9,windowBits:15}),c=new Uint8Array(r),u=de(c);l.create({title:"应用规则感知",type:"info",preset:"dialog",content(){const a=e=>T(le,{code:e,class:"my-5 overflow-y-auto line-clamp-6 select-text",language:"Base64",wordWrap:!0});return y("div",null,[y("p",null,[b("小米已为")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("适配了应用布局优化，您可以将此自定义规则通过")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[b("[应用横屏布局-从分享口令导入]")])," ",b("进行导入并开启")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("在")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[b("应用布局优化")])," ",b("的开关，即可体验~")]),y("p",null,[b("Tips: 此规则需要搭配最新版的Hyper OS 2.0，老版本的 OS 2 可能由于小米BUG存在较为严重的内存泄露问题，会导致系统越来越卡顿。")]),a&&a(u)])},positiveText:"复制自定义规则到剪贴板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(u)},onNegativeClick:()=>{}})}},"com.bilibili.app.in":{isShow:()=>(d(),!0),onClick(e){const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a}),n={name:"com.bilibili.app.in",cmpt:t.MIOSVersion&&t.MIOSVersion>=2&&t.androidTargetSdk>=35?2:1,em:{name:"com.bilibili.app.in",disableSensor:!0,splitLineColor:"#FFFFFF:#17181A",isShowDivider:!0,supportFullSize:!0,...t.MIOSVersion&&t.MIOSVersion>=2&&t.androidTargetSdk>=35?{skipSelfAdaptive:!0}:void 0,splitRatio:"tablet"===t.deviceType?.4:.5,placeholder:"tv.danmaku.bili.MainActivityV2:com.bilibili.search.main.BiliMainSearchActivity",splitPairRule:"tv.danmaku.bili.MainActivityV2:*,com.bilibili.search.main.BiliMainSearchActivity:*,com.bilibili.bplus.followinglist.quick.consume.QuickConsumeActivity:*,tv.danmaku.bili.ui.videodownload.VideoDownloadListActivity:*,com.bilibili.lib.ui.GeneralActivity:*,tv.danmaku.bili.ui.favorite.FavoriteBoxActivity:*,tv.danmaku.bili.ui.main2.WatchLaterActivity:*,com.bilibili.lib.ui.GeneralActivity:*,com.bilibili.app.preferences.BiliPreferencesActivity:*,com.bilibili.app.authorspace.ui.AuthorSpaceActivity:*,com.bilibili.search2.main.BiliMainSearchActivity:*",activityRule:"com.bilibili.column.ui.detail.image.ColumnImageViewerActivity,com.bilibili.studio.centerplus.ui.CenterPlusMainActivity,com.bilibili.lib.imageviewer.MediaViewerActivity,com.bilibili.socialize.share.core.ui.BiliShareDelegateActivity,com.bilibili.socialize.share.core.ui.QQAssistActivity,com.tencent.connect.common.AssistActivity,com.bilibili.upper.module.archive.activity.ArchiveTempActivity,com.bilibili.video.story.StoryTransparentActivity",transitionRules:"com.bilibili.lib.imageviewer.MediaViewerActivity,tv.danmaku.bili.sms.SmsLoginDialogActivityV2,com.bilibili.teenagersmode.ui.TeenagersModeDialogActivity,tv.danmaku.bili.ui.answer.AnswerDialogTransferActivity,com.bilibili.bilibililive.ui.room.modresource.BlinkModResourceLoadingActivity,com.bilibili.bilibililive.ui.room.BlinkRoomActivityV2,com.bilibili.lib.fasthybrid.blrouter.SADispatcherActivity,com.bilibili.lib.fasthybrid.container.GameContainerActivity0",flags:"reusePreContainer:com.bilibili.bplus.followinglist.page.browser.ui.LightBrowserActivityV2;",forcePortraitActivity:"com.bilibili.app.blue/com.bilibili.app.preferences.storage.BiliStorageManagerActivity"},..."tablet"===t.deviceType?{fo:{name:"com.bilibili.app.in",...t.MIOSVersion&&t.MIOSVersion>=2&&t.androidTargetSdk>=35?{skipSelfAdaptive:!0,supportModes:"full,fo"}:void 0}}:void 0,type:"embedded",device:"tablet"===t.deviceType?"pad":"fold",mode:"embedded",...t.MIOSVersion&&t.MIOSVersion>=2&&t.androidTargetSdk>=35?{thirdPartyAppOptimize:!1}:void 0},s=JSON.stringify(n),r=$.deflate(s,{level:9,memLevel:9,windowBits:15}),c=new Uint8Array(r),u=de(c);l.create({title:"应用规则感知",type:"info",preset:"dialog",content(){const a=e=>T(le,{code:e,class:"my-5 overflow-y-auto line-clamp-6 select-text",language:"Base64",wordWrap:!0});return y("div",null,[y("p",null,[b("部分版本的")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("可能需要单独的规则才能正常触发应用冷启动分屏，您可以将此自定义规则通过")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[b("[应用横屏布局-从分享口令导入]")])," ",b("进行导入~")]),a&&a(u)])},positiveText:"复制自定义规则到剪贴板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(u)},onNegativeClick:()=>{}})}},"com.bilibili.app.blue":{isShow:()=>(d(),!0),onClick(e){const t=d(),a=p((()=>({theme:t.isDarkMode?te:ae}))),{message:i,modal:l,notification:o}=ee(["message","modal","notification"],{configProviderProps:a}),n={name:"com.bilibili.app.blue",cmpt:t.MIOSVersion&&t.MIOSVersion>=2&&t.androidTargetSdk>=35?2:1,em:{name:"com.bilibili.app.blue",disableSensor:!0,splitLineColor:"#FFFFFF:#17181A",...t.MIOSVersion&&t.MIOSVersion>=2&&t.androidTargetSdk>=35?{skipSelfAdaptive:!0}:void 0,splitRatio:"tablet"===t.deviceType?.4:.5,isShowDivider:!0,supportFullSize:!0,splitPairRule:"tv.danmaku.bili.MainActivityV2:*,com.bilibili.search.main.BiliMainSearchActivity:*,com.bilibili.bplus.followinglist.quick.consume.QuickConsumeActivity:*,tv.danmaku.bili.ui.videodownload.VideoDownloadListActivity:*,com.bilibili.lib.ui.GeneralActivity:*,tv.danmaku.bili.ui.favorite.FavoriteBoxActivity:*,tv.danmaku.bili.ui.main2.WatchLaterActivity:*,com.bilibili.lib.ui.GeneralActivity:*,com.bilibili.app.preferences.BiliPreferencesActivity:*,com.bilibili.app.authorspace.ui.AuthorSpaceActivity:*,com.bilibili.search2.main.BiliMainSearchActivity:*",activityRule:"tv.danmaku.bili.MainActivityV2,com.bilibili.column.ui.detail.image.ColumnImageViewerActivity,com.bilibili.studio.centerplus.ui.CenterPlusMainActivity,com.bilibili.lib.imageviewer.MediaViewerActivity,com.bilibili.socialize.share.core.ui.BiliShareDelegateActivity,com.bilibili.socialize.share.core.ui.QQAssistActivity,com.tencent.connect.common.AssistActivity,com.bilibili.upper.module.archive.activity.ArchiveTempActivity",transitionRules:"tv.danmaku.bili.MainActivityV2,tv.danmaku.bili.sms.SmsLoginDialogActivityV2,com.bilibili.teenagersmode.ui.TeenagersModeDialogActivity,tv.danmaku.bili.ui.answer.AnswerDialogTransferActivity,com.bilibili.bilibililive.ui.room.modresource.BlinkModResourceLoadingActivity,com.bilibili.bilibililive.ui.room.BlinkRoomActivityV2,com.bilibili.lib.fasthybrid.blrouter.SADispatcherActivity,com.bilibili.lib.fasthybrid.container.GameContainerActivity0",flags:"reusePreContainer:com.bilibili.bplus.followinglist.page.browser.ui.LightBrowserActivityV2",forcePortraitActivity:"tv.danmaku.bili/com.bilibili.app.preferences.storage.BiliStorageManagerActivity"},..."tablet"===t.deviceType?{fo:{name:"com.bilibili.app.blue",...t.MIOSVersion&&t.MIOSVersion>=2&&t.androidTargetSdk>=35?{skipSelfAdaptive:!0,supportModes:"full,fo"}:void 0}}:void 0,type:"embedded",device:"tablet"===t.deviceType?"pad":"fold",mode:"embedded",...t.MIOSVersion&&t.MIOSVersion>=2&&t.androidTargetSdk>=35?{thirdPartyAppOptimize:!1}:void 0},s=JSON.stringify(n),r=$.deflate(s,{level:9,memLevel:9,windowBits:15}),c=new Uint8Array(r),u=de(c);l.create({title:"应用规则感知",type:"info",preset:"dialog",content(){const a=e=>T(le,{code:e,class:"my-5 overflow-y-auto line-clamp-6 select-text",language:"Base64",wordWrap:!0});return y("div",null,[y("p",null,[b("小米已为")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("适配了应用布局优化，您可以将此自定义规则通过")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[b("[应用横屏布局-从分享口令导入]")])," ",b("进行导入并开启")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("在")," ",y("span",{class:"font-bold "+(t.isDarkMode?"text-teal-400":"text-gray-600")},[b("应用布局优化")])," ",b("的开关，即可体验~")]),y("p",null,[b("Tips: 此规则需要搭配最新版的Hyper OS 2.0，老版本的 OS 2 可能由于小米BUG存在较为严重的内存泄露问题，会导致系统越来越卡顿。")]),a&&a(u)])},positiveText:"复制自定义规则到剪贴板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(u)},onNegativeClick:()=>{}})}}},Le={class:"mb-10"},Ee={class:"mt-3"},Fe={class:"mb-3 px-4 sm:px-0"},Ue={class:"flex flex-wrap"},Be={class:"flex flex-wrap"},Qe={class:"flex"},je=n({__name:"EmbeddedActivityView",setup(n){const m=J(),v=s("");H(),K();const g=Y(),A=d(),q=r(),le=c(),Oe=Z(),Ae=s(!1),Te=s(!1),Pe=s(null),De=s(null),Ce=s(null),Ie=p((()=>({theme:A.isDarkMode?te:ae}))),{message:Ve,modal:Re,notification:je}=ee(["message","modal","notification"],{configProviderProps:Ie}),We=[{title:"应用名称",minWidth:250,key:"name",render:(e,t)=>y("div",null,[e.applicationName&&y("p",null,[e.applicationName]),e.name&&y("p",null,[y("span",{class:{hidden:!e.applicationName}},[b("(")]),e.name,y("span",{class:{hidden:!e.applicationName}},[b(")")])]),m.allPackageName.has(e.name)&&y(u("n-button"),{class:"mr-1 mt-1",size:"tiny",ghost:!0,type:"success",onClick:()=>(e=>{Re.create({title:"应用布局优化说明",type:"success",preset:"dialog",content:()=>y("p",null,[" ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("已存在应用布局优化的规则，规则仅在应用横屏冷启动全屏场景下才会生效，如果规则未生效，请检查应用布局优化规则是否")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[b("启用")])," ",b("，并建议将应用的横屏配置修改为")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[b("全屏")]),b("，规则效果以应用个体差异而异，建议多多尝试。")])})})(e)},{default:()=>[b("应用布局优化")]}),Ne[e.name]&&y(u("n-button"),{class:"mr-1 mt-1",size:"tiny",ghost:!0,type:"warning",onClick:()=>Ne[e.name]&&Ne[e.name](e)},{default:()=>[b("应用不兼容感知")]}),ze[e.name]&&ze[e.name].isShow&&ze[e.name].isShow()&&y(u("n-button"),{class:"mr-1 mt-1",size:"tiny",ghost:!0,type:"info",onClick:()=>ze[e.name]&&ze[e.name].onClick&&ze[e.name].onClick(e)},{default:()=>[b("应用规则感知")]})])},{title:"规则来源",minWidth:100,key:"ruleMode",render(e,t){const a=e.isSupportSystemEmbedded&&"embedded"===e.settingMode,i={icon:"custom"===e.ruleMode||a?be:Se};if("custom"===e.ruleMode){const t=()=>{const e=[{label:"分享自定义规则",key:"shareCustomRule",icon:Ge(y("svg",{class:"icon","aria-hidden":"true"},[y("use",{"xlink:href":"#icon-fenxiang"},null)]),20)},{label:"清除自定义规则",key:"cleanCustomRule",icon:Ge(y("svg",{class:"icon","aria-hidden":"true"},[y("use",{"xlink:href":"#icon-qingchu"},null)]),20)}];return a&&e.unshift({label:"切换为系统规则",key:"switchToSystemEmbedded",icon:Ge(y("svg",{class:"icon","aria-hidden":"true"},[y("use",{"xlink:href":"#icon-chushihua"},null)]),20)}),e};return y(u("n-dropdown"),{onSelect:(t,a)=>(async(e,t,a)=>{if("tablet"!==A.deviceType)return Re.create({title:"不兼容说明",type:"warning",preset:"dialog",content:()=>y("p",null,[b("该功能仅兼容平板设备，不兼容折叠屏设备！")])}),void le.info("应用横屏布局-自定义规则","该功能仅兼容平板设备，不兼容折叠屏设备！");if("switchToSystemEmbedded"===e&&at(a),"cleanCustomRule"===e){const e=Re.create({title:"想清除自定义规则吗？",type:"warning",preset:"dialog",content:()=>y("p",null,[b("清除自定义规则后，你对")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[O(a.name,a.applicationName)])," ",b("所做的所有自定义配置将丢失，如果该应用同时还存在")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[b("模块规则")])," ",b("，将会还原回模块自身的适配规则。确定要继续吗？")]),positiveText:"确定清除",negativeText:"我再想想",onPositiveClick:async()=>{e.loading=!0,q.customConfigEmbeddedRulesList[a.name]&&delete q.customConfigEmbeddedRulesList[a.name],q.customConfigFixedOrientationList[a.name]&&delete q.customConfigFixedOrientationList[a.name],q.customConfigEmbeddedSettingConfig[a.name]&&delete q.customConfigEmbeddedSettingConfig[a.name],q.customThirdPartyAppOptimizeConfig[a.name]&&delete q.customThirdPartyAppOptimizeConfig[a.name];const[t,i]=await w(E({...A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?{setAppMode:{name:a.name,action:z(U(q.isPatchMode?q.patchEmbeddedRulesList[a.name]:q.sourceEmbeddedRulesList[a.name],q.isPatchMode?q.patchFixedOrientationList[a.name]:q.sourceFixedOrientationList[a.name]))}}:{switchAction:{name:a.name,action:(q.isPatchMode?q.patchEmbeddedRulesList[a.name]:q.sourceEmbeddedRulesList[a.name])?"enable":"disable"}}}));t?(Re.create({title:"清除自定义规则失败",type:"error",preset:"dialog",content:()=>y("p",null,[b("发生异常错误，更新失败了QwQ，详细错误请查看错误日志~")])}),e.loading=!1):(Re.create({title:"清除自定义规则成功",type:"success",preset:"dialog",content:()=>y("p",null,[b("好耶w，清除自定义规则成功了OwO~如果应用更新后的规则不生效，可以尝试重启平板再试试~")])}),e.loading=!1,q.updateMergeRuleList())}})}if("shareCustomRule"===e){const e={name:a.name,cmpt:A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?2:1,em:{name:a.name,...a.embeddedRules},fo:{name:a.name,...a.fixedOrientationRule},type:"embedded",device:"tablet"===A.deviceType?"pad":"fold",mode:a.settingMode,...A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?{thirdPartyAppOptimize:a.thirdPartyAppOptimize}:void 0},t=JSON.stringify(e),i=$.deflate(t,{level:9,memLevel:9,windowBits:15}),l=new Uint8Array(i),o=de(l),[n]=await w(navigator.clipboard.writeText(`我分享了一个[应用横屏布局]的自定义规则，可以前往[完美横屏应用计划 For Web UI]导入：\n${o}`));if(n)return void Re.create({title:"复制分享口令失败",type:"error",preset:"dialog",content:()=>y("p",null,[b("复制")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[O(a.name,a.applicationName)])," ",b("的分享口令失败了QwQ，可能由于没有读取/写入剪切板的权限或")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[b("自定义规则")])," ",b("长度过大。")]),negativeText:"确定"});Re.create({title:"复制分享口令成功",type:"success",preset:"dialog",content:()=>y("div",null,[y("p",null,[b("好耶w，复制")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[O(a.name,a.applicationName)])," ",b("分享口令成功了~")]),y("p",null,[b("如果没有复制成功，请确认是否给予了读取/写入剪切板的权限或")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[b("自定义规则")])," ",b("长度过大。")]),y("p",null,[b("分享口令导入入口位于")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[b("应用横屏布局- 从分享口令导入")])," ",b("。")])]),positiveText:"确定"})}})(t,0,e),size:"large",trigger:"click",options:t()},{default:()=>[y(u("n-button"),{size:"small",dashed:!0,type:"info"},{default:()=>[b("自定义规则")],...i})]})}if(a){const a=[{label:"模块规则说明",key:"moduleRuleModeExplain",icon:Ge(y("svg",{class:"icon","aria-hidden":"true"},[y("use",{"xlink:href":"#icon-shuoming1"},null)]),20)},{label:"切换为系统规则",key:"switchToSystemEmbedded",icon:Ge(y("svg",{class:"icon","aria-hidden":"true"},[y("use",{"xlink:href":"#icon-chushihua"},null)]),20)}];return y(u("n-dropdown"),{onSelect:(a,i)=>(async(e,t,a,i)=>{if("tablet"!==A.deviceType)return Re.create({title:"不兼容说明",type:"warning",preset:"dialog",content:()=>y("p",null,[b("该功能仅兼容平板设备，不兼容折叠屏设备！")])}),void le.info("应用横屏布局-模块规则","该功能仅兼容平板设备，不兼容折叠屏设备！");"moduleRuleModeExplain"===e&&tt(a,i,!0),"switchToSystemEmbedded"===e&&at(a)})(a,0,e,t),size:"large",trigger:"click",options:a},{default:()=>[y(u("n-button"),{size:"small",dashed:!0,type:"error"},{default:()=>[b("模块规则")],...i})]})}return y(u("n-button"),{size:"small",dashed:!0,type:"error",onClick:()=>tt(e)},{default:()=>[b("模块规则")],...i})}},{title:"规则修复",minWidth:100,key:"setting",render(e,t){const a={icon:we};return y("div",null,[y(u("n-button"),{size:"small",dashed:!0,type:"warning",onClick:()=>{return t=e,void Re.create({title:"想修复应用规则吗？",type:"warning",preset:"dialog",content:()=>y("p",null,[b("由于系统BUG，部分情况下会导致应用当前适配与实际不符，模块可以主动修复")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[O(t.name,t.applicationName)])," ",b("由于系统错误的兼容性配置导致应用布局异常的问题，确定要继续吗？")]),positiveText:"确定修复",negativeText:"我再想想",onPositiveClick:async()=>{const[e,a]=await w(B(t.name));if(e)Re.create({title:"修复应用规则失败",type:"error",preset:"dialog",content:()=>y("p",null,[b("发生异常错误，修复应用规则失败了QwQ，详细错误请查看错误日志~")])});else{if(A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35){const[e,a]=await w(Q(t.name,z(t.settingMode)));e&&(le.error("SetAppModeErr",e),Re.create({title:"修复应用规则失败",type:"error",preset:"dialog",content:()=>y("p",null,[b("发生异常错误，修复应用规则失败了QwQ，详细错误请查看错误日志~")])}))}else{const[e,a]=await w(j(t.name,["embedded","fullScreen"].includes(t.settingMode)?"enable":"disable"));e&&(le.error("SwitchActionErr",e),Re.create({title:"修复应用规则失败",type:"error",preset:"dialog",content:()=>y("p",null,[b("发生异常错误，修复应用规则失败了QwQ，详细错误请查看错误日志~")])}))}Re.create({title:"修复应用规则成功",type:"success",preset:"dialog",content:()=>y("p",null,[b("好耶w，修复")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[O(t.name,t.applicationName)])," ",b("的应用规则成功了OwO~")])})}}});var t}},{default:()=>[b("规则修复")],...a})])}},{title:"当前规则",minWidth:100,key:"settingMode",render(e,t){const a={icon:xe},i={embedded:{type:"success",name:"平行窗口",onClick(e,t){"tablet"===A.deviceType?et(e):Re.create({title:"不兼容说明",type:"warning",preset:"dialog",content:()=>y("p",null,[b("该功能仅兼容平板设备，不兼容折叠屏设备！")])})}},fullScreen:{type:"info",name:"全屏",onClick(e,t){"tablet"===A.deviceType?et(e):Re.create({title:"不兼容说明",type:"warning",preset:"dialog",content:()=>y("p",null,[b("该功能仅兼容平板设备不兼容折叠屏设备！")])})}},fixedOrientation:{type:"warning",name:"居中布局",onClick(e,t){"tablet"===A.deviceType?et(e):Re.create({title:"不兼容说明",type:"warning",preset:"dialog",content:()=>y("p",null,[b("该功能仅兼容平板设备，不兼容折叠屏设备！")])})}},disabled:{type:"error",name:"原始布局",onClick(e,t){"tablet"===A.deviceType?et(e):Re.create({title:"不兼容说明",type:"warning",preset:"dialog",content:()=>y("p",null,[b("该功能仅兼容平板设备，不兼容折叠屏设备！")])})}}};return y(u("n-button"),{size:"small",strong:!0,dashed:!0,type:i[e.settingMode].type,onClick:()=>i[e.settingMode].onClick(e,t)},{default:()=>[i[e.settingMode].name],...a})}}],$e=s(!1),He=s(null);function Ge(e,t){return()=>T(oe,{size:t},{default:()=>T(e)})}const qe=()=>{q.filterInstalledApps=!q.filterInstalledApps};P((()=>q.isNeedShowErrorModal),((e,t)=>{e&&($e.value=!0)}),{immediate:!1});const Je=async()=>{await A.getAndroidApplicationPackageNameList(),await q.initDefault()},Ke=D({page:1,pageSize:10,simple:!0,showSizePicker:!0,onChange:e=>{Ke.page=e},onUpdatePageSize:e=>{Ke.pageSize=e,Ke.page=1}}),Ye=s(!1),Ze=async()=>{await A.getAndroidApplicationPackageNameList(),Ye.value=!0;const[e,t]=await w(E());e?(Re.create({title:"操作失败",type:"error",preset:"dialog",content:()=>y("p",null,[b("发生异常错误，更新失败了QwQ，详细错误请查看错误日志~")])}),Ye.value=!1):(q.updateMergeRuleList(),Ye.value=!1,Re.create({title:"操作成功",type:"success",preset:"dialog",content:()=>y("div",null,[q.isDeepPatchMode&&y("p",null,[b("好耶w，检测到您已启用")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[b("深度定制模式")])," ",b("，已根据您当前已安装应用列表重新")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[b("修剪模块应用适配列表")])," ",b("，后续每次更新模块或者安装新的应用后，均需要重新操作")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[b("生成定制应用数据")])," ",b("。")]),!q.isDeepPatchMode&&y("p",null,[b("好耶w，已根据您设备当前的整体应用情况重新")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[b("修剪模块应用适配列表")])," ",b("，后续每次更新模块或者安装新的应用后，建议重新操作")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[b("生成定制应用数据")])," ",b("。")])]),negativeText:"确定"}))},Xe=async()=>{if("tablet"!==A.deviceType)return Re.create({title:"不兼容说明",type:"warning",preset:"dialog",content:()=>y("p",null,[b("该功能仅兼容平板设备，暂时不兼容折叠屏设备，请等待后续更新情况！")])}),void le.info("应用横屏布局-添加应用","该功能仅兼容平板设备，暂时不兼容折叠屏设备，请等待后续更新情况！");if(De.value){const[e,t]=await w(De.value.openDrawer());if(e)console.log("操作取消:",e);else{A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35&&(t.thirdPartyAppOptimize?q.customThirdPartyAppOptimizeConfig[t.name]=z(t.settingMode):q.sourceThirdPartyAppOptimizeConfig[t.name]?q.customThirdPartyAppOptimizeConfig[t.name]=-1:delete q.customThirdPartyAppOptimizeConfig[t.name]),"fullScreen"===t.settingMode&&(t.modePayload.fullRule&&(q.customConfigEmbeddedRulesList[t.name]={name:t.name,fullRule:t.modePayload.fullRule,...A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?{skipSelfAdaptive:!0}:{}}),q.customConfigFixedOrientationList[t.name]={name:t.name,...t.modePayload.isShowDivider?{isShowDivider:!0}:{},...t.modePayload.skipSelfAdaptive&&(!A.MIOSVersion||A.MIOSVersion<2||A.androidTargetSdk<35)?{disable:!0}:{},...t.modePayload.supportFullSize?{supportFullSize:!0}:{},...A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?{supportModes:"full,fo"}:{},...A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?{defaultSettings:"full"}:{},...A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?{skipSelfAdaptive:!0}:{}}),"fixedOrientation"===t.settingMode&&(q.customConfigFixedOrientationList[t.name]={name:t.name,...A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?{supportModes:"full,fo"}:{},...A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?{defaultSettings:"fo"}:{},...A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?{skipSelfAdaptive:!0}:{},...void 0!==t.modePayload.ratio?{ratio:t.modePayload.ratio}:{},...void 0!==t.modePayload.foRelaunch?{relaunch:t.modePayload.foRelaunch}:{}}),"disabled"===t.settingMode&&(q.customConfigFixedOrientationList[t.name]={name:t.name,disable:!0,...A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?{skipSelfAdaptive:!0}:{},...void 0!==t.modePayload.foRelaunch?{relaunch:t.modePayload.foRelaunch}:{},...t.modePayload.supportFullSize?{supportFullSize:!0}:{},...t.modePayload.isShowDivider?{isShowDivider:!0}:{}}),A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?q.customConfigEmbeddedSettingConfig[t.name]={name:t.name,...L(q.customConfigEmbeddedRulesList[t.name],q.customConfigFixedOrientationList[t.name],t.settingMode)}:q.systemEmbeddedSettingConfig[t.name]={name:t.name,embeddedEnable:!!["embedded","fullScreen"].includes(t.settingMode)};const[e,a]=await w(E({...A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?{setAppMode:{name:t.name,action:z(t.settingMode)}}:{switchAction:{name:t.name,action:["embedded","fullScreen"].includes(t.settingMode)?"enable":"disable"}}}));e?(Re.create({title:"应用添加失败",type:"error",preset:"dialog",content:()=>y("p",null,[b("发生异常错误，更新失败了QwQ，详细错误请查看错误日志~")])}),t.loadingCallback&&t.loadingCallback()):(Re.create({title:"应用添加成功",type:"success",preset:"dialog",content:()=>A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?y("p",null,[b("好耶w，")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[O(t.name,A.installedAppNameList[t.name]||q.applicationName[t.name])])," ",b("的应用配置添加成功了OwO~如果应用添加后的规则不生效，可以尝试重启平板再做尝试~")]):y("p",null,[b("好耶w，")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[O(t.name,A.installedAppNameList[t.name]||q.applicationName[t.name])])," ",b("的应用配置添加成功了OwO~如果应用添加后的规则不生效，可以尝试重启平板并且在")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[b("平板专区-平行窗口")])," ",b("内")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[["embedded","fullScreen"].includes(t.settingMode)?"打开":"关闭"])," ",b("该应用的开关再做尝试~")])}),q.updateMergeRuleList(),t.loadingCallback&&t.loadingCallback(),t.closeCallback&&t.closeCallback())}}},et=async(e,t)=>{var a;if("tablet"!==A.deviceType)return Re.create({title:"不兼容说明",type:"warning",preset:"dialog",content:()=>y("p",null,[b("该功能仅兼容平板设备，暂时不兼容折叠屏设备，请等待后续更新情况！")])}),void le.info("应用横屏布局-添加应用","该功能仅兼容平板设备，暂时不兼容折叠屏设备，请等待后续更新情况！");if(q.systemAppOptimizeConfig[e.name]&&A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35&&!A.isDisabledOS2SystemAppOptimize)Re.create({title:"该应用已受模块保护",type:"warning",preset:"dialog",content:()=>y("p",null,[b("为确保")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("正常横屏工作，模块已保护该应用不允许修改任何配置，如需修改请先前往")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[b("模块设置")])," ",b("禁用")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[b("系统应用横屏优化")])," ",b("。")])});else if(Ne[e.name]&&Ne[e.name]&&Ne[e.name](e),Ce.value){const[t,i]=await w(Ce.value.openDrawer(e));if(t)console.log("操作取消:",t);else{if(A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35&&(i.thirdPartyAppOptimize?q.customThirdPartyAppOptimizeConfig[i.name]=z(i.settingMode):q.sourceThirdPartyAppOptimizeConfig[i.name]?q.customThirdPartyAppOptimizeConfig[i.name]=-1:delete q.customThirdPartyAppOptimizeConfig[i.name]),"fullScreen"===i.settingMode){const{moduleEmbeddedRules:t,currentEmbeddedRules:a,moduleFixedOrientation:l,currentFixedOrientation:o}=X(e.name);if(a.value?(i.modePayload.fullRule&&(a.value.fullRule=i.modePayload.fullRule,a.value.skipSelfAdaptive=!0),A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35&&!i.modePayload.fullRule&&a.value.fullRule&&delete a.value.fullRule,Me(t.value,a.value)||(q.customConfigEmbeddedRulesList[e.name]={name:e.name,...a.value})):i.modePayload.fullRule?q.customConfigEmbeddedRulesList[e.name]={name:e.name,fullRule:i.modePayload.fullRule,...A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?{skipSelfAdaptive:!0}:{}}:A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35&&(q.customConfigEmbeddedRulesList[e.name]={name:e.name,skipSelfAdaptive:!0}),o.value){if(i.modePayload.hasOwnProperty("isShowDivider")&&(o.value.isShowDivider=i.modePayload.isShowDivider),i.modePayload.hasOwnProperty("supportFullSize")&&(o.value.supportFullSize=i.modePayload.supportFullSize),A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35){o.value.hasOwnProperty("disable")&&delete o.value.disable;o.value.hasOwnProperty("compatChange")&&delete o.value.compatChange,o.value.supportModes="full,fo",o.value.defaultSettings="full"}else i.modePayload.hasOwnProperty("skipSelfAdaptive")&&(o.value.disable=i.modePayload.skipSelfAdaptive);Me(l.value,o.value)||(q.customConfigFixedOrientationList[e.name]={name:e.name,...o.value})}else q.customConfigFixedOrientationList[e.name]={name:e.name,...i.modePayload.isShowDivider?{isShowDivider:!0}:{},...i.modePayload.skipSelfAdaptive&&(!A.MIOSVersion||A.MIOSVersion&&A.MIOSVersion<2||A.androidTargetSdk<35)?{disable:!0}:{},...i.modePayload.supportFullSize?{supportFullSize:!0}:{},...A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?{supportModes:"full,fo"}:{},...A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?{defaultSettings:"full"}:{},...A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?{skipSelfAdaptive:!0}:{}}}if("fixedOrientation"===i.settingMode){const{moduleEmbeddedRules:t,currentEmbeddedRules:l,moduleFixedOrientation:o,currentFixedOrientation:n}=X(e.name);if(l.value){if(A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35){l.value.hasOwnProperty("fullRule")&&delete l.value.fullRule}Me(t.value,l.value)||(q.customConfigEmbeddedRulesList[e.name]={name:e.name,...l.value})}if(n.value){n.value.hasOwnProperty("disable")&&delete n.value.disable;if(n.value.hasOwnProperty("isScale")&&delete n.value.isScale,void 0!==i.modePayload.ratio?n.value.ratio=i.modePayload.ratio:delete n.value.ratio,void 0!==i.modePayload.foRelaunch?n.value.relaunch=i.modePayload.foRelaunch:delete n.value.relaunch,A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35)if(n.value.supportModes="full,fo",n.value.defaultSettings="fo",n.value.skipSelfAdaptive=!0,i.modePayload.hasOwnProperty("forceFixedOrientation")&&i.modePayload.forceFixedOrientation)if(n.value.compatChange){const e=new Set(null==(a=n.value.compatChange)?void 0:a.split(","));e.add("OVERRIDE_UNDEFINED_ORIENTATION_TO_PORTRAIT"),n.value.compatChange=[...e].join(",")}else n.value.compatChange="OVERRIDE_UNDEFINED_ORIENTATION_TO_PORTRAIT";else{n.value.hasOwnProperty("compatChange")&&delete n.value.compatChange}Me(o.value,n.value)||(q.customConfigFixedOrientationList[e.name]={name:e.name,...n.value})}else q.customConfigFixedOrientationList[e.name]={name:e.name,...A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?{supportModes:"full,fo"}:{},...A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?{defaultSettings:"fo"}:{},...A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?{skipSelfAdaptive:!0}:{},...A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35&&i.modePayload.forceFixedOrientation?{compatChange:"OVERRIDE_UNDEFINED_ORIENTATION_TO_PORTRAIT"}:{},...void 0!==i.modePayload.ratio?{ratio:i.modePayload.ratio}:{},...void 0!==i.modePayload.foRelaunch?{relaunch:i.modePayload.foRelaunch}:{}}}if("disabled"===i.settingMode&&e.settingMode!==i.settingMode){const{moduleEmbeddedRules:t,currentEmbeddedRules:a,moduleFixedOrientation:l,currentFixedOrientation:o}=X(e.name);if(o.value){o.value.skipSelfAdaptive=!0,o.value.disable=!0;o.value.hasOwnProperty("compatChange")&&delete o.value.compatChange;o.value.hasOwnProperty("isScale")&&delete o.value.isScale,i.modePayload.hasOwnProperty("isShowDivider")&&(o.value.isShowDivider=i.modePayload.isShowDivider),i.modePayload.hasOwnProperty("supportFullSize")&&(o.value.supportFullSize=i.modePayload.supportFullSize),Me(l.value,o.value)||(q.customConfigFixedOrientationList[e.name]={name:e.name,...o.value})}else q.customConfigFixedOrientationList[e.name]={name:e.name,disable:!0,...A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?{skipSelfAdaptive:!0}:{}}}if("embedded"===i.settingMode){if(q.customConfigEmbeddedRulesList[e.name])i.modePayload.hasOwnProperty("splitRatio")&&(q.customConfigEmbeddedRulesList[e.name].splitRatio=i.modePayload.splitRatio),i.modePayload.hasOwnProperty("emRelaunch")&&(q.customConfigEmbeddedRulesList[e.name].relaunch=i.modePayload.emRelaunch),i.modePayload.hasOwnProperty("emIsDisabledPlaceholder")&&i.modePayload.emIsDisabledPlaceholder&&delete q.customConfigEmbeddedRulesList[e.name].placeholder,q.customConfigEmbeddedRulesList[e.name].hasOwnProperty("fullRule")&&delete q.customConfigEmbeddedRulesList[e.name].fullRule;else{let t=!1;i.modePayload.hasOwnProperty("splitRatio")&&(t=!0),i.modePayload.hasOwnProperty("emRelaunch")&&(t=!0),i.modePayload.hasOwnProperty("placeholder")&&(t=!0),t&&(q.customConfigEmbeddedRulesList[e.name]={...q.isPatchMode?q.patchEmbeddedRulesList[e.name]:q.sourceEmbeddedRulesList[e.name],...i.modePayload.hasOwnProperty("splitRatio")&&{splitRatio:i.modePayload.splitRatio},...i.modePayload.hasOwnProperty("emRelaunch")&&{relaunch:i.modePayload.emRelaunch}},i.modePayload.hasOwnProperty("emIsDisabledPlaceholder")&&i.modePayload.emIsDisabledPlaceholder&&delete q.customConfigEmbeddedRulesList[e.name].placeholder,q.customConfigEmbeddedRulesList[e.name].hasOwnProperty("fullRule")&&delete q.customConfigEmbeddedRulesList[e.name].fullRule)}if(A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35){const{moduleEmbeddedRules:t,currentEmbeddedRules:a,moduleFixedOrientation:i,currentFixedOrientation:l}=X(e.name);if(l.value){l.value.hasOwnProperty("disable")&&delete l.value.disable;l.value.hasOwnProperty("defaultSettings")&&delete l.value.defaultSettings;l.value.hasOwnProperty("skipSelfAdaptive")||(l.value.skipSelfAdaptive=!0);l.value.hasOwnProperty("compatChange")&&delete l.value.compatChange}if(a.value){a.value.hasOwnProperty("skipSelfAdaptive")||(a.value.skipSelfAdaptive=!0)}Me(t.value,a.value)||(q.customConfigFixedOrientationList[e.name]={name:e.name,...l.value}),Me(i.value,l.value)||(q.customConfigEmbeddedRulesList[e.name]={name:e.name,...a.value})}}if(A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35){const{moduleEmbeddedRules:t,currentEmbeddedRules:a,moduleFixedOrientation:l,currentFixedOrientation:o}=X(e.name);e.settingMode!==i.settingMode&&(q.customConfigEmbeddedSettingConfig[e.name]={name:e.name,...L(a.value,o.value,i.settingMode)})}else q.systemEmbeddedSettingConfig[e.name]={name:e.name,embeddedEnable:!!["embedded","fullScreen"].includes(i.settingMode)};const[t,l]=await w(E({...A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?{setAppMode:{name:e.name,action:z(i.settingMode)}}:{switchAction:{name:e.name,action:["embedded","fullScreen"].includes(i.settingMode)?"enable":"disable"}}}));t?(Re.create({title:"应用更新失败",type:"error",preset:"dialog",content:()=>y("p",null,[b("发生异常错误，更新失败了QwQ，详细错误请查看错误日志~")])}),i.loadingCallback&&i.loadingCallback()):(Re.create({title:"应用更新成功",type:"success",preset:"dialog",content:()=>A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?y("p",null,[b("好耶w，")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("的应用配置更新成功了OwO~如果应用更新后的规则不生效，可以尝试重启平板再做尝试~")]):y("p",null,[b("好耶w，")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("的应用配置更新成功了OwO~如果应用更新后的规则不生效，可以尝试重启平板并且在")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[b("平板专区-平行窗口")])," ",b("内")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[["embedded","fullScreen"].includes(i.settingMode)?"打开":"关闭"])," ",b("该应用的开关再做尝试~")])}),q.updateMergeRuleList(),i.loadingCallback&&i.loadingCallback(),i.closeCallback&&i.closeCallback())}}},tt=(e,t,a)=>{"tablet"===A.deviceType?Re.create({title:"模块规则说明",type:"warning",preset:"dialog",content:()=>a?y("div",null,[y("p",null,[b("模块已对")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("配置了合适的适配规则，且不可被移除，仅有自定义规则可以被移除哦~")]),y("p",null,[b("由于小米也对")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("提供了系统规则，您可以选择切换系统规则作为")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("的自定义规则~")])]):y("p",null,[b("模块已对")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("配置了合适的适配规则，且不可被移除，仅有自定义规则可以被移除哦~")])}):Re.create({title:"不兼容说明",type:"warning",preset:"dialog",content:()=>y("p",null,[b("该功能仅兼容平板设备，不兼容折叠屏设备！")])})},at=async(e,t)=>{const a=Re.create({title:"想切换为系统规则吗？",type:"warning",preset:"dialog",content:()=>y("p",null,[b("切换为系统规则后，模块将会使用")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[b("系统内置规则")])," ",b("作为")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("的自定义规则，如后续需要改回")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[b("平行窗口的模块规则")])," ",b("则需要先清除自定义规则，确定要继续吗？")]),positiveText:"确定切换",negativeText:"我再想想",onPositiveClick:async()=>{if(a.loading=!0,!q.systemEmbeddedRulesList[e.name])return Re.create({title:"切换系统规则失败",type:"error",preset:"dialog",content:()=>y("p",null,[b("无法找到")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("的系统规则，切换系统规则失败~")]),negativeText:"确定"}),void(a.loading=!1);{q.customConfigEmbeddedRulesList[e.name]=q.systemEmbeddedRulesList[e.name];const[t,i]=await w(E());t?(Re.create({title:"应用更新失败",type:"error",preset:"dialog",content:()=>y("p",null,[b("发生异常错误，更新失败了QwQ，详细错误请查看错误日志~")])}),a.loading=!1):(Re.create({title:"应用更新成功",type:"success",preset:"dialog",content:()=>A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?y("p",null,[b("好耶w，")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("的应用配置更新成功了OwO~如果应用更新后的规则不生效，可以尝试重启平板再做尝试~")]):y("p",null,[b("好耶w，")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[O(e.name,e.applicationName)])," ",b("的应用配置更新成功了OwO~如果应用更新后的规则不生效，可以尝试重启平板并且在")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[b("平板专区-平行窗口")])," ",b("内")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[["embedded","fullScreen"].includes(e.settingMode)?"打开":"关闭"])," ",b("该应用的开关再做尝试~")])}),q.updateMergeRuleList(),a.loading=!1)}}})};return C((()=>{I((()=>{q.isNeedShowReloadPathModeDialog&&W((async()=>{const[,e]=await w(new Promise(((e,t)=>{Re.create({title:"是否需要重新生成定制应用数据？",type:"info",preset:"dialog",content:()=>y("p",null,[b("检测到您最近已经更新了模块版本并且开启了")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[b("定制模式")])," ",b("，模块需要重新操作")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[b("生成定制应用数据")])," ",b("，确定要继续吗？")]),positiveText:"确定",negativeText:"取消",onPositiveClick(){e("success")},onNegativeClick(){t("cancel")},onMaskClick(){t("cancel")},onClose(){t("cancel")}})})));e&&Ze(),q.isNeedShowReloadPathModeDialog=!1,A.needReloadData=!1}))}))})),(n,s)=>{const d=u("n-alert"),r=u("n-input-group"),c=u("n-card");return i(),l(h,null,[o("main",Le,[o("div",Ee,[o("div",Fe,[s[13]||(s[13]=o("h3",{class:V("text-base font-semibold leading-7")},[o("span",{class:"animated-bg bg-clip-text font-semibold text-transparent",style:{"background-image":"linear-gradient(\n\t\t\t\t\t\t\t\t101.22deg,\n\t\t\t\t\t\t\t\trgb(255, 182, 133) -18.32%,\n\t\t\t\t\t\t\t\trgb(255, 111, 29) 7.01%,\n\t\t\t\t\t\t\t\trgb(252, 181, 232) 41.59%,\n\t\t\t\t\t\t\t\trgb(135, 148, 255) 70.98%,\n\t\t\t\t\t\t\t\trgb(60, 112, 255) 91.35%,\n\t\t\t\t\t\t\t\trgb(60, 112, 255) 110.17%\n\t\t\t\t\t\t\t)"}},"应用横屏布局")],-1)),o("p",{class:V("mt-1 max-w-2xl text-sm leading-6 "+(M(A).isDarkMode?"text-gray-300":"text-gray-500"))}," 应用横屏布局，优化应用在横屏下的体验。 ",2)])]),y(c,{size:"small"},{default:f((()=>[M(A).skipConfirm.patchModeAlert?S("",!0):(i(),k(d,{key:0,type:"info",class:"mb-3",closable:"",onClose:s[0]||(s[0]=()=>{M(A).skipConfirm.patchModeAlert=!0})},{default:f((()=>s[14]||(s[14]=[b(" 由于小米系统优化不佳的原因，大量的应用适配规则可能导致系统出现卡顿、掉帧等问题，建议老机型可以前往开启模块的定制模式，详情可以前往模块设置中了解。 ")]))),_:1})),o("div",Ue,[y(M(ie),{class:"mb-3 mr-3",type:"info",loading:M(A).loading||M(q).loading,onClick:Xe},{icon:f((()=>[y(M(oe),null,{default:f((()=>[y(M(ce))])),_:1})])),default:f((()=>[s[15]||(s[15]=b(" 添加应用 "))])),_:1},8,["loading"]),y(M(ie),{class:"mb-3 mr-3",type:"success",loading:M(A).loading||M(q).loading,onClick:s[1]||(s[1]=()=>Je())},{icon:f((()=>[y(M(oe),null,{default:f((()=>[y(M(pe))])),_:1})])),default:f((()=>[s[16]||(s[16]=b(" 刷新应用列表 "))])),_:1},8,["loading"]),y(M(ie),{class:"mb-3 mr-3",color:"#8a2be2",loading:M(A).loading||M(q).loading||Te.value,onClick:s[2]||(s[2]=()=>(async()=>{Te.value=!0,await Je();const[e,t]=await w(F("miui_embedding_window"));e&&(Re.create({title:"热重载应用数据失败",type:"error",preset:"dialog",content:()=>y("p",null,[b("热重载应用数据失败了QwQ，详情请查看错误日志~")]),negativeText:"确定"}),Te.value=!1),t&&(Re.create({title:"热重载应用数据成功",type:"success",preset:"dialog",content:()=>y("p",null,[b("好耶w，已经重新为你载入包括自定义规则在内的应用数据~")]),positiveText:"确定"}),Te.value=!1)})())},{icon:f((()=>[y(M(oe),null,{default:f((()=>[y(M(ve))])),_:1})])),default:f((()=>[s[17]||(s[17]=b(" 热重载应用数据 "))])),_:1},8,["loading"]),M(q).isPatchMode?(i(),k(M(ie),{key:0,class:"mb-3 mr-3",type:"error",loading:M(A).loading||M(q).loading||Ye.value,onClick:s[3]||(s[3]=()=>Ze())},{icon:f((()=>[y(M(oe),null,{default:f((()=>[y(M(he))])),_:1})])),default:f((()=>[s[18]||(s[18]=b(" 生成定制应用数据 "))])),_:1},8,["loading"])):S("",!0),y(M(ie),{class:"mb-3 mr-3",color:"#69b2b6",loading:M(A).loading||M(q).loading||M(g).loading.value,onClick:s[4]||(s[4]=e=>(async()=>{const[e,t]=await w(g.getList());e&&Re.create({title:"获取失败",type:"warning",preset:"dialog",content:()=>y("p",null,[b("您的系统环境暂不支持该功能，获取失败~")]),negativeText:"确定"}),t&&Re.create({title:"获取成功",type:"success",preset:"dialog",content:()=>y("p",null,[b("好耶OwO，已重新获取当前已安装的应用名称~")]),negativeText:"确定"})})())},{icon:f((()=>[y(M(oe),null,{default:f((()=>[y(M(ge))])),_:1})])),default:f((()=>[s[19]||(s[19]=b(" 获取已安装应用名称 "))])),_:1},8,["loading"]),y(M(ie),{class:"mb-3 mr-3",type:"warning",loading:M(A).loading||M(q).loading||Ae.value,onClick:s[5]||(s[5]=e=>(async()=>{v.value="";const[,e]=await w(new Promise(((e,t)=>{Re.create({title:"请粘贴分享规则口令",preset:"dialog",style:"min-width:500px; width:50%;",class:"responsive-modal",content:()=>T(ne,{type:"textarea",value:v.value,"onUpdate:value":e=>{v.value=e},autosize:{minRows:8,maxRows:8},placeholder:"在此处粘贴分享规则口令"}),positiveText:"确定提交",negativeText:"取消导入",onPositiveClick(){e("positiveClick")}})})));if(e){Ae.value=!0;const e=v.value,a=N(e);if(!(null==a?void 0:a.length))return Re.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>y("p",null,[b("导入分享规则失败了QwQ，解析")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[b("自定义规则")])," ",b("口令发生错误，无法正常解析。")]),negativeText:"确定"}),void(Ae.value=!1);try{const e=re(a),t=$.inflate(e,{to:"string"}),i=JSON.parse(t);if("embedded"!==i.type)return Re.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>y("p",null,[b("导入分享规则失败了QwQ，该")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[b("自定义规则")])," ",b("不适用于应用横屏布局。")]),negativeText:"确定"}),void(Ae.value=!1);if("pad"===i.device&&"tablet"!==A.deviceType||"fold"===i.device&&"tablet"===A.deviceType)return Re.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>y("p",null,[b("导入分享规则失败了QwQ，平板和折叠屏的适配规则不能混用哦~")]),negativeText:"确定"}),void(Ae.value=!1);if(1===i.comp&&A.MIOSVersion&&A.MIOSVersion>1)return Re.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>y("p",null,[b("导入分享规则失败了QwQ，该")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[b("自定义规则")])," ",b("仅兼容Android 13 - 14 的小米机型。")]),negativeText:"确定"}),void(Ae.value=!1);if(2===i.comp&&(!A.MIOSVersion||A.MIOSVersion<2||A.androidTargetSdk<35))return Re.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>y("p",null,[b("导入分享规则失败了QwQ，该")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[b("自定义规则")])," ",b("仅兼容Android 15+的小米机型。")]),negativeText:"确定"}),void(Ae.value=!1);q.customConfigEmbeddedRulesList[i.name]=i.em,q.customConfigFixedOrientationList[i.name]=i.fo,A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?(i.thirdPartyAppOptimize?q.customThirdPartyAppOptimizeConfig[i.name]=z(i.mode):q.sourceThirdPartyAppOptimizeConfig[i.name]?q.customThirdPartyAppOptimizeConfig[i.name]=-1:delete q.customThirdPartyAppOptimizeConfig[i.name],q.customConfigEmbeddedSettingConfig[i.name]={name:i.name,...L(q.customConfigEmbeddedRulesList[i.name],q.customConfigFixedOrientationList[i.name],i.mode)}):q.systemEmbeddedSettingConfig[i.name]={name:i.name,embeddedEnable:!!["embedded","fullScreen"].includes(i.mode)};const[l,o]=await w(E({...A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?{setAppMode:{name:i.name,action:z(i.mode)}}:{switchAction:{name:i.name,action:["embedded","fullScreen"].includes(i.mode)?"enable":"disable"}}}));l?(Re.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>y("p",null,[b("发生异常错误，导入失败了QwQ，详细错误请查看错误日志~")])}),Ae.value=!1):(q.updateMergeRuleList(),await Je(),Ae.value=!1,Re.create({title:"导入分享规则成功",type:"success",preset:"dialog",content:()=>A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?y("p",null,[b("好耶w，")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[O(i.name,A.installedAppNameList[i.name]||q.applicationName[i.name])])," ",b("的应用导入成功了OwO~如果应用更新后的规则不生效，可以尝试重启平板再做尝试~")]):y("p",null,[b("好耶w，")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[O(i.name,A.installedAppNameList[i.name]||q.applicationName[i.name])])," ",b("的应用导入成功了OwO~如果应用更新后的规则不生效，可以尝试重启平板并且在")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[b("平板专区-平行窗口")])," ",b("内")," ",y("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[["embedded","fullScreen"].includes(i.mode)?"打开":"关闭"])," ",b("该应用的开关再做尝试~")]),positiveText:"确定"}))}catch(t){Re.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>y("p",null,[b("解析分享规则失败了QwQ，请检查导入口令是否有误")]),negativeText:"确定"}),Ae.value=!1}}})())},{icon:f((()=>[y(M(oe),null,{default:f((()=>[y(M(ke))])),_:1})])),default:f((()=>[s[20]||(s[20]=b(" 从分享口令导入 "))])),_:1},8,["loading"])]),o("div",Be,[y(M(ie),{class:"mb-3 mr-3",type:M(q).filterInstalledApps?"success":"info",strong:"",loading:M(A).loading||M(q).loading,secondary:"",onClick:qe},{icon:f((()=>[y(M(oe),null,{default:f((()=>[M(q).filterInstalledApps?(i(),k(M(ye),{key:0})):(i(),k(M(fe),{key:1}))])),_:1})])),default:f((()=>[b(" "+x(M(q).filterInstalledApps?"已安装应用":"全部应用"),1)])),_:1},8,["type","loading"]),y(M(ie),{class:"mb-3 mr-3",type:"warning",secondary:"",loading:M(A).loading||M(q).loading,onClick:s[6]||(s[6]=()=>R())},{icon:f((()=>[y(M(oe),null,{default:f((()=>s[21]||(s[21]=[o("img",{src:e},null,-1)]))),_:1})])),default:f((()=>[s[22]||(s[22]=b(" 应用抽屉 "))])),_:1},8,["loading"]),y(M(ie),{class:"mb-3 mr-3",type:"error",secondary:"",loading:M(A).loading||M(q).loading,onClick:s[7]||(s[7]=()=>_())},{icon:f((()=>[y(M(oe),null,{default:f((()=>s[23]||(s[23]=[o("img",{src:t},null,-1)]))),_:1})])),default:f((()=>[s[24]||(s[24]=b(" 超级小爱 "))])),_:1},8,["loading"]),y(M(ie),{class:"mb-3 mr-3",type:"info",secondary:"",loading:M(A).loading||M(q).loading,onClick:s[8]||(s[8]=e=>M(Oe).getModal())},{icon:f((()=>[y(M(oe),{size:"16"},{default:f((()=>s[25]||(s[25]=[o("img",{src:a},null,-1)]))),_:1})])),default:f((()=>[s[26]||(s[26]=b(" 应用适配收集表 "))])),_:1},8,["loading"])]),o("div",Qe,[y(r,null,{default:f((()=>[y(M(ne),{size:"large",clearable:"",value:M(q).searchKeyWord,"onUpdate:value":s[9]||(s[9]=e=>M(q).searchKeyWord=e),ref_key:"searchKeyWordInput",ref:Pe,placeholder:"搜索应用名称/应用包名",autosize:"",style:{width:"80%"}},null,8,["value"]),y(M(ie),{size:"large",type:"primary",onClick:s[10]||(s[10]=()=>{var e;null==(e=Pe.value)||e.blur()})},{icon:f((()=>[y(M(oe),null,{default:f((()=>[y(M(ue))])),_:1})])),default:f((()=>[s[27]||(s[27]=b(" 搜索 "))])),_:1}),y(M(ie),{size:"large",bordered:"",onClick:s[11]||(s[11]=()=>{M(q).searchKeyWord=""})},{icon:f((()=>[y(M(oe),null,{default:f((()=>[y(M(me))])),_:1})])),default:f((()=>[s[28]||(s[28]=b(" 清空 "))])),_:1})])),_:1})])])),_:1}),y(M(se),{ref_key:"embeddedTableRef",ref:He,size:"small",loading:M(A).loading||M(q).loading,columns:M(We),class:"mt-3",data:M(q).filterMergeRuleList,pagination:Ke},null,8,["loading","columns","data","pagination"])]),y(G,{modelValue:$e.value,"onUpdate:modelValue":s[12]||(s[12]=e=>$e.value=e),errorLogging:M(q).errorLogging},null,8,["modelValue","errorLogging"]),y(_e,{ref_key:"addEmbeddedApp",ref:De,type:"add",title:"添加应用"},null,512),y(_e,{ref_key:"updateEmbeddedApp",ref:Ce,type:"update",title:"更新应用"},null,512)],64)}}});export{je as default};
