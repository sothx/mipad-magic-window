import{d as t,L as e,r as a,b as l,Z as o,ak as n,bo as s,bp as r,bq as c,by as i,bw as u,J as d,bt as m,F as p,cZ as y,c as f,bu as h,bv as g,bx as b}from"./apis-5SAx8T_8.js";import{ax as I,x as v,y as w,z as x,U as R}from"./hooks-BDbWn4AL.js";import{R as S}from"./RenderJSX-B6My-sGR.js";import{r as k,a as F}from"./XCircleIcon-Dkq9jxjd.js";import"./lodash-DMrPhC4V.js";const B={class:"batteryHealth"},M={class:"mt-3"},D={class:"px-3 sm:px-0"},_={class:"flex"},q=t({__name:"BatteryHealth",setup(t){const q=e(),z=I(),$=a(""),C=a(null),U=l((()=>({theme:q.isDarkMode?v:w}))),{message:j,modal:A}=x(["message","modal"],{configProviderProps:U}),P=({focused:t,checked:e})=>{const a={};return e?(a.background="#d03050",t&&(a.boxShadow="0 0 0 2px #d0305040")):(a.background="#2080f0",t&&(a.boxShadow="0 0 0 2px #2080f040")),a},X=[{title:"真实电量（高通）",content:()=>o(p,null,[o("p",null,[`${z.qcomBatteryFg1RSocInfo.current} %`,o(s("n-button"),{class:"ml-1",strong:!0,secondary:!0,size:"small",type:"success",onClick:()=>z.qcomBatteryFg1RSocInfo.reload()},{default:()=>[f("手动刷新")]}),o(s("n-switch"),{class:"ml-2",value:z.qcomBatteryFg1RSocInfo.autoReload,"onUpdate:value":t=>z.qcomBatteryFg1RSocInfo.autoReload=t,"rail-style":P},{checked:()=>"开启自动刷新",unchecked:()=>"未开启自动刷新"})]),z.qcomBatteryFg1RSocInfo.autoReload&&o("div",null,[o("p",{class:"my-2"},[f("隔多少秒刷新一次")]),o("p",null,[o(s("n-slider"),{value:z.qcomBatteryFg1RSocInfo.timer,"onUpdate:value":t=>z.qcomBatteryFg1RSocInfo.timer=t,size:"small",min:1,max:30,step:1},null),o(s("n-input-number"),{"show-button":!1,class:"pt-3",readonly:!0,placeholder:"请输入刷新频率间隔时间",value:z.qcomBatteryFg1RSocInfo.timer,"onUpdate:value":t=>z.qcomBatteryFg1RSocInfo.timer=t,min:0,max:30,step:1},null)])])]),isShow:()=>Boolean(z.qcomBatteryFg1RSocInfo.current)},{title:"真实电量",content:()=>o(p,null,[o("p",null,[z.capacityRawInfo.current/100+" %",o(s("n-button"),{class:"ml-1",strong:!0,secondary:!0,size:"small",type:"success",onClick:()=>z.capacityRawInfo.reload()},{default:()=>[f("手动刷新")]}),o(s("n-switch"),{class:"ml-2",value:z.capacityRawInfo.autoReload,"onUpdate:value":t=>z.capacityRawInfo.autoReload=t,"rail-style":P},{checked:()=>"开启自动刷新",unchecked:()=>"未开启自动刷新"})]),z.capacityRawInfo.autoReload&&o("div",null,[o("p",{class:"my-2"},[f("隔多少秒刷新一次")]),o("p",null,[o(s("n-slider"),{value:z.capacityRawInfo.timer,"onUpdate:value":t=>z.capacityRawInfo.timer=t,size:"small",min:1,max:30,step:1},null),o(s("n-input-number"),{"show-button":!1,class:"pt-3",readonly:!0,placeholder:"请输入刷新频率间隔时间",value:z.capacityRawInfo.timer,"onUpdate:value":t=>z.capacityRawInfo.timer=t,min:0,max:30,step:1},null)])])]),isShow:()=>Boolean(z.capacityRawInfo.current)},{title:"电池出厂设计容量",content:()=>o("p",null,[q.batteryInfo.chargeFullDesign/1e3+" mAh"]),isShow:()=>Boolean(q.batteryInfo.chargeFullDesign)},{title:"电池当前预估容量",content:()=>o("p",null,[q.batteryInfo.chargeFull/1e3+" mAh"]),isShow:()=>Boolean(q.batteryInfo.chargeFull)},{title:"电池循环充电次数",content:()=>o("p",null,[`${q.batteryInfo.cycleCount} 次`]),isShow:()=>Boolean(q.batteryInfo.cycleCount)},{title:"电池预估健康度",content:()=>o("p",null,[`${(q.batteryInfo.chargeFull/q.batteryInfo.chargeFullDesign*100).toFixed(2)} %`]),isShow:()=>Boolean(q.batteryInfo.chargeFullDesign&&q.batteryInfo.chargeFull)},{title:"电池售后健康度（高通）",content:()=>o(p,null,[o("p",null,[`${q.batteryInfo.sohQcom} %`]),o("p",null,[`≈ ${Math.round(q.batteryInfo.chargeFullDesign*(q.batteryInfo.sohQcom/100)/1e3)} mAh`]),o(s("n-alert"),{class:"mt-5",type:"info","show-icon":!1,bordered:!1},{default:()=>[o("p",null,[f("在设备保修期内健康度低于80%可以申请电池质保")])]})]),isShow:()=>Boolean(q.batteryInfo.sohQcom)},{title:"电池售后健康度",content:()=>o(p,null,[o("p",null,[`${q.batteryInfo.sohMTK} %`]),o("p",null,[`≈ ${Math.round(q.batteryInfo.chargeFullDesign*(q.batteryInfo.sohMTK/100)/1e3)} mAh`]),o(s("n-alert"),{class:"mt-5",type:"info","show-icon":!1,bordered:!1},{default:()=>[o("p",null,[f("在设备保修期内健康度低于80%可以申请电池质保")])]})]),isShow:()=>Boolean(q.batteryInfo.sohMTK)},{title:"电池售后健康度（小米）",content:()=>o(p,null,[o("p",null,[`${q.batteryInfo.sohXMPower} %`]),o("p",null,[`≈ ${Math.round(q.batteryInfo.chargeFullDesign*(q.batteryInfo.sohXMPower/100)/1e3)} mAh`]),o(s("n-alert"),{class:"mt-5",type:"info","show-icon":!1,bordered:!1},{default:()=>[o("p",null,[f("在设备保修期内健康度低于80%可以申请电池质保")])]})]),isShow:()=>Boolean(q.batteryInfo.sohXMPower)}],K=l((()=>{const t=$.value.trim().toLowerCase();return X.filter((e=>{var a,l;if(!(!e.isShow||e.isShow()))return!1;if(!t)return!0;const o=(null==(l=null==(a=e.title)?void 0:a.toLowerCase)?void 0:l.call(a))??"";return o.includes(t)||!1!==n.match(o,t)}))}));return(t,e)=>{const a=s("n-icon"),l=s("n-button"),n=s("n-input-group"),I=s("n-card");return c(),r("div",B,[i("div",M,[i("div",D,[e[3]||(e[3]=i("h3",{class:u("text-base font-semibold leading-7")},[i("span",{class:"animated-bg bg-clip-text font-semibold text-transparent",style:{"background-image":"linear-gradient(\r\n\t\t\t\t\t\t\t\t101.22deg,\r\n\t\t\t\t\t\t\t\trgb(255, 182, 133) -18.32%,\r\n\t\t\t\t\t\t\t\trgb(255, 111, 29) 7.01%,\r\n\t\t\t\t\t\t\t\trgb(252, 181, 232) 41.59%,\r\n\t\t\t\t\t\t\t\trgb(135, 148, 255) 70.98%,\r\n\t\t\t\t\t\t\t\trgb(60, 112, 255) 91.35%,\r\n\t\t\t\t\t\t\t\trgb(60, 112, 255) 110.17%\r\n\t\t\t\t\t\t\t)"}},"电池健康")],-1)),i("p",{class:u("mt-1 max-w-2xl text-sm leading-6 "+(d(q).isDarkMode?"text-gray-300":"text-gray-500"))}," 电池健康，提供电池健康状态监测。 ",2)]),o(I,{size:"small",class:"mt-5"},{default:m((()=>[i("div",_,[o(n,null,{default:m((()=>[o(d(R),{size:"large",clearable:"",value:$.value,"onUpdate:value":e[0]||(e[0]=t=>$.value=t),ref_key:"searchKeyWordInput",ref:C,placeholder:"搜索功能名称",class:"w-4/5"},null,8,["value"]),o(l,{size:"large",type:"primary",onClick:e[1]||(e[1]=()=>{var t;null==(t=C.value)||t.blur()})},{icon:m((()=>[o(a,null,{default:m((()=>[o(d(k))])),_:1})])),default:m((()=>[e[4]||(e[4]=i("span",{class:"hidden sm:inline-block"},"搜索",-1))])),_:1,__:[4]}),o(l,{size:"large",bordered:"",onClick:e[2]||(e[2]=()=>{$.value=""})},{icon:m((()=>[o(a,null,{default:m((()=>[o(d(F))])),_:1})])),default:m((()=>[e[5]||(e[5]=i("span",{class:"hidden sm:inline-block"},"清空",-1))])),_:1,__:[5]})])),_:1})])])),_:1}),i("div",{class:u("mt-3 border-t "+(d(q).isDarkMode?"divide-sothx-gray-color border-sothx-gray-color":"divide-gray-200 border-gray-200"))},[i("dl",{class:u("divide-y "+(d(q).isDarkMode?"divide-sothx-gray-color":"divide-gray-200"))},[(c(!0),r(p,null,y(K.value,((t,e)=>(c(),r("div",{key:e,class:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},[i("dt",{class:u("text-sm font-medium leading-6 "+(d(q).isDarkMode?"text-white":"text-gray-900"))},[f(b(t.title)+" ",1),t.titleSlot?(c(),h(d(S),{key:0,content:t.titleSlot&&t.titleSlot()},null,8,["content"])):g("",!0)],2),i("dd",{class:u(`mt-1 text-sm leading-6 ${d(q).isDarkMode?"text-gray-300":"text-gray-700"} sm:col-span-2 sm:mt-0`)},[t.content?(c(),h(d(S),{key:0,content:t.content&&t.content()},null,8,["content"])):g("",!0)],2)])))),128))],2)],2)])])}}});export{q as default};
