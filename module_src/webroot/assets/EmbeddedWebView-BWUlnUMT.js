import{a as e,c as s}from"./index-B5PZf6D9.js";import{d as a,r as o,o as r,w as n,e as t,aV as i,aW as l,b0 as u,a_ as c,b3 as d}from"./apis-SVMBAmKa.js";import"./iconfont-CKH9wMaD.js";import"./hooks-BM4VosPy.js";import"./lodash-DMrPhC4V.js";import"./pako-DsGp7kFX.js";const v={class:"webview-container"},m=["src"],f=s(a({__name:"EmbeddedWebView",setup(s){const a=e(),f=o(a.query.url),p=o(null),w=()=>{console.log("网页加载完成"),_.value=!1,b()},b=()=>{var e;if(p.value){const s=p.value.contentDocument||(null==(e=p.value.contentWindow)?void 0:e.document);if(s){const e=s.body.scrollHeight;p.value.style.height=`${e}px`}}},h=()=>{b()};r((()=>{window.addEventListener("resize",h)})),n((()=>a.query.url),(e=>{f.value=e,p.value&&(p.value.src=f.value)}));const _=o(!0);return t((()=>{window.removeEventListener("resize",h)})),(e,s)=>{const a=i("n-spin");return l(),u(a,{show:_.value},{default:c((()=>[d("div",v,[d("iframe",{ref_key:"iframeRef",ref:p,src:f.value,frameborder:"0",class:"webview",onLoad:w},null,40,m)])])),_:1},8,["show"])}}}),[["__scopeId","data-v-b5337083"]]);export{f as default};
