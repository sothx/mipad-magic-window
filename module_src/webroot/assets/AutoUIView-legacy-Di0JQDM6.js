!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function n(t){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?e(Object(a),!0).forEach(function(e){o(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function o(e,n,o){return(n=function(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,n||"default");if("object"!=t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,a,r,i,l=[],u=!0,c=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(o=r.call(n)).done)&&(l.push(o.value),l.length!==e);u=!0);}catch(t){c=!0,a=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function r(n,o,a,r){var i=o&&o.prototype instanceof c?o:c,s=Object.create(i.prototype);return l(s,"_invoke",function(n,o,a){var r,i,l,c=0,s=a||[],f=!1,d={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return r=e,i=0,l=t,d.n=n,u}};function p(n,o){for(i=n,l=o,e=0;!f&&c&&!a&&e<s.length;e++){var a,r=s[e],p=d.p,g=r[2];n>3?(a=g===o)&&(l=r[(i=r[4])?5:(i=3,3)],r[4]=r[5]=t):r[0]<=p&&((a=n<2&&p<r[1])?(i=0,d.v=o,d.n=r[1]):p<g&&(a=n<3||r[0]>o||o>g)&&(r[4]=n,r[5]=o,d.n=g,i=0))}if(a||n>1)return u;throw f=!0,o}return function(a,s,g){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,g),i=s,l=g;(e=i<2?t:l)||!f;){r||(i?i<3?(i>1&&(d.n=-1),p(i,l)):d.n=l:d.v=l);try{if(c=2,r){if(i||(a="next"),e=r[a]){if(!(e=e.call(r,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,i<2&&(i=0)}else 1===i&&(e=r.return)&&e.call(r),i<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),i=1);r=t}else if((e=(f=d.n<0)?l:n.call(o,d))!==u)break}catch(e){r=t,i=1,l=e}finally{c=1}}return{value:e,done:f}}}(n,a,r),!0),s}var u={};function c(){}function s(){}function f(){}e=Object.getPrototypeOf;var d=[][o]?e(e([][o]())):(l(e={},o,function(){return this}),e),p=f.prototype=c.prototype=Object.create(d);function g(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,l(t,a,"GeneratorFunction")),t.prototype=Object.create(p),t}return s.prototype=f,l(p,"constructor",f),l(f,"constructor",s),s.displayName="GeneratorFunction",l(f,a,"GeneratorFunction"),l(p),l(p,a,"Generator"),l(p,o,function(){return this}),l(p,"toString",function(){return"[object Generator]"}),(i=function(){return{w:r,m:g}})()}function l(t,e,n,o){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}l=function(t,e,n,o){if(e)a?a(t,e,{value:n,enumerable:!o,configurable:!o,writable:!o}):t[e]=n;else{var r=function(e,n){l(t,e,function(t){return this._invoke(e,n,t)})};r("next",0),r("throw",1),r("return",2)}},l(t,e,n,o)}function u(t,e,n,o,a,r,i){try{var l=t[r](i),u=l.value}catch(t){return void n(t)}l.done?e(u):Promise.resolve(u).then(o,a)}function c(t){return function(){var e=this,n=arguments;return new Promise(function(o,a){var r=t.apply(e,n);function i(t){u(r,o,a,i,l,"next",t)}function l(t){u(r,o,a,i,l,"throw",t)}i(void 0)})}}System.register(["./all_app-legacy-Djt4WKYO.js","./qq_doc-legacy-Dr6eHBWM.js","./hooks-legacy-BDN5GRDv.js","./apis-legacy-CNWpWghA.js","./index-legacy-Cu6_-LWD.js","./format-legacy-DYLy-7qF.js","./pako-legacy-CBMIRv01.js","./PlusIcon-legacy-DZHn1RzA.js","./ArrowPathIcon-legacy-CCE5afeY.js","./FunnelIcon-legacy--_fqBKJn.js","./QuestionMarkCircleIcon-legacy-DaYsdWpf.js","./ShareIcon-legacy-DCdhDMmF.js","./XCircleIcon-legacy-B_nLz0UN.js","./Cog6ToothIcon-legacy-DsVzlqmE.js","./lodash-legacy-FWutsFSa.js","./iconfont-legacy-DhL-nNyD.js"],function(t,e){"use strict";var o,r,l,u,s,f,d,p,g,m,y,v,b,k,w,h,C,x,_,I,A,O,P,U,L,S,M,j,R,T,z,D,Q,W,N,V,E,X,F,G,Y,K,q,B,J,H,$,Z,tt,et,nt,ot,at,rt,it;return{setters:[function(t){o=t._},function(t){r=t._},function(t){l=t.as,u=t.x,s=t.y,f=t.z,d=t.B,p=t.at,g=t.av,m=t.F,y=t.ak,v=t.U,b=t.aw},function(t){k=t.d,w=t.r,h=t.L,C=t.b,x=t.a7,_=t.h,I=t.b4,A=t.b5,O=t.b6,P=t.be,U=t.U,L=t.bc,S=t.J,M=t.b9,j=t.c,R=t.bd,T=t.ba,z=t.cn,D=t.M,Q=t.cr,W=t.l,N=t.co,V=t.cw,E=t.cx,X=t.cm},function(t){F=t.u,G=t.a},function(t){Y=t.b,K=t.a},function(t){q=t.p},function(t){B=t.r},function(t){J=t.r},function(t){H=t.r,$=t.a,Z=t.b,tt=t.c},function(t){et=t.r,nt=t.a},function(t){ot=t.r},function(t){at=t.r,rt=t.a},function(t){it=t.r},null,null],execute:function(){var e={class:"autoui-view mb-10"},lt={class:"mt-3"},ut={class:"mb-3 px-4 sm:px-0"},ct={class:"flex flex-wrap"},st={class:"flex flex-wrap"};t("default",k({__name:"AutoUIView",setup:function(t){var k=w(null),ft=[{title:"应用名称",width:250,key:"name",render:function(t,e){return U("div",null,[t.applicationName&&U("p",null,[t.applicationName]),t.name&&U("p",null,[U("span",{class:{hidden:!t.applicationName}},[j("(")]),t.name,U("span",{class:{hidden:!t.applicationName}},[j(")")])])])}},{title:"规则来源",key:"ruleMode",render:function(t,e){var o={icon:"custom"===t.ruleMode?tt:nt};if("custom"===t.ruleMode){var a=[{label:"分享自定义规则",key:"shareCustomRule",icon:_t(U("svg",{class:"icon","aria-hidden":"true"},[U("use",{"xlink:href":"#icon-fenxiang"},null)]),20)},{label:"清除自定义规则",key:"cleanCustomRule",icon:_t(U("svg",{class:"icon","aria-hidden":"true"},[U("use",{"xlink:href":"#icon-qingchu"},null)]),20)}];return U(I("n-dropdown"),{onSelect:function(e,n){return Lt(e,n,t)},size:"large",trigger:"click",options:a},{default:function(){return[U(I("n-button"),{size:"small",dashed:!0,type:"info"},n({default:function(){return[j("自定义规则")]}},o))]}})}return U(I("n-button"),{size:"small",dashed:!0,type:"error",onClick:function(){return St(t)}},n({default:function(){return[j("模块规则")]}},o))}},{title:"WebView优化",minWidth:110,key:"isOptimizeWebView",render:function(t,e){var n;return null!==(n=t.autoUIRule)&&void 0!==n&&n.optimizeWebView?U(I("n-tag"),{bordered:!1,dashed:!0,type:"success"},{default:function(){return[j("已启用")]}}):U(I("n-tag"),{bordered:!1,dashed:!0,type:"info"},{default:function(){return[j("未启用")]}})}},{title:"布局规则",key:"settingMode",render:function(t,e){var o={icon:it};return U(I("n-button"),{size:"small",strong:!0,dashed:!0,type:Tt[t.settingMode].type,color:Tt[t.settingMode].color,onClick:function(){return Rt(t)}},n({default:function(){return[Tt[t.settingMode].name]}},o))}},{title:"操作",minWidth:100,key:"setting",render:function(t,e){var n={checked:function(){return U("span",null,[j("开启")])},unchecked:function(){return U("span",null,[j("关闭")])}},o=function(t){return t.settingRule&&t.settingRule.hasOwnProperty("enable")?t.settingRule.enable:!t.autoUIRule||!t.autoUIRule.hasOwnProperty("enable")||t.autoUIRule.enable};return U(I("n-switch"),{railStyle:Dt,onUpdateValue:function(n){return Mt(t,e,n)},size:"medium",value:o&&o(t)},n)}}],dt=h(),pt=l(),gt=C(function(){return{theme:dt.isDarkMode?u:s}}),mt=f(["message","modal","notification"],{configProviderProps:gt}),yt=(mt.message,mt.modal),vt=(mt.notification,d()),bt=p(),kt=w(!1),wt=w(!1);g();var ht=w(null),Ct=w(null);F(),x(),G();var xt=w("");function _t(t,e){return function(){return W(y,{size:e},{default:function(){return W(t)}})}}var It=function(){var t=c(i().m(function t(){return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,dt.getAndroidApplicationPackageNameList();case 1:return t.n=2,vt.initDefault();case 2:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),At=function(){var t=c(i().m(function t(){var e,n,o,r;return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,D(pt.getList());case 1:e=t.v,n=a(e,2),o=n[0],r=n[1],o&&yt.create({title:"获取失败",type:"warning",preset:"dialog",content:function(){return U("p",null,[j("您的系统环境暂不支持该功能，获取失败~")])},negativeText:"确定"}),r&&yt.create({title:"获取成功",type:"success",preset:"dialog",content:function(){return U("p",null,[j("好耶OwO，已重新获取当前已安装的应用名称~")])},negativeText:"确定"});case 2:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),Ot=function(){vt.filterInstalledApps=!vt.filterInstalledApps},Pt=function(){var t=c(i().m(function t(){var e,n,o,r;return i().w(function(t){for(;;)switch(t.n){case 0:return wt.value=!0,t.n=1,It();case 1:return t.n=2,D(Q("miui_auto_ui"));case 2:e=t.v,n=a(e,2),o=n[0],r=n[1],o&&(yt.create({title:"热重载应用数据失败",type:"error",preset:"dialog",content:function(){return U("p",null,[j("热重载应用数据失败了QwQ，详情请查看错误日志~")])},negativeText:"确定"}),wt.value=!1),r&&(yt.create({title:"热重载应用数据成功",type:"success",preset:"dialog",content:function(){return U("p",null,[j("好耶w，已经重新为你载入包括自定义规则在内的应用数据~")])},positiveText:"确定"}),wt.value=!1);case 3:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),Ut=function(){var t=c(i().m(function t(){var e,n,o,r,l,u,c,s,f,d,p;return i().w(function(t){for(;;)switch(t.n){case 0:return xt.value="",t.n=1,D(new Promise(function(t,e){yt.create({title:"请粘贴分享口令",preset:"dialog",style:"min-width:500px; width:50%;",class:"responsive-modal",content:function(){return W(v,{type:"textarea",value:xt.value,"onUpdate:value":function(t){xt.value=t},autosize:{minRows:8,maxRows:8},placeholder:"在此处粘贴分享规则口令"})},positiveText:"确定提交",negativeText:"取消导入",onPositiveClick:function(){t("positiveClick")}})}));case 1:if(e=t.v,n=a(e,2),!n[1]){t.n=11;break}if(kt.value=!0,o=xt.value,null!=(r=N(o))&&r.length){t.n=2;break}return yt.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:function(){return U("p",null,[j("导入分享规则失败了QwQ，解析")," ",U("span",{class:"font-bold ".concat(dt.isDarkMode?"text-teal-400":"text-gray-600")},[j("自定义规则")])," ",j("口令发生错误，无法正常解析。")])},negativeText:"确定"}),kt.value=!1,t.a(2);case 2:if(console.log(r,"getBase64String"),t.p=3,l=Y(r),u=q.inflate(l,{to:"string"}),"autoui"===(c=JSON.parse(u)).type){t.n=4;break}return yt.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:function(){return U("p",null,[j("导入分享规则失败了QwQ，该")," ",U("span",{class:"font-bold ".concat(dt.isDarkMode?"text-teal-400":"text-gray-600")},[j("自定义规则")])," ",j("不适用于应用布局优化。")])},negativeText:"确定"}),kt.value=!1,t.a(2);case 4:if(!("pad"===c.device&&"tablet"!==dt.deviceType||"fold"===c.device&&"tablet"===dt.deviceType)){t.n=5;break}return yt.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:function(){return U("p",null,[j("导入分享规则失败了QwQ，平板和折叠屏的适配规则不能混用哦~")])},negativeText:"确定"}),kt.value=!1,t.a(2);case 5:return vt.customConfigAutoUIList[c.name]=c.rules,vt.autoUISettingConfig[c.name]={name:c.name,enable:!0},t.n=6,D(V({customAutoUIListXML:E(vt.customConfigAutoUIList,"package",void 0),settingConfigXML:E(vt.autoUISettingConfig,"setting","setting_config"),reloadRuleAction:{name:c.name,action:"enable"}}));case 6:if(s=t.v,f=a(s,2),d=f[0],f[1],!d){t.n=7;break}yt.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:function(){return U("p",null,[j("发生异常错误，导入失败了QwQ，详细错误请查看错误日志~")])}}),kt.value=!1,t.n=9;break;case 7:return vt.updateMergeRuleList(),t.n=8,It();case 8:kt.value=!1,yt.create({title:"导入分享规则成功",type:"success",preset:"dialog",content:function(){return U("p",null,[j("好耶w，")," ",U("span",{class:"font-bold ".concat(dt.isDarkMode?"text-teal-400":"text-gray-600")},[X(c.name,dt.installedAppNameList[c.name]||vt.applicationName[c.name])])," ",j("的应用配置成功了OwO~如果应用更新后的规则不生效，可以尝试重启平板再做尝试~")])},positiveText:"确定"});case 9:t.n=11;break;case 10:t.p=10,p=t.v,console.log(p,"error"),yt.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:function(){return U("p",null,[j("解析分享规则失败了QwQ，请检查导入口令是否有误")])},negativeText:"确定"}),kt.value=!1;case 11:return t.a(2)}},t,null,[[3,10]])}));return function(){return t.apply(this,arguments)}}(),Lt=function(){var t=c(i().m(function t(e,o,r,l){var u,s,f,d,p,g,m,y;return i().w(function(t){for(;;)switch(t.n){case 0:if("cleanCustomRule"===e&&(u=yt.create({title:"想清除自定义规则吗？",type:"warning",preset:"dialog",content:function(){return U("p",null,[j("清除自定义规则后，你对")," ",U("span",{class:"font-bold ".concat(dt.isDarkMode?"text-teal-400":"text-gray-600")},[X(r.name,r.applicationName)])," ",j("所做的所有自定义配置将丢失，如果该应用同时还存在")," ",U("span",{class:"font-bold ".concat(dt.isDarkMode?"text-teal-400":"text-gray-600")},[j("模块规则")])," ",j("，将会还原回模块自身的适配规则。确定要继续吗？")])},positiveText:"确定清除",negativeText:"我再想想",onPositiveClick:function(){var t=c(i().m(function t(){var e,n,o;return i().w(function(t){for(;;)switch(t.n){case 0:return u.loading=!0,vt.customConfigAutoUIList[r.name]&&delete vt.customConfigAutoUIList[r.name],t.n=1,D(V({customAutoUIListXML:E(vt.customConfigAutoUIList,"package",void 0),settingConfigXML:E(vt.autoUISettingConfig,"setting","setting_config")}));case 1:e=t.v,n=a(e,2),o=n[0],n[1],o?(yt.create({title:"清除自定义规则失败",type:"error",preset:"dialog",content:function(){return U("p",null,[j("发生异常错误，更新失败了QwQ，详细错误请查看错误日志~")])}}),u.loading=!1):(yt.create({title:"清除自定义规则成功",type:"success",preset:"dialog",content:function(){return U("p",null,[j("好耶w，清除自定义规则成功了OwO~如果应用更新后的规则不生效，可以尝试重启平板再试试~")])}}),u.loading=!1,vt.updateMergeRuleList());case 2:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}()})),"shareCustomRule"!==e){t.n=3;break}return s={name:r.name,cmpt:1,rules:n({name:r.name},r.autoUIRule),type:"autoui",device:"tablet"===dt.deviceType?"pad":"fold",mode:r.settingMode},console.log(s,"shareContent"),f=JSON.stringify(s),d=q.deflate(f,{level:9,memLevel:9,windowBits:15}),p=new Uint8Array(d),g=K(p),t.n=1,D(navigator.clipboard.writeText("我分享了一个[应用布局优化]的自定义规则，可以前往[完美横屏应用计划 For Web UI]导入：\n".concat(g)));case 1:if(m=t.v,y=a(m,1),!y[0]){t.n=2;break}return yt.create({title:"复制分享口令失败",type:"error",preset:"dialog",content:function(){return U("p",null,[j("复制")," ",U("span",{class:"font-bold ".concat(dt.isDarkMode?"text-teal-400":"text-gray-600")},[X(r.name,r.applicationName)])," ",j("的分享口令失败了QwQ，可能由于没有读取/写入剪切板的权限或")," ",U("span",{class:"font-bold ".concat(dt.isDarkMode?"text-teal-400":"text-gray-600")},[j("自定义规则")])," ",j("长度过大。")])},negativeText:"确定"}),t.a(2);case 2:yt.create({title:"复制分享口令成功",type:"success",preset:"dialog",content:function(){return U("div",null,[U("p",null,[j("好耶w，复制")," ",U("span",{class:"font-bold ".concat(dt.isDarkMode?"text-teal-400":"text-gray-600")},[X(r.name,r.applicationName)])," ",j("分享口令成功了~")]),U("p",null,[j("如果没有复制成功，请确认是否给予了读取/写入剪切板的权限或")," ",U("span",{class:"font-bold ".concat(dt.isDarkMode?"text-teal-400":"text-gray-600")},[j("自定义规则")])," ",j("长度过大。")]),U("p",null,[j("分享口令导入入口位于")," ",U("span",{class:"font-bold ".concat(dt.isDarkMode?"text-teal-400":"text-gray-600")},[j("应用布局优化- 从分享口令导入")])," ",j("。")])])},positiveText:"确定"});case 3:return t.a(2)}},t)}));return function(e,n,o,a){return t.apply(this,arguments)}}(),St=function(t,e){"module"===t.ruleMode&&yt.create({title:"模块规则说明",type:"warning",preset:"dialog",content:function(){return U("p",null,[j("模块已对")," ",U("span",{class:"font-bold ".concat(dt.isDarkMode?"text-teal-400":"text-gray-600")},[X(t.name,t.applicationName)])," ",j("配置了合适的适配规则，且不可被移除，仅有自定义规则可以被移除哦~")])}})},Mt=function(){var t=c(i().m(function t(e,n,o){var r;return i().w(function(t){for(;;)switch(t.n){case 0:r=yt.create({title:"想".concat(o?"开启":"关闭","该应用的应用布局优化吗？"),type:"warning",preset:"dialog",content:function(){return U("p",null,[j("即将"),o?"开启":"关闭",U("span",{class:"font-bold ".concat(dt.isDarkMode?"text-teal-400":"text-gray-600")},[X(e.name,e.applicationName)])," ",j("的应用布局优化适配规则。确定要继续吗？")])},positiveText:"确定",negativeText:"我再想想",onPositiveClick:function(){var t=c(i().m(function t(){var n,l,u;return i().w(function(t){for(;;)switch(t.n){case 0:return r.loading=!0,vt.autoUISettingConfig[e.name]?vt.autoUISettingConfig[e.name].enable=o:vt.autoUISettingConfig[e.name]={name:e.name,enable:o},t.n=1,D(V({customAutoUIListXML:E(vt.customConfigAutoUIList,"package",void 0),settingConfigXML:E(vt.autoUISettingConfig,"setting","setting_config"),reloadRuleAction:{name:e.name,action:o?"enable":"disable"}}));case 1:n=t.v,l=a(n,2),u=l[0],l[1],u?(yt.create({title:"操作失败",type:"error",preset:"dialog",content:function(){return U("p",null,[j("发生异常错误，更新失败了QwQ，详细错误请查看错误日志~")])}}),r.loading=!1):(yt.create({title:"操作成功",type:"success",preset:"dialog",content:function(){return U("p",null,[j("好耶w，操作成功了OwO~如果应用更新后的规则不生效，可以尝试重启平板再试试~")])}}),r.loading=!1,vt.updateMergeRuleList());case 2:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}()});case 1:return t.a(2)}},t)}));return function(e,n,o){return t.apply(this,arguments)}}(),jt=function(){var t=c(i().m(function t(){var e,o,r,l,u,c,s;return i().w(function(t){for(;;)switch(t.n){case 0:if(!ht.value){t.n=4;break}return t.n=1,D(ht.value.openDrawer());case 1:if(e=t.v,o=a(e,2),r=o[0],l=o[1],!r){t.n=2;break}console.log("操作取消:",r),t.n=4;break;case 2:return vt.customConfigAutoUIList[l.name]=n(n(n(n({name:l.name,enable:!0},null!=l&&l.modePayload.skippedAppConfigChange?{skippedAppConfigChange:!0}:{}),null!=l&&l.modePayload.optimizeWebView?{optimizeWebView:!0}:{}),null!=l&&l.modePayload.hasOwnProperty("activityRule")?{activityRule:null==l?void 0:l.modePayload.activityRule}:{}),null!=l&&l.modePayload.hasOwnProperty("skippedActivityRule")?{skippedActivityRule:null==l?void 0:l.modePayload.skippedActivityRule}:{}),vt.autoUISettingConfig[l.name]={name:l.name,enable:!0},t.n=3,D(V({customAutoUIListXML:E(vt.customConfigAutoUIList,"package",void 0),settingConfigXML:E(vt.autoUISettingConfig,"setting","setting_config"),reloadRuleAction:{name:l.name,action:"enable"}}));case 3:u=t.v,c=a(u,2),s=c[0],c[1],s?(yt.create({title:"应用添加失败",type:"error",preset:"dialog",content:function(){return U("p",null,[j("发生异常错误，添加失败了QwQ，详细错误请查看错误日志~")])}}),l.loadingCallback&&l.loadingCallback()):(yt.create({title:"应用添加成功",type:"success",preset:"dialog",content:function(){return U("p",null,[j("好耶w，")," ",U("span",{class:"font-bold ".concat(dt.isDarkMode?"text-teal-400":"text-gray-600")},[X(l.name,dt.installedAppNameList[l.name]||vt.applicationName[l.name])])," ",j("的应用配置添加成功了OwO~应用布局优化仅在应用全屏场景下生效，如果应用添加后的规则不生效，可以尝试重启平再做尝试~")])}}),vt.updateMergeRuleList(),l.loadingCallback&&l.loadingCallback(),l.closeCallback&&l.closeCallback());case 4:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),Rt=function(){var t=c(i().m(function t(e,o){var r,l,u,c,s,f,d;return i().w(function(t){for(;;)switch(t.n){case 0:if(!Ct||!Ct.value){t.n=4;break}return t.n=1,D(Ct.value.openDrawer(e));case 1:if(r=t.v,l=a(r,2),u=l[0],c=l[1],!u){t.n=2;break}console.log("操作取消:",u),t.n=4;break;case 2:return vt.customConfigAutoUIList[e.name]?(vt.customConfigAutoUIList[e.name].enable=!0,vt.customConfigAutoUIList[e.name].name=e.name,null!=c&&c.modePayload.hasOwnProperty("activityRule")&&(vt.customConfigAutoUIList[e.name].activityRule=null==c?void 0:c.modePayload.activityRule),null!=c&&c.modePayload.hasOwnProperty("skippedActivityRule")&&(vt.customConfigAutoUIList[e.name].skippedActivityRule=null==c?void 0:c.modePayload.skippedActivityRule),null!=c&&c.modePayload.hasOwnProperty("optimizeWebView")&&(vt.customConfigAutoUIList[e.name].optimizeWebView=null==c?void 0:c.modePayload.optimizeWebView),null!=c&&c.modePayload.hasOwnProperty("skippedAppConfigChange")&&(vt.customConfigAutoUIList[e.name].skippedAppConfigChange=null==c?void 0:c.modePayload.skippedAppConfigChange)):vt.customConfigAutoUIList[e.name]=n(n(n(n({name:e.name,enable:!0},null!=c&&c.modePayload.skippedAppConfigChange?{skippedAppConfigChange:!0}:{}),null!=c&&c.modePayload.optimizeWebView?{optimizeWebView:!0}:{}),null!=c&&c.modePayload.hasOwnProperty("activityRule")?{activityRule:null==c?void 0:c.modePayload.activityRule}:{}),null!=c&&c.modePayload.hasOwnProperty("skippedActivityRule")?{skippedActivityRule:null==c?void 0:c.modePayload.skippedActivityRule}:{}),vt.autoUISettingConfig[e.name]?vt.autoUISettingConfig[e.name].enable=!0:vt.autoUISettingConfig[e.name]={name:e.name,enable:!0},console.log("loadingCallback:",c.loadingCallback),t.n=3,D(V({customAutoUIListXML:E(vt.customConfigAutoUIList,"package",void 0),settingConfigXML:E(vt.autoUISettingConfig,"setting","setting_config"),reloadRuleAction:{name:e.name,action:"enable"}}));case 3:s=t.v,f=a(s,2),d=f[0],f[1],d?(yt.create({title:"应用更新失败",type:"error",preset:"dialog",content:function(){return U("p",null,[j("发生异常错误，添加失败了QwQ，详细错误请查看错误日志~")])}}),c.loadingCallback&&c.loadingCallback()):(yt.create({title:"应用更新成功",type:"success",preset:"dialog",content:function(){return U("p",null,[j("好耶w，")," ",U("span",{class:"font-bold ".concat(dt.isDarkMode?"text-teal-400":"text-gray-600")},[X(e.name,e.applicationName)])," ",j("的应用配置更新成功了OwO~，如果应用更新后的规则不生效，可以尝试重启平再做尝试~")])}}),vt.updateMergeRuleList(),c.loadingCallback&&c.loadingCallback(),c.closeCallback&&c.closeCallback());case 4:return t.a(2)}},t)}));return function(e,n){return t.apply(this,arguments)}}(),Tt=_({UNDEFINED_VIEW_POLICY:{type:"default",color:"",name:"空白规则"},VIEW_POLICY_DEFAULT:{type:"success",color:"",name:"全局缩放",onClick:function(t,e){}},VIEW_POLICY_STRETCH:{type:"info",color:"",name:"全局拉伸",onClick:function(t,e){}},VIEW_POLICY_AUTO_COLUMNS:{type:"warning",color:"",name:"全局栅格",onClick:function(t,e){}},VIEW_POLICY_FLOAT:{type:"error",color:"",name:"全局浮动",onClick:function(t,e){}},CUSTOM_VIEW_POLICY:{type:"",color:"#8a2be2",name:"详细适配",onClick:function(t,e){}}}),zt=_({page:1,pageSize:10,simple:!0,showSizePicker:!0,onChange:function(t){zt.page=t},onUpdatePageSize:function(t){zt.pageSize=t,zt.page=1}}),Dt=function(t){var e=t.focused,n={};return t.checked?(n.background="#2080f0",e&&(n.boxShadow="0 0 0 2px #2080f040")):(n.background="#d03050",e&&(n.boxShadow="0 0 0 2px #d0305040")),n};return function(t,n){var a=I("n-input-group"),i=I("n-card"),l=I("n-data-table");return O(),A("main",e,[P("div",lt,[P("div",ut,[n[9]||(n[9]=P("h3",{class:L("text-base font-semibold leading-7")},[P("span",{class:"animated-bg bg-clip-text font-semibold text-transparent",style:{"background-image":"linear-gradient(\r\n\t\t\t\t\t\t\t\t101.22deg,\r\n\t\t\t\t\t\t\t\trgb(255, 182, 133) -18.32%,\r\n\t\t\t\t\t\t\t\trgb(255, 111, 29) 7.01%,\r\n\t\t\t\t\t\t\t\trgb(252, 181, 232) 41.59%,\r\n\t\t\t\t\t\t\t\trgb(135, 148, 255) 70.98%,\r\n\t\t\t\t\t\t\t\trgb(60, 112, 255) 91.35%,\r\n\t\t\t\t\t\t\t\trgb(60, 112, 255) 110.17%\r\n\t\t\t\t\t\t\t)"}},"应用布局优化")],-1)),P("p",{class:L("mt-1 max-w-2xl text-sm leading-6 ".concat(S(dt).isDarkMode?"text-gray-300":"text-gray-500"))}," 应用布局优化，自动优化应用内图文布局，提升视觉体验。 ",2)])]),U(i,{size:"small"},{default:M(function(){return[P("div",ct,[U(S(m),{class:"mb-3 mr-3",type:"info",loading:S(dt).loading||S(vt).loading,onClick:jt},{icon:M(function(){return[U(S(y),null,{default:M(function(){return[U(S(B))]}),_:1})]}),default:M(function(){return[n[10]||(n[10]=j(" 添加应用 "))]}),_:1,__:[10]},8,["loading"]),U(S(m),{class:"mb-3 mr-3",type:"success",loading:S(dt).loading||S(vt).loading,onClick:n[0]||(n[0]=function(){return It()})},{icon:M(function(){return[U(S(y),null,{default:M(function(){return[U(S(J))]}),_:1})]}),default:M(function(){return[n[11]||(n[11]=j(" 刷新应用列表 "))]}),_:1,__:[11]},8,["loading"]),U(S(m),{class:"mb-3 mr-3",color:"#8a2be2",loading:S(dt).loading||S(vt).loading,onClick:n[1]||(n[1]=function(){return Pt()})},{icon:M(function(){return[U(S(y),null,{default:M(function(){return[U(S(H))]}),_:1})]}),default:M(function(){return[n[12]||(n[12]=j(" 热重载应用数据 "))]}),_:1,__:[12]},8,["loading"]),U(S(m),{class:"mb-3 mr-3",color:"#69b2b6",loading:S(dt).loading||S(vt).loading||S(pt).loading.value,onClick:n[2]||(n[2]=function(t){return At()})},{icon:M(function(){return[U(S(y),null,{default:M(function(){return[U(S(et))]}),_:1})]}),default:M(function(){return[n[13]||(n[13]=j(" 获取已安装应用名称 "))]}),_:1,__:[13]},8,["loading"]),U(S(m),{class:"mb-3 mr-3",type:"warning",loading:S(dt).loading||S(vt).loading||kt.value,onClick:n[3]||(n[3]=function(t){return Ut()})},{icon:M(function(){return[U(S(y),null,{default:M(function(){return[U(S(ot))]}),_:1})]}),default:M(function(){return[n[14]||(n[14]=j(" 从分享口令导入 "))]}),_:1,__:[14]},8,["loading"])]),P("div",st,[U(S(m),{class:"mb-3 mr-3",type:S(vt).filterInstalledApps?"success":"info",strong:"",loading:S(dt).loading||S(vt).loading,secondary:"",onClick:Ot},{icon:M(function(){return[U(S(y),null,{default:M(function(){return[S(vt).filterInstalledApps?(O(),T(S($),{key:0})):(O(),T(S(Z),{key:1}))]}),_:1})]}),default:M(function(){return[j(" "+R(S(vt).filterInstalledApps?"已安装应用":"全部应用"),1)]}),_:1},8,["type","loading"]),U(S(m),{class:"mb-3 mr-3",type:"warning",secondary:"",loading:S(dt).loading||S(vt).loading,onClick:n[4]||(n[4]=function(){return z()})},{icon:M(function(){return[U(S(y),null,{default:M(function(){return n[15]||(n[15]=[P("img",{src:o},null,-1)])}),_:1,__:[15]})]}),default:M(function(){return[n[16]||(n[16]=j(" 应用抽屉 "))]}),_:1,__:[16]},8,["loading"]),U(S(m),{class:"mb-3 mr-3",type:"info",secondary:"",loading:S(dt).loading||S(vt).loading,onClick:n[5]||(n[5]=function(t){return S(bt).getModal()})},{icon:M(function(){return[U(S(y),{size:"16"},{default:M(function(){return n[17]||(n[17]=[P("img",{src:r},null,-1)])}),_:1,__:[17]})]}),default:M(function(){return[n[18]||(n[18]=j(" 应用适配收集表 "))]}),_:1,__:[18]},8,["loading"])]),U(a,null,{default:M(function(){return[U(S(v),{size:"large",clearable:"",value:S(vt).searchKeyWord,"onUpdate:value":n[6]||(n[6]=function(t){return S(vt).searchKeyWord=t}),ref_key:"searchKeyWordInput",ref:k,placeholder:"搜索应用名称/应用包名",style:{width:"80%"}},null,8,["value"]),U(S(m),{size:"large",type:"primary",onClick:n[7]||(n[7]=function(){var t;null===(t=k.value)||void 0===t||t.blur()})},{icon:M(function(){return[U(S(y),null,{default:M(function(){return[U(S(at))]}),_:1})]}),default:M(function(){return[n[19]||(n[19]=P("span",{class:"hidden sm:inline-block"},"搜索",-1))]}),_:1,__:[19]}),U(S(m),{size:"large",bordered:"",onClick:n[8]||(n[8]=function(){S(vt).searchKeyWord=""})},{icon:M(function(){return[U(S(y),null,{default:M(function(){return[U(S(rt))]}),_:1})]}),default:M(function(){return[n[20]||(n[20]=P("span",{class:"hidden sm:inline-block"},"清空",-1))]}),_:1,__:[20]})]}),_:1})]}),_:1}),U(l,{size:"small",loading:S(dt).loading||S(vt).loading,columns:S(ft),class:"mt-3",data:S(vt).filterMergeRuleList,pagination:zt},null,8,["loading","columns","data","pagination"]),U(b,{ref_key:"addAutoUIApp",ref:ht,type:"add",title:"添加应用"},null,512),U(b,{ref_key:"updateAutoUIApp",ref:Ct,type:"update",title:"更新应用"},null,512)])}}}))}}})}();
