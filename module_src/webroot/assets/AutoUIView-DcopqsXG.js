import{_ as e}from"./all_app-D39sbeUz.js";import{_ as t}from"./qq_doc-CyffnODM.js";import{x as a,y as l,z as n,B as o,as as i,au as s,F as d,ak as r,U as c,av as u}from"./hooks-Cjt0FqfC.js";import{d as p,r as g,L as m,b as f,ar as y,h as v,aQ as b,bp as k,bq as C,by as _,Z as w,bw as x,J as I,bt as h,c as A,bx as U,bu as L,d9 as P,M,dd as R,l as z,da as O,di as T,dj as S,d8 as W}from"./apis-C5YtGwyk.js";import{u as Q,a as D}from"./index-Blgkmn1L.js";import{b as j,a as V}from"./format-D_OGebxR.js";import{p as N}from"./pako-Bb7MnDjl.js";import{r as E}from"./PlusIcon-CmmRnf_l.js";import{r as X}from"./ArrowPathIcon-CeVqAYuL.js";import{r as K,a as F,b as Y}from"./FunnelIcon-DDu9mQiw.js";import{r as q}from"./ShareIcon-CdSdVPs8.js";import{r as B,a as J}from"./XCircleIcon-DjdfJQi4.js";import{r as $}from"./EllipsisHorizontalCircleIcon-ChI3FEyu.js";import{r as H}from"./QuestionMarkCircleIcon-ljTCbFgr.js";import{r as Z}from"./Cog6ToothIcon-sCC2hNmj.js";import"./lodash-CHsIb5BW.js";import"./iconfont-DlUVLeiJ.js";const G={class:"autoui-view mb-10"},ee={class:"mt-3"},te={class:"mb-3 px-4 sm:px-0"},ae={class:"flex flex-wrap"},le={class:"flex flex-wrap"},ne={class:"flex flex-wrap"},oe=p({__name:"AutoUIView",setup(p){const oe=g(null),ie=[{title:"应用名称",width:250,key:"name",render(e,t){const a=new Set(se.installedAndroidApplicationPackageList);return w("div",null,[w("div",{class:"flex"},[a.has(e.name)&&w("img",{class:"mr-1 w-[28px] h-[28px] rounded-full object-cover",src:`ksu://icon/${e.name}`,onError:e=>{e.currentTarget.style.display="none"}},null),w("p",{class:"mt-1"},[e.applicationName?e.applicationName:e.name])]),e.name&&w("p",null,[w("span",null,[A("(")]),e.name,w("span",null,[A(")")])])])}},{title:"规则来源",key:"ruleMode",render(e,t){const a={icon:"custom"===e.ruleMode?$:H};if("custom"===e.ruleMode){const t=[{label:"分享自定义规则",key:"shareCustomRule",icon:ke(w("svg",{class:"icon","aria-hidden":"true"},[w("use",{"xlink:href":"#icon-fenxiang"},null)]),20)},{label:"清除自定义规则",key:"cleanCustomRule",icon:ke(w("svg",{class:"icon","aria-hidden":"true"},[w("use",{"xlink:href":"#icon-qingchu"},null)]),20)}];return w(b("n-dropdown"),{onSelect:(t,a)=>(async(e,t,a)=>{if("cleanCustomRule"===e){const e=ce.create({title:"想清除自定义规则吗？",type:"warning",preset:"dialog",content:()=>w("p",null,[A("清除自定义规则后，你对")," ",w("span",{class:"font-bold "+(se.isDarkMode?"text-teal-400":"text-gray-600")},[W(a.name,a.applicationName)])," ",A("所做的所有自定义配置将丢失，如果该应用同时还存在")," ",w("span",{class:"font-bold "+(se.isDarkMode?"text-teal-400":"text-gray-600")},[A("模块规则")])," ",A("，将会还原回模块自身的适配规则。确定要继续吗？")]),positiveText:"确定清除",negativeText:"我再想想",onPositiveClick:async()=>{e.loading=!0,pe.customConfigAutoUIList[a.name]&&delete pe.customConfigAutoUIList[a.name];const[t,l]=await M(T({customAutoUIListXML:S(pe.customConfigAutoUIList,"package",void 0),settingConfigXML:S(pe.autoUISettingConfig,"setting","setting_config")}));t?(ce.create({title:"清除自定义规则失败",type:"error",preset:"dialog",content:()=>w("p",null,[A("发生异常错误，更新失败了QwQ，详细错误请查看错误日志~")])}),e.loading=!1):(ce.create({title:"清除自定义规则成功",type:"success",preset:"dialog",content:()=>w("p",null,[A("好耶w，清除自定义规则成功了OwO~如果应用更新后的规则不生效，可以尝试重启"),"tablet"===se.deviceType?"平板":"手机",A("再试试~")])}),e.loading=!1,pe.updateMergeRuleList())}})}if("shareCustomRule"===e){const e={name:a.name,cmpt:1,rules:{name:a.name,...a.autoUIRule},type:"autoui",device:"tablet"===se.deviceType?"pad":"fold",mode:a.settingMode};console.log(e,"shareContent");const t=JSON.stringify(e),l=N.deflate(t,{level:9,memLevel:9,windowBits:15}),n=new Uint8Array(l),o=V(n),[i]=await M(navigator.clipboard.writeText(`我分享了一个[应用布局优化]的自定义规则，可以前往[完美横屏应用计划 For Web UI]导入：\n${o}`));if(i)return void ce.create({title:"复制分享口令失败",type:"error",preset:"dialog",content:()=>w("p",null,[A("复制")," ",w("span",{class:"font-bold "+(se.isDarkMode?"text-teal-400":"text-gray-600")},[W(a.name,a.applicationName)])," ",A("的分享口令失败了QwQ，可能由于没有读取/写入剪切板的权限或")," ",w("span",{class:"font-bold "+(se.isDarkMode?"text-teal-400":"text-gray-600")},[A("自定义规则")])," ",A("长度过大。")]),positiveText:"确定"});ce.create({title:"复制分享口令成功",type:"success",preset:"dialog",content:()=>w("div",null,[w("p",null,[A("好耶w，复制")," ",w("span",{class:"font-bold "+(se.isDarkMode?"text-teal-400":"text-gray-600")},[W(a.name,a.applicationName)])," ",A("分享口令成功了~")]),w("p",null,[A("如果没有复制成功，请确认是否给予了读取/写入剪切板的权限或")," ",w("span",{class:"font-bold "+(se.isDarkMode?"text-teal-400":"text-gray-600")},[A("自定义规则")])," ",A("长度过大。")]),w("p",null,[A("分享口令导入入口位于")," ",w("span",{class:"font-bold "+(se.isDarkMode?"text-teal-400":"text-gray-600")},[A("应用布局优化- 从分享口令导入")])," ",A("。")])]),positiveText:"确定"})}})(t,0,e),size:"large",trigger:"click",options:t},{default:()=>[w(b("n-button"),{size:"small",dashed:!0,type:"info"},{default:()=>[A("自定义规则")],...a})]})}return w(b("n-button"),{size:"small",dashed:!0,type:"error",onClick:()=>(e=>{"module"===e.ruleMode&&ce.create({title:"模块规则说明",type:"warning",preset:"dialog",content:()=>w("p",null,[A("模块已对")," ",w("span",{class:"font-bold "+(se.isDarkMode?"text-teal-400":"text-gray-600")},[W(e.name,e.applicationName)])," ",A("配置了合适的适配规则，且不可被移除，仅有自定义规则可以被移除哦~")])})})(e)},{default:()=>[A("模块规则")],...a})}},{title:"WebView优化",minWidth:110,key:"isOptimizeWebView",render(e,t){var a;return(null==(a=e.autoUIRule)?void 0:a.optimizeWebView)?w(b("n-tag"),{bordered:!1,dashed:!0,type:"success"},{default:()=>[A("已启用")]}):w(b("n-tag"),{bordered:!1,dashed:!0,type:"info"},{default:()=>[A("未启用")]})}},{title:"布局规则",key:"settingMode",render(e,t){const a={icon:Z};return w(b("n-button"),{size:"small",strong:!0,dashed:!0,type:xe[e.settingMode].type,color:xe[e.settingMode].color,onClick:()=>(async e=>{if(ve&&ve.value){const[t,a]=await M(ve.value.openDrawer(e));if(t)console.log("操作取消:",t);else{pe.customConfigAutoUIList[e.name]?(pe.customConfigAutoUIList[e.name].enable=!0,pe.customConfigAutoUIList[e.name].name=e.name,(null==a?void 0:a.modePayload.hasOwnProperty("activityRule"))&&(pe.customConfigAutoUIList[e.name].activityRule=null==a?void 0:a.modePayload.activityRule),(null==a?void 0:a.modePayload.hasOwnProperty("skippedActivityRule"))&&(pe.customConfigAutoUIList[e.name].skippedActivityRule=null==a?void 0:a.modePayload.skippedActivityRule),(null==a?void 0:a.modePayload.hasOwnProperty("optimizeWebView"))&&(pe.customConfigAutoUIList[e.name].optimizeWebView=null==a?void 0:a.modePayload.optimizeWebView),(null==a?void 0:a.modePayload.hasOwnProperty("skippedAppConfigChange"))&&(pe.customConfigAutoUIList[e.name].skippedAppConfigChange=null==a?void 0:a.modePayload.skippedAppConfigChange)):pe.customConfigAutoUIList[e.name]={name:e.name,enable:!0,...(null==a?void 0:a.modePayload.skippedAppConfigChange)?{skippedAppConfigChange:!0}:{},...(null==a?void 0:a.modePayload.optimizeWebView)?{optimizeWebView:!0}:{},...(null==a?void 0:a.modePayload.hasOwnProperty("activityRule"))?{activityRule:null==a?void 0:a.modePayload.activityRule}:{},...(null==a?void 0:a.modePayload.hasOwnProperty("skippedActivityRule"))?{skippedActivityRule:null==a?void 0:a.modePayload.skippedActivityRule}:{}},pe.autoUISettingConfig[e.name]?pe.autoUISettingConfig[e.name].enable=!0:pe.autoUISettingConfig[e.name]={name:e.name,enable:!0},console.log("loadingCallback:",a.loadingCallback);const[t,l]=await M(T({customAutoUIListXML:S(pe.customConfigAutoUIList,"package",void 0),settingConfigXML:S(pe.autoUISettingConfig,"setting","setting_config"),reloadRuleAction:{name:e.name,action:"enable"}}));t?(ce.create({title:"应用更新失败",type:"error",preset:"dialog",content:()=>w("p",null,[A("发生异常错误，添加失败了QwQ，详细错误请查看错误日志~")])}),a.loadingCallback&&a.loadingCallback()):(ce.create({title:"应用更新成功",type:"success",preset:"dialog",content:()=>w("p",null,[A("好耶w，")," ",w("span",{class:"font-bold "+(se.isDarkMode?"text-teal-400":"text-gray-600")},[W(e.name,e.applicationName)])," ",A("的应用配置更新成功了OwO~，如果应用更新后的规则不生效，可以尝试重启"),"tablet"===se.deviceType?"平板":"手机",A("再做尝试~")])}),pe.updateMergeRuleList(),a.loadingCallback&&a.loadingCallback(),a.closeCallback&&a.closeCallback())}}})(e)},{default:()=>[xe[e.settingMode].name],...a})}},{title:"操作",minWidth:100,key:"setting",render(e,t){const a={checked:()=>w("span",null,[A("开启")]),unchecked:()=>w("span",null,[A("关闭")])},l=e=>e.settingRule&&e.settingRule.hasOwnProperty("enable")?e.settingRule.enable:!e.autoUIRule||!e.autoUIRule.hasOwnProperty("enable")||e.autoUIRule.enable;return w(b("n-switch"),{railStyle:he,onUpdateValue:t=>(async(e,t,a)=>{const l=ce.create({title:`想${a?"开启":"关闭"}该应用的应用布局优化吗？`,type:"warning",preset:"dialog",content:()=>w("p",null,[A("即将"),a?"开启":"关闭",w("span",{class:"font-bold "+(se.isDarkMode?"text-teal-400":"text-gray-600")},[W(e.name,e.applicationName)])," ",A("的应用布局优化适配规则。确定要继续吗？")]),positiveText:"确定",negativeText:"我再想想",onPositiveClick:async()=>{l.loading=!0,pe.autoUISettingConfig[e.name]?pe.autoUISettingConfig[e.name].enable=a:pe.autoUISettingConfig[e.name]={name:e.name,enable:a};const[t,n]=await M(T({customAutoUIListXML:S(pe.customConfigAutoUIList,"package",void 0),settingConfigXML:S(pe.autoUISettingConfig,"setting","setting_config"),reloadRuleAction:{name:e.name,action:a?"enable":"disable"}}));t?(ce.create({title:"操作失败",type:"error",preset:"dialog",content:()=>w("p",null,[A("发生异常错误，更新失败了QwQ，详细错误请查看错误日志~")])}),l.loading=!1):(ce.create({title:"操作成功",type:"success",preset:"dialog",content:()=>w("p",null,[A("好耶w，操作成功了OwO~如果应用更新后的规则不生效，可以尝试重启"),"tablet"===se.deviceType?"平板":"手机",A("再试试~")])}),l.loading=!1,pe.updateMergeRuleList())}})})(e,0,t),size:"medium",value:l&&l(e)},a)}}],se=m(),de=f((()=>({theme:se.isDarkMode?a:l}))),{message:re,modal:ce,notification:ue}=n(["message","modal","notification"],{configProviderProps:de}),pe=o(),ge=i(),me=g(!1),fe=g(!1);s();const ye=g(null),ve=g(null);Q(),y(),D();const be=g("");function ke(e,t){return()=>z(r,{size:t},{default:()=>z(e)})}const Ce=async()=>{await se.getAndroidApplicationPackageList(),await se.getInstalledAppPackageInfoList(),await pe.initDefault()},_e=()=>{pe.filterInstalledApps=!pe.filterInstalledApps},we=async()=>{if(ye.value){const[e,t]=await M(ye.value.openDrawer());if(e)console.log("操作取消:",e);else{pe.customConfigAutoUIList[t.name]={name:t.name,enable:!0,...(null==t?void 0:t.modePayload.skippedAppConfigChange)?{skippedAppConfigChange:!0}:{},...(null==t?void 0:t.modePayload.optimizeWebView)?{optimizeWebView:!0}:{},...(null==t?void 0:t.modePayload.hasOwnProperty("activityRule"))?{activityRule:null==t?void 0:t.modePayload.activityRule}:{},...(null==t?void 0:t.modePayload.hasOwnProperty("skippedActivityRule"))?{skippedActivityRule:null==t?void 0:t.modePayload.skippedActivityRule}:{}},pe.autoUISettingConfig[t.name]={name:t.name,enable:!0};const[e,a]=await M(T({customAutoUIListXML:S(pe.customConfigAutoUIList,"package",void 0),settingConfigXML:S(pe.autoUISettingConfig,"setting","setting_config"),reloadRuleAction:{name:t.name,action:"enable"}}));e?(ce.create({title:"应用添加失败",type:"error",preset:"dialog",content:()=>w("p",null,[A("发生异常错误，添加失败了QwQ，详细错误请查看错误日志~")])}),t.loadingCallback&&t.loadingCallback()):(ce.create({title:"应用添加成功",type:"success",preset:"dialog",content:()=>{var e;return w("p",null,[A("好耶w，")," ",w("span",{class:"font-bold "+(se.isDarkMode?"text-teal-400":"text-gray-600")},[W(t.name,(null==(e=se.installedAppPackageInfoMap[t.name])?void 0:e.appLabel)||pe.applicationName[t.name])])," ",A("的应用配置添加成功了OwO~应用布局优化仅在应用全屏场景下生效，如果应用添加后的规则不生效，可以尝试重启平再做尝试~")])}}),pe.updateMergeRuleList(),t.loadingCallback&&t.loadingCallback(),t.closeCallback&&t.closeCallback())}}},xe=v({UNDEFINED_VIEW_POLICY:{type:"default",color:"",name:"空白规则"},VIEW_POLICY_DEFAULT:{type:"success",color:"",name:"全局缩放",onClick(e,t){}},VIEW_POLICY_STRETCH:{type:"info",color:"",name:"全局拉伸",onClick(e,t){}},VIEW_POLICY_AUTO_COLUMNS:{type:"warning",color:"",name:"全局栅格",onClick(e,t){}},VIEW_POLICY_FLOAT:{type:"error",color:"",name:"全局浮动",onClick(e,t){}},CUSTOM_VIEW_POLICY:{type:"",color:"#8a2be2",name:"详细适配",onClick(e,t){}}}),Ie=v({page:1,pageSize:10,simple:!0,showSizePicker:!0,onChange:e=>{Ie.page=e},onUpdatePageSize:e=>{Ie.pageSize=e,Ie.page=1}}),he=({focused:e,checked:t})=>{const a={};return t?(a.background="#2080f0",e&&(a.boxShadow="0 0 0 2px #2080f040")):(a.background="#d03050",e&&(a.boxShadow="0 0 0 2px #d0305040")),a};return(a,l)=>{const n=b("n-input-group"),o=b("n-card"),i=b("n-data-table"),s=b("n-tab-pane"),p=b("n-alert"),g=b("n-tabs");return C(),k("main",G,[_("div",ee,[_("div",te,[l[13]||(l[13]=_("h3",{class:x("text-base font-semibold leading-7")},[_("span",{class:"animated-bg bg-clip-text font-semibold text-transparent",style:{"background-image":"linear-gradient(\r\n\t\t\t\t\t\t\t\t101.22deg,\r\n\t\t\t\t\t\t\t\trgb(255, 182, 133) -18.32%,\r\n\t\t\t\t\t\t\t\trgb(255, 111, 29) 7.01%,\r\n\t\t\t\t\t\t\t\trgb(252, 181, 232) 41.59%,\r\n\t\t\t\t\t\t\t\trgb(135, 148, 255) 70.98%,\r\n\t\t\t\t\t\t\t\trgb(60, 112, 255) 91.35%,\r\n\t\t\t\t\t\t\t\trgb(60, 112, 255) 110.17%\r\n\t\t\t\t\t\t\t)"}},"应用布局优化")],-1)),_("p",{class:x("mt-1 max-w-2xl text-sm leading-6 "+(I(se).isDarkMode?"text-gray-300":"text-gray-500"))}," 应用布局优化，自动优化应用内图文布局，提升视觉体验。 ",2)])]),w(g,{class:"sm:px-0",type:"line",animated:""},{default:h((()=>[w(s,{name:"autoui1",tab:"应用布局优化 1.0","display-directive":"show"},{default:h((()=>[w(o,{size:"small"},{default:h((()=>[_("div",ae,[w(I(d),{class:"mb-3 mr-3",type:"info",loading:I(se).loading||I(pe).loading,onClick:we},{icon:h((()=>[w(I(r),null,{default:h((()=>[w(I(E))])),_:1})])),default:h((()=>[l[14]||(l[14]=A(" 添加应用 "))])),_:1,__:[14]},8,["loading"]),w(I(d),{class:"mb-3 mr-3",type:"success",loading:I(se).loading||I(pe).loading,onClick:l[0]||(l[0]=()=>Ce())},{icon:h((()=>[w(I(r),null,{default:h((()=>[w(I(X))])),_:1})])),default:h((()=>[l[15]||(l[15]=A(" 刷新应用列表 "))])),_:1,__:[15]},8,["loading"]),w(I(d),{class:"mb-3 mr-3",color:"#8a2be2",loading:I(se).loading||I(pe).loading,onClick:l[1]||(l[1]=()=>(async()=>{fe.value=!0,await Ce();const[e,t]=await M(R("miui_auto_ui"));e&&(ce.create({title:"热重载应用数据失败",type:"error",preset:"dialog",content:()=>w("p",null,[A("热重载应用数据失败了QwQ，详情请查看错误日志~")]),positiveText:"确定"}),fe.value=!1),t&&(ce.create({title:"热重载应用数据成功",type:"success",preset:"dialog",content:()=>w("p",null,[A("好耶w，已经重新为你载入包括自定义规则在内的应用数据~")]),positiveText:"确定"}),fe.value=!1)})())},{icon:h((()=>[w(I(r),null,{default:h((()=>[w(I(K))])),_:1})])),default:h((()=>[l[16]||(l[16]=A(" 热重载应用数据 "))])),_:1,__:[16]},8,["loading"]),w(I(d),{class:"mb-3 mr-3",type:"warning",loading:I(se).loading||I(pe).loading||me.value,onClick:l[2]||(l[2]=e=>(async()=>{be.value="";const[,e]=await M(new Promise(((e,t)=>{ce.create({title:"请粘贴分享口令",preset:"dialog",style:"min-width:500px; width:50%;",class:"responsive-modal",content:()=>z(c,{type:"textarea",value:be.value,"onUpdate:value":e=>{be.value=e},autosize:{minRows:8,maxRows:8},placeholder:"在此处粘贴分享规则口令"}),positiveText:"确定提交",negativeText:"取消导入",onPositiveClick(){e("positiveClick")}})})));if(e){me.value=!0;const e=be.value,a=O(e);if(!(null==a?void 0:a.length))return ce.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>w("p",null,[A("导入分享规则失败了QwQ，解析")," ",w("span",{class:"font-bold "+(se.isDarkMode?"text-teal-400":"text-gray-600")},[A("自定义规则")])," ",A("口令发生错误，无法正常解析。")]),positiveText:"确定"}),void(me.value=!1);console.log(a,"getBase64String");try{const e=j(a),t=N.inflate(e,{to:"string"}),l=JSON.parse(t);if("autoui"!==l.type)return ce.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>w("p",null,[A("导入分享规则失败了QwQ，该")," ",w("span",{class:"font-bold "+(se.isDarkMode?"text-teal-400":"text-gray-600")},[A("自定义规则")])," ",A("不适用于应用布局优化。")]),positiveText:"确定"}),void(me.value=!1);if("pad"===l.device&&"tablet"!==se.deviceType||"fold"===l.device&&"tablet"===se.deviceType)return ce.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>w("p",null,[A("导入分享规则失败了QwQ，平板和折叠屏的适配规则不能混用哦~")]),positiveText:"确定"}),void(me.value=!1);pe.customConfigAutoUIList[l.name]=l.rules,pe.autoUISettingConfig[l.name]={name:l.name,enable:!0};const[n,o]=await M(T({customAutoUIListXML:S(pe.customConfigAutoUIList,"package",void 0),settingConfigXML:S(pe.autoUISettingConfig,"setting","setting_config"),reloadRuleAction:{name:l.name,action:"enable"}}));n?(ce.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>w("p",null,[A("发生异常错误，导入失败了QwQ，详细错误请查看错误日志~")])}),me.value=!1):(pe.updateMergeRuleList(),await Ce(),me.value=!1,ce.create({title:"导入分享规则成功",type:"success",preset:"dialog",content:()=>{var e;return w("p",null,[A("好耶w，")," ",w("span",{class:"font-bold "+(se.isDarkMode?"text-teal-400":"text-gray-600")},[W(l.name,(null==(e=se.installedAppPackageInfoMap[l.name])?void 0:e.appLabel)||pe.applicationName[l.name])])," ",A("的应用配置成功了OwO~如果应用更新后的规则不生效，可以尝试重启"),"tablet"===se.deviceType?"平板":"手机",A("再做尝试~")])},positiveText:"确定"}))}catch(t){console.log(t,"error"),ce.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>w("p",null,[A("解析分享规则失败了QwQ，请检查导入口令是否有误")]),positiveText:"确定"}),me.value=!1}}})())},{icon:h((()=>[w(I(r),null,{default:h((()=>[w(I(q))])),_:1})])),default:h((()=>[l[17]||(l[17]=A(" 从分享口令导入 "))])),_:1,__:[17]},8,["loading"])]),_("div",le,[w(I(d),{class:"mb-3 mr-3",type:I(pe).filterInstalledApps?"success":"info",strong:"",loading:I(se).loading||I(pe).loading,secondary:"",onClick:_e},{icon:h((()=>[w(I(r),null,{default:h((()=>[I(pe).filterInstalledApps?(C(),L(I(F),{key:0})):(C(),L(I(Y),{key:1}))])),_:1})])),default:h((()=>[A(" "+U(I(pe).filterInstalledApps?"已安装应用":"全部应用"),1)])),_:1},8,["type","loading"]),w(I(d),{class:"mb-3 mr-3",type:"warning",secondary:"",loading:I(se).loading||I(pe).loading,onClick:l[3]||(l[3]=()=>P())},{icon:h((()=>[w(I(r),null,{default:h((()=>l[18]||(l[18]=[_("img",{src:e},null,-1)]))),_:1,__:[18]})])),default:h((()=>[l[19]||(l[19]=A(" 应用抽屉 "))])),_:1,__:[19]},8,["loading"]),w(I(d),{class:"mb-3 mr-3",type:"info",secondary:"",loading:I(se).loading||I(pe).loading,onClick:l[4]||(l[4]=e=>I(ge).getModal())},{icon:h((()=>[w(I(r),{size:"16"},{default:h((()=>l[20]||(l[20]=[_("img",{src:t},null,-1)]))),_:1,__:[20]})])),default:h((()=>[l[21]||(l[21]=A(" 应用适配收集表 "))])),_:1,__:[21]},8,["loading"])]),w(n,null,{default:h((()=>[w(I(c),{size:"large",clearable:"",value:I(pe).searchKeyWord,"onUpdate:value":l[5]||(l[5]=e=>I(pe).searchKeyWord=e),ref_key:"searchKeyWordInput",ref:oe,placeholder:"搜索应用名称/应用包名",style:{width:"80%"}},null,8,["value"]),w(I(d),{size:"large",type:"primary",onClick:l[6]||(l[6]=()=>{var e;null==(e=oe.value)||e.blur()})},{icon:h((()=>[w(I(r),null,{default:h((()=>[w(I(B))])),_:1})])),default:h((()=>[l[22]||(l[22]=_("span",{class:"hidden sm:inline-block"},"搜索",-1))])),_:1,__:[22]}),w(I(d),{size:"large",bordered:"",onClick:l[7]||(l[7]=()=>{I(pe).searchKeyWord=""})},{icon:h((()=>[w(I(r),null,{default:h((()=>[w(I(J))])),_:1})])),default:h((()=>[l[23]||(l[23]=_("span",{class:"hidden sm:inline-block"},"清空",-1))])),_:1,__:[23]})])),_:1})])),_:1}),w(i,{size:"small",loading:I(se).loading||I(pe).loading,columns:I(ie),class:"mt-3",data:I(pe).filterMergeRuleList,pagination:Ie},null,8,["loading","columns","data","pagination"]),w(u,{ref_key:"addAutoUIApp",ref:ye,type:"add",title:"添加应用"},null,512),w(u,{ref_key:"updateAutoUIApp",ref:ve,type:"update",title:"更新应用"},null,512)])),_:1}),w(s,{name:"autoui2",disabled:I(se).androidTargetSdk<35,tab:"应用布局优化 2.0 "+(I(se).androidTargetSdk<35?"(不支持)":""),"display-directive":"show"},{default:h((()=>[w(o,{size:"small"},{default:h((()=>[w(p,{type:"info",title:"功能开发中，未上线",class:"mb-3"},{default:h((()=>l[24]||(l[24]=[A(" 应用布局优化2.0规则将直接内置进模块内，目前暂不支持展示或进行任何修改，应用布局优化1.0规则不受此影响。 ")]))),_:1,__:[24]}),l[31]||(l[31]=_("div",{class:"flex flex-wrap"},null,-1)),_("div",ne,[w(I(d),{class:"mb-3 mr-3",type:I(pe).filterInstalledApps?"success":"info",strong:"",loading:I(se).loading||I(pe).loading,secondary:"",onClick:_e},{icon:h((()=>[w(I(r),null,{default:h((()=>[I(pe).filterInstalledApps?(C(),L(I(F),{key:0})):(C(),L(I(Y),{key:1}))])),_:1})])),default:h((()=>[A(" "+U(I(pe).filterInstalledApps?"已安装应用":"全部应用"),1)])),_:1},8,["type","loading"]),w(I(d),{class:"mb-3 mr-3",type:"warning",secondary:"",loading:I(se).loading||I(pe).loading,onClick:l[8]||(l[8]=()=>P())},{icon:h((()=>[w(I(r),null,{default:h((()=>l[25]||(l[25]=[_("img",{src:e},null,-1)]))),_:1,__:[25]})])),default:h((()=>[l[26]||(l[26]=A(" 应用抽屉 "))])),_:1,__:[26]},8,["loading"]),w(I(d),{class:"mb-3 mr-3",type:"info",secondary:"",loading:I(se).loading||I(pe).loading,onClick:l[9]||(l[9]=e=>I(ge).getModal())},{icon:h((()=>[w(I(r),{size:"16"},{default:h((()=>l[27]||(l[27]=[_("img",{src:t},null,-1)]))),_:1,__:[27]})])),default:h((()=>[l[28]||(l[28]=A(" 应用适配收集表 "))])),_:1,__:[28]},8,["loading"])]),w(n,null,{default:h((()=>[w(I(c),{size:"large",clearable:"",value:I(pe).searchKeyWord,"onUpdate:value":l[10]||(l[10]=e=>I(pe).searchKeyWord=e),ref_key:"searchKeyWordInput",ref:oe,placeholder:"搜索应用名称/应用包名",style:{width:"80%"}},null,8,["value"]),w(I(d),{size:"large",type:"primary",onClick:l[11]||(l[11]=()=>{var e;null==(e=oe.value)||e.blur()})},{icon:h((()=>[w(I(r),null,{default:h((()=>[w(I(B))])),_:1})])),default:h((()=>[l[29]||(l[29]=_("span",{class:"hidden sm:inline-block"},"搜索",-1))])),_:1,__:[29]}),w(I(d),{size:"large",bordered:"",onClick:l[12]||(l[12]=()=>{I(pe).searchKeyWord=""})},{icon:h((()=>[w(I(r),null,{default:h((()=>[w(I(J))])),_:1})])),default:h((()=>[l[30]||(l[30]=_("span",{class:"hidden sm:inline-block"},"清空",-1))])),_:1,__:[30]})])),_:1})])),_:1,__:[31]})])),_:1},8,["disabled","tab"])])),_:1})])}}});export{oe as default};
