import{a as e,c as s}from"./index-WV-0XGae.js";import{d as o,r as a,o as r,w as n,e as t,b4 as i,b5 as l,bb as u,b9 as c,be as d}from"./apis-Di5F419h.js";import"./iconfont-CKH9wMaD.js";import"./hooks-uz-yulWx.js";import"./lodash-DMrPhC4V.js";import"./pako-DsGp7kFX.js";const v={class:"webview-container"},m=["src"],b=s(o({__name:"EmbeddedWebView",setup(s){const o=e(),b=a(o.query.url),f=a(null),p=()=>{console.log("网页加载完成"),j.value=!1,w()},w=()=>{var e;if(f.value){const s=f.value.contentDocument||(null==(e=f.value.contentWindow)?void 0:e.document);if(s){const e=s.body.scrollHeight;f.value.style.height=`${e}px`}}},h=()=>{w()};r((()=>{window.addEventListener("resize",h)})),n((()=>o.query.url),(e=>{b.value=e,f.value&&(f.value.src=b.value)}));const j=a(!0);return t((()=>{window.removeEventListener("resize",h)})),(e,s)=>{const o=i("n-spin");return l(),u(o,{show:j.value},{default:c((()=>[d("div",v,[d("iframe",{ref_key:"iframeRef",ref:f,src:b.value,frameborder:"0",class:"webview",onLoad:p},null,40,m)])])),_:1},8,["show"])}}}),[["__scopeId","data-v-b5337083"]]);export{b as default};
