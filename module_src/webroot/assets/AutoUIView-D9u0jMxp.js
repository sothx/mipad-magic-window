import{_ as e}from"./all_app-D39sbeUz.js";import{_ as t}from"./qq_doc-CyffnODM.js";import{as as a,x as l,y as n,z as i,B as o,at as s,av as d,F as r,ak as c,U as u,aw as p}from"./hooks-BpgVSvul.js";import{d as g,r as m,L as f,b as y,ar as b,h as v,aQ as k,bq as C,br as _,bz as w,Z as x,bx as I,J as h,bu as A,bv as U,bw as L,c as P,by as M,da as R,M as O,de as T,l as z,db as S,dk as W,dl as Q,d9 as D,df as N}from"./apis-Dc_OHZ7a.js";import{u as V,a as j}from"./index-DfClbtjm.js";import{b as E,a as X}from"./format-D_OGebxR.js";import{p as K}from"./pako-Bb7MnDjl.js";import{r as F}from"./PlusIcon-_zGXuryX.js";import{r as Y}from"./ArrowPathIcon-xxUNuktk.js";import{r as q,a as B,b as J,c as $}from"./FunnelIcon-Dpy9SuUQ.js";import{r as H,a as Z}from"./QuestionMarkCircleIcon-BDXPcpqR.js";import{r as G}from"./ShareIcon-ChXkx_R_.js";import{r as ee,a as te}from"./XCircleIcon-CEOmb6mA.js";import{r as ae}from"./Cog6ToothIcon-CeX2szB_.js";import"./lodash-DMrPhC4V.js";import"./iconfont-CKH9wMaD.js";const le={class:"autoui-view mb-10"},ne={class:"mt-3"},ie={class:"mb-3 px-4 sm:px-0"},oe={class:"flex flex-wrap"},se={class:"flex flex-wrap"},de={class:"flex flex-wrap"},re=g({__name:"AutoUIView",setup(g){const re=m(null),ce=[{title:"应用名称",width:250,key:"name",render(e,t){const a=new Set(ue.installedAndroidApplicationPackageNameList);return x("div",null,[x("div",{class:"flex"},[a.has(e.name)&&x("img",{class:"mr-1 w-[28px] h-[28px] rounded-full object-cover",src:`ksu://icon/${e.name}`,onError:e=>{e.currentTarget.style.display="none"}},null),ue.canUsePackageInfoApi&&e.name&&x("p",{class:"mt-1"},[N(e.name)]),!ue.canUsePackageInfoApi&&e.applicationName&&x("p",{class:"mt-1"},[e.applicationName])]),e.name&&x("p",null,[x("span",null,[P("(")]),e.name,x("span",null,[P(")")])])])}},{title:"规则来源",key:"ruleMode",render(e,t){const a={icon:"custom"===e.ruleMode?$:Z};if("custom"===e.ruleMode){const t=[{label:"分享自定义规则",key:"shareCustomRule",icon:Ie(x("svg",{class:"icon","aria-hidden":"true"},[x("use",{"xlink:href":"#icon-fenxiang"},null)]),20)},{label:"清除自定义规则",key:"cleanCustomRule",icon:Ie(x("svg",{class:"icon","aria-hidden":"true"},[x("use",{"xlink:href":"#icon-qingchu"},null)]),20)}];return x(k("n-dropdown"),{onSelect:(t,a)=>(async(e,t,a)=>{if("cleanCustomRule"===e){const e=fe.create({title:"想清除自定义规则吗？",type:"warning",preset:"dialog",content:()=>x("p",null,[P("清除自定义规则后，你对")," ",x("span",{class:"font-bold "+(ue.isDarkMode?"text-teal-400":"text-gray-600")},[D(a.name,a.applicationName)])," ",P("所做的所有自定义配置将丢失，如果该应用同时还存在")," ",x("span",{class:"font-bold "+(ue.isDarkMode?"text-teal-400":"text-gray-600")},[P("模块规则")])," ",P("，将会还原回模块自身的适配规则。确定要继续吗？")]),positiveText:"确定清除",negativeText:"我再想想",onPositiveClick:async()=>{e.loading=!0,be.customConfigAutoUIList[a.name]&&delete be.customConfigAutoUIList[a.name];const[t,l]=await O(W({customAutoUIListXML:Q(be.customConfigAutoUIList,"package",void 0),settingConfigXML:Q(be.autoUISettingConfig,"setting","setting_config")}));t?(fe.create({title:"清除自定义规则失败",type:"error",preset:"dialog",content:()=>x("p",null,[P("发生异常错误，更新失败了QwQ，详细错误请查看错误日志~")])}),e.loading=!1):(fe.create({title:"清除自定义规则成功",type:"success",preset:"dialog",content:()=>x("p",null,[P("好耶w，清除自定义规则成功了OwO~如果应用更新后的规则不生效，可以尝试重启"),"tablet"===ue.deviceType?"平板":"手机",P("再试试~")])}),e.loading=!1,be.updateMergeRuleList())}})}if("shareCustomRule"===e){const e={name:a.name,cmpt:1,rules:{name:a.name,...a.autoUIRule},type:"autoui",device:"tablet"===ue.deviceType?"pad":"fold",mode:a.settingMode};console.log(e,"shareContent");const t=JSON.stringify(e),l=K.deflate(t,{level:9,memLevel:9,windowBits:15}),n=new Uint8Array(l),i=X(n),[o]=await O(navigator.clipboard.writeText(`我分享了一个[应用布局优化]的自定义规则，可以前往[完美横屏应用计划 For Web UI]导入：\n${i}`));if(o)return void fe.create({title:"复制分享口令失败",type:"error",preset:"dialog",content:()=>x("p",null,[P("复制")," ",x("span",{class:"font-bold "+(ue.isDarkMode?"text-teal-400":"text-gray-600")},[D(a.name,a.applicationName)])," ",P("的分享口令失败了QwQ，可能由于没有读取/写入剪切板的权限或")," ",x("span",{class:"font-bold "+(ue.isDarkMode?"text-teal-400":"text-gray-600")},[P("自定义规则")])," ",P("长度过大。")]),positiveText:"确定"});fe.create({title:"复制分享口令成功",type:"success",preset:"dialog",content:()=>x("div",null,[x("p",null,[P("好耶w，复制")," ",x("span",{class:"font-bold "+(ue.isDarkMode?"text-teal-400":"text-gray-600")},[D(a.name,a.applicationName)])," ",P("分享口令成功了~")]),x("p",null,[P("如果没有复制成功，请确认是否给予了读取/写入剪切板的权限或")," ",x("span",{class:"font-bold "+(ue.isDarkMode?"text-teal-400":"text-gray-600")},[P("自定义规则")])," ",P("长度过大。")]),x("p",null,[P("分享口令导入入口位于")," ",x("span",{class:"font-bold "+(ue.isDarkMode?"text-teal-400":"text-gray-600")},[P("应用布局优化- 从分享口令导入")])," ",P("。")])]),positiveText:"确定"})}})(t,0,e),size:"large",trigger:"click",options:t},{default:()=>[x(k("n-button"),{size:"small",dashed:!0,type:"info"},{default:()=>[P("自定义规则")],...a})]})}return x(k("n-button"),{size:"small",dashed:!0,type:"error",onClick:()=>(e=>{"module"===e.ruleMode&&fe.create({title:"模块规则说明",type:"warning",preset:"dialog",content:()=>x("p",null,[P("模块已对")," ",x("span",{class:"font-bold "+(ue.isDarkMode?"text-teal-400":"text-gray-600")},[D(e.name,e.applicationName)])," ",P("配置了合适的适配规则，且不可被移除，仅有自定义规则可以被移除哦~")])})})(e)},{default:()=>[P("模块规则")],...a})}},{title:"WebView优化",minWidth:110,key:"isOptimizeWebView",render(e,t){var a;return(null==(a=e.autoUIRule)?void 0:a.optimizeWebView)?x(k("n-tag"),{bordered:!1,dashed:!0,type:"success"},{default:()=>[P("已启用")]}):x(k("n-tag"),{bordered:!1,dashed:!0,type:"info"},{default:()=>[P("未启用")]})}},{title:"布局规则",key:"settingMode",render(e,t){const a={icon:ae};return x(k("n-button"),{size:"small",strong:!0,dashed:!0,type:Le[e.settingMode].type,color:Le[e.settingMode].color,onClick:()=>(async e=>{if(we&&we.value){const[t,a]=await O(we.value.openDrawer(e));if(t)console.log("操作取消:",t);else{be.customConfigAutoUIList[e.name]?(be.customConfigAutoUIList[e.name].enable=!0,be.customConfigAutoUIList[e.name].name=e.name,(null==a?void 0:a.modePayload.hasOwnProperty("activityRule"))&&(be.customConfigAutoUIList[e.name].activityRule=null==a?void 0:a.modePayload.activityRule),(null==a?void 0:a.modePayload.hasOwnProperty("skippedActivityRule"))&&(be.customConfigAutoUIList[e.name].skippedActivityRule=null==a?void 0:a.modePayload.skippedActivityRule),(null==a?void 0:a.modePayload.hasOwnProperty("optimizeWebView"))&&(be.customConfigAutoUIList[e.name].optimizeWebView=null==a?void 0:a.modePayload.optimizeWebView),(null==a?void 0:a.modePayload.hasOwnProperty("skippedAppConfigChange"))&&(be.customConfigAutoUIList[e.name].skippedAppConfigChange=null==a?void 0:a.modePayload.skippedAppConfigChange)):be.customConfigAutoUIList[e.name]={name:e.name,enable:!0,...(null==a?void 0:a.modePayload.skippedAppConfigChange)?{skippedAppConfigChange:!0}:{},...(null==a?void 0:a.modePayload.optimizeWebView)?{optimizeWebView:!0}:{},...(null==a?void 0:a.modePayload.hasOwnProperty("activityRule"))?{activityRule:null==a?void 0:a.modePayload.activityRule}:{},...(null==a?void 0:a.modePayload.hasOwnProperty("skippedActivityRule"))?{skippedActivityRule:null==a?void 0:a.modePayload.skippedActivityRule}:{}},be.autoUISettingConfig[e.name]?be.autoUISettingConfig[e.name].enable=!0:be.autoUISettingConfig[e.name]={name:e.name,enable:!0},console.log("loadingCallback:",a.loadingCallback);const[t,l]=await O(W({customAutoUIListXML:Q(be.customConfigAutoUIList,"package",void 0),settingConfigXML:Q(be.autoUISettingConfig,"setting","setting_config"),reloadRuleAction:{name:e.name,action:"enable"}}));t?(fe.create({title:"应用更新失败",type:"error",preset:"dialog",content:()=>x("p",null,[P("发生异常错误，添加失败了QwQ，详细错误请查看错误日志~")])}),a.loadingCallback&&a.loadingCallback()):(fe.create({title:"应用更新成功",type:"success",preset:"dialog",content:()=>x("p",null,[P("好耶w，")," ",x("span",{class:"font-bold "+(ue.isDarkMode?"text-teal-400":"text-gray-600")},[D(e.name,e.applicationName)])," ",P("的应用配置更新成功了OwO~，如果应用更新后的规则不生效，可以尝试重启"),"tablet"===ue.deviceType?"平板":"手机",P("再做尝试~")])}),be.updateMergeRuleList(),a.loadingCallback&&a.loadingCallback(),a.closeCallback&&a.closeCallback())}}})(e)},{default:()=>[Le[e.settingMode].name],...a})}},{title:"操作",minWidth:100,key:"setting",render(e,t){const a={checked:()=>x("span",null,[P("开启")]),unchecked:()=>x("span",null,[P("关闭")])},l=e=>e.settingRule&&e.settingRule.hasOwnProperty("enable")?e.settingRule.enable:!e.autoUIRule||!e.autoUIRule.hasOwnProperty("enable")||e.autoUIRule.enable;return x(k("n-switch"),{railStyle:Me,onUpdateValue:t=>(async(e,t,a)=>{const l=fe.create({title:`想${a?"开启":"关闭"}该应用的应用布局优化吗？`,type:"warning",preset:"dialog",content:()=>x("p",null,[P("即将"),a?"开启":"关闭",x("span",{class:"font-bold "+(ue.isDarkMode?"text-teal-400":"text-gray-600")},[D(e.name,e.applicationName)])," ",P("的应用布局优化适配规则。确定要继续吗？")]),positiveText:"确定",negativeText:"我再想想",onPositiveClick:async()=>{l.loading=!0,be.autoUISettingConfig[e.name]?be.autoUISettingConfig[e.name].enable=a:be.autoUISettingConfig[e.name]={name:e.name,enable:a};const[t,n]=await O(W({customAutoUIListXML:Q(be.customConfigAutoUIList,"package",void 0),settingConfigXML:Q(be.autoUISettingConfig,"setting","setting_config"),reloadRuleAction:{name:e.name,action:a?"enable":"disable"}}));t?(fe.create({title:"操作失败",type:"error",preset:"dialog",content:()=>x("p",null,[P("发生异常错误，更新失败了QwQ，详细错误请查看错误日志~")])}),l.loading=!1):(fe.create({title:"操作成功",type:"success",preset:"dialog",content:()=>x("p",null,[P("好耶w，操作成功了OwO~如果应用更新后的规则不生效，可以尝试重启"),"tablet"===ue.deviceType?"平板":"手机",P("再试试~")])}),l.loading=!1,be.updateMergeRuleList())}})})(e,0,t),size:"medium",value:l&&l(e)},a)}}],ue=f(),pe=a(),ge=y((()=>({theme:ue.isDarkMode?l:n}))),{message:me,modal:fe,notification:ye}=i(["message","modal","notification"],{configProviderProps:ge}),be=o(),ve=s(),ke=m(!1),Ce=m(!1);d();const _e=m(null),we=m(null);V(),b(),j();const xe=m("");function Ie(e,t){return()=>z(c,{size:t},{default:()=>z(e)})}const he=async()=>{await ue.getAndroidApplicationPackageNameList(),await be.initDefault()},Ae=()=>{be.filterInstalledApps=!be.filterInstalledApps},Ue=async()=>{if(_e.value){const[e,t]=await O(_e.value.openDrawer());if(e)console.log("操作取消:",e);else{be.customConfigAutoUIList[t.name]={name:t.name,enable:!0,...(null==t?void 0:t.modePayload.skippedAppConfigChange)?{skippedAppConfigChange:!0}:{},...(null==t?void 0:t.modePayload.optimizeWebView)?{optimizeWebView:!0}:{},...(null==t?void 0:t.modePayload.hasOwnProperty("activityRule"))?{activityRule:null==t?void 0:t.modePayload.activityRule}:{},...(null==t?void 0:t.modePayload.hasOwnProperty("skippedActivityRule"))?{skippedActivityRule:null==t?void 0:t.modePayload.skippedActivityRule}:{}},be.autoUISettingConfig[t.name]={name:t.name,enable:!0};const[e,a]=await O(W({customAutoUIListXML:Q(be.customConfigAutoUIList,"package",void 0),settingConfigXML:Q(be.autoUISettingConfig,"setting","setting_config"),reloadRuleAction:{name:t.name,action:"enable"}}));e?(fe.create({title:"应用添加失败",type:"error",preset:"dialog",content:()=>x("p",null,[P("发生异常错误，添加失败了QwQ，详细错误请查看错误日志~")])}),t.loadingCallback&&t.loadingCallback()):(fe.create({title:"应用添加成功",type:"success",preset:"dialog",content:()=>x("p",null,[P("好耶w，")," ",x("span",{class:"font-bold "+(ue.isDarkMode?"text-teal-400":"text-gray-600")},[D(t.name,ue.installedAppNameList[t.name]||be.applicationName[t.name])])," ",P("的应用配置添加成功了OwO~应用布局优化仅在应用全屏场景下生效，如果应用添加后的规则不生效，可以尝试重启平再做尝试~")])}),be.updateMergeRuleList(),t.loadingCallback&&t.loadingCallback(),t.closeCallback&&t.closeCallback())}}},Le=v({UNDEFINED_VIEW_POLICY:{type:"default",color:"",name:"空白规则"},VIEW_POLICY_DEFAULT:{type:"success",color:"",name:"全局缩放",onClick(e,t){}},VIEW_POLICY_STRETCH:{type:"info",color:"",name:"全局拉伸",onClick(e,t){}},VIEW_POLICY_AUTO_COLUMNS:{type:"warning",color:"",name:"全局栅格",onClick(e,t){}},VIEW_POLICY_FLOAT:{type:"error",color:"",name:"全局浮动",onClick(e,t){}},CUSTOM_VIEW_POLICY:{type:"",color:"#8a2be2",name:"详细适配",onClick(e,t){}}}),Pe=v({page:1,pageSize:10,simple:!0,showSizePicker:!0,onChange:e=>{Pe.page=e},onUpdatePageSize:e=>{Pe.pageSize=e,Pe.page=1}}),Me=({focused:e,checked:t})=>{const a={};return t?(a.background="#2080f0",e&&(a.boxShadow="0 0 0 2px #2080f040")):(a.background="#d03050",e&&(a.boxShadow="0 0 0 2px #d0305040")),a};return(a,l)=>{const n=k("n-input-group"),i=k("n-card"),o=k("n-data-table"),s=k("n-tab-pane"),d=k("n-alert"),g=k("n-tabs");return _(),C("main",le,[w("div",ne,[w("div",ie,[l[14]||(l[14]=w("h3",{class:I("text-base font-semibold leading-7")},[w("span",{class:"animated-bg bg-clip-text font-semibold text-transparent",style:{"background-image":"linear-gradient(\r\n\t\t\t\t\t\t\t\t101.22deg,\r\n\t\t\t\t\t\t\t\trgb(255, 182, 133) -18.32%,\r\n\t\t\t\t\t\t\t\trgb(255, 111, 29) 7.01%,\r\n\t\t\t\t\t\t\t\trgb(252, 181, 232) 41.59%,\r\n\t\t\t\t\t\t\t\trgb(135, 148, 255) 70.98%,\r\n\t\t\t\t\t\t\t\trgb(60, 112, 255) 91.35%,\r\n\t\t\t\t\t\t\t\trgb(60, 112, 255) 110.17%\r\n\t\t\t\t\t\t\t)"}},"应用布局优化")],-1)),w("p",{class:I("mt-1 max-w-2xl text-sm leading-6 "+(h(ue).isDarkMode?"text-gray-300":"text-gray-500"))}," 应用布局优化，自动优化应用内图文布局，提升视觉体验。 ",2)])]),x(g,{class:"sm:px-0",type:"line",animated:""},{default:A((()=>[x(s,{name:"autoui1",tab:"应用布局优化 1.0","display-directive":"show"},{default:A((()=>[x(i,{size:"small"},{default:A((()=>[w("div",oe,[x(h(r),{class:"mb-3 mr-3",type:"info",loading:h(ue).loading||h(be).loading,onClick:Ue},{icon:A((()=>[x(h(c),null,{default:A((()=>[x(h(F))])),_:1})])),default:A((()=>[l[15]||(l[15]=P(" 添加应用 "))])),_:1,__:[15]},8,["loading"]),x(h(r),{class:"mb-3 mr-3",type:"success",loading:h(ue).loading||h(be).loading,onClick:l[0]||(l[0]=()=>he())},{icon:A((()=>[x(h(c),null,{default:A((()=>[x(h(Y))])),_:1})])),default:A((()=>[l[16]||(l[16]=P(" 刷新应用列表 "))])),_:1,__:[16]},8,["loading"]),x(h(r),{class:"mb-3 mr-3",color:"#8a2be2",loading:h(ue).loading||h(be).loading,onClick:l[1]||(l[1]=()=>(async()=>{Ce.value=!0,await he();const[e,t]=await O(T("miui_auto_ui"));e&&(fe.create({title:"热重载应用数据失败",type:"error",preset:"dialog",content:()=>x("p",null,[P("热重载应用数据失败了QwQ，详情请查看错误日志~")]),positiveText:"确定"}),Ce.value=!1),t&&(fe.create({title:"热重载应用数据成功",type:"success",preset:"dialog",content:()=>x("p",null,[P("好耶w，已经重新为你载入包括自定义规则在内的应用数据~")]),positiveText:"确定"}),Ce.value=!1)})())},{icon:A((()=>[x(h(c),null,{default:A((()=>[x(h(q))])),_:1})])),default:A((()=>[l[17]||(l[17]=P(" 热重载应用数据 "))])),_:1,__:[17]},8,["loading"]),h(ue).canUsePackageInfoApi?L("",!0):(_(),U(h(r),{key:0,class:"mb-3 mr-3",color:"#69b2b6",loading:h(ue).loading||h(be).loading||h(pe).loading.value,onClick:l[2]||(l[2]=e=>(async()=>{const[e,t]=await O(pe.getList());e&&fe.create({title:"获取失败",type:"warning",preset:"dialog",content:()=>x("p",null,[P("您的系统环境暂不支持该功能，获取失败~")]),positiveText:"确定"}),t&&fe.create({title:"获取成功",type:"success",preset:"dialog",content:()=>x("p",null,[P("好耶OwO，已重新获取当前已安装的应用名称~")]),positiveText:"确定"})})())},{icon:A((()=>[x(h(c),null,{default:A((()=>[x(h(H))])),_:1})])),default:A((()=>[l[18]||(l[18]=P(" 获取已安装应用名称 "))])),_:1,__:[18]},8,["loading"])),x(h(r),{class:"mb-3 mr-3",type:"warning",loading:h(ue).loading||h(be).loading||ke.value,onClick:l[3]||(l[3]=e=>(async()=>{xe.value="";const[,e]=await O(new Promise(((e,t)=>{fe.create({title:"请粘贴分享口令",preset:"dialog",style:"min-width:500px; width:50%;",class:"responsive-modal",content:()=>z(u,{type:"textarea",value:xe.value,"onUpdate:value":e=>{xe.value=e},autosize:{minRows:8,maxRows:8},placeholder:"在此处粘贴分享规则口令"}),positiveText:"确定提交",negativeText:"取消导入",onPositiveClick(){e("positiveClick")}})})));if(e){ke.value=!0;const e=xe.value,a=S(e);if(!(null==a?void 0:a.length))return fe.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>x("p",null,[P("导入分享规则失败了QwQ，解析")," ",x("span",{class:"font-bold "+(ue.isDarkMode?"text-teal-400":"text-gray-600")},[P("自定义规则")])," ",P("口令发生错误，无法正常解析。")]),positiveText:"确定"}),void(ke.value=!1);console.log(a,"getBase64String");try{const e=E(a),t=K.inflate(e,{to:"string"}),l=JSON.parse(t);if("autoui"!==l.type)return fe.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>x("p",null,[P("导入分享规则失败了QwQ，该")," ",x("span",{class:"font-bold "+(ue.isDarkMode?"text-teal-400":"text-gray-600")},[P("自定义规则")])," ",P("不适用于应用布局优化。")]),positiveText:"确定"}),void(ke.value=!1);if("pad"===l.device&&"tablet"!==ue.deviceType||"fold"===l.device&&"tablet"===ue.deviceType)return fe.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>x("p",null,[P("导入分享规则失败了QwQ，平板和折叠屏的适配规则不能混用哦~")]),positiveText:"确定"}),void(ke.value=!1);be.customConfigAutoUIList[l.name]=l.rules,be.autoUISettingConfig[l.name]={name:l.name,enable:!0};const[n,i]=await O(W({customAutoUIListXML:Q(be.customConfigAutoUIList,"package",void 0),settingConfigXML:Q(be.autoUISettingConfig,"setting","setting_config"),reloadRuleAction:{name:l.name,action:"enable"}}));n?(fe.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>x("p",null,[P("发生异常错误，导入失败了QwQ，详细错误请查看错误日志~")])}),ke.value=!1):(be.updateMergeRuleList(),await he(),ke.value=!1,fe.create({title:"导入分享规则成功",type:"success",preset:"dialog",content:()=>x("p",null,[P("好耶w，")," ",x("span",{class:"font-bold "+(ue.isDarkMode?"text-teal-400":"text-gray-600")},[D(l.name,ue.installedAppNameList[l.name]||be.applicationName[l.name])])," ",P("的应用配置成功了OwO~如果应用更新后的规则不生效，可以尝试重启"),"tablet"===ue.deviceType?"平板":"手机",P("再做尝试~")]),positiveText:"确定"}))}catch(t){console.log(t,"error"),fe.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>x("p",null,[P("解析分享规则失败了QwQ，请检查导入口令是否有误")]),positiveText:"确定"}),ke.value=!1}}})())},{icon:A((()=>[x(h(c),null,{default:A((()=>[x(h(G))])),_:1})])),default:A((()=>[l[19]||(l[19]=P(" 从分享口令导入 "))])),_:1,__:[19]},8,["loading"])]),w("div",se,[x(h(r),{class:"mb-3 mr-3",type:h(be).filterInstalledApps?"success":"info",strong:"",loading:h(ue).loading||h(be).loading,secondary:"",onClick:Ae},{icon:A((()=>[x(h(c),null,{default:A((()=>[h(be).filterInstalledApps?(_(),U(h(B),{key:0})):(_(),U(h(J),{key:1}))])),_:1})])),default:A((()=>[P(" "+M(h(be).filterInstalledApps?"已安装应用":"全部应用"),1)])),_:1},8,["type","loading"]),x(h(r),{class:"mb-3 mr-3",type:"warning",secondary:"",loading:h(ue).loading||h(be).loading,onClick:l[4]||(l[4]=()=>R())},{icon:A((()=>[x(h(c),null,{default:A((()=>l[20]||(l[20]=[w("img",{src:e},null,-1)]))),_:1,__:[20]})])),default:A((()=>[l[21]||(l[21]=P(" 应用抽屉 "))])),_:1,__:[21]},8,["loading"]),x(h(r),{class:"mb-3 mr-3",type:"info",secondary:"",loading:h(ue).loading||h(be).loading,onClick:l[5]||(l[5]=e=>h(ve).getModal())},{icon:A((()=>[x(h(c),{size:"16"},{default:A((()=>l[22]||(l[22]=[w("img",{src:t},null,-1)]))),_:1,__:[22]})])),default:A((()=>[l[23]||(l[23]=P(" 应用适配收集表 "))])),_:1,__:[23]},8,["loading"])]),x(n,null,{default:A((()=>[x(h(u),{size:"large",clearable:"",value:h(be).searchKeyWord,"onUpdate:value":l[6]||(l[6]=e=>h(be).searchKeyWord=e),ref_key:"searchKeyWordInput",ref:re,placeholder:"搜索应用名称/应用包名",style:{width:"80%"}},null,8,["value"]),x(h(r),{size:"large",type:"primary",onClick:l[7]||(l[7]=()=>{var e;null==(e=re.value)||e.blur()})},{icon:A((()=>[x(h(c),null,{default:A((()=>[x(h(ee))])),_:1})])),default:A((()=>[l[24]||(l[24]=w("span",{class:"hidden sm:inline-block"},"搜索",-1))])),_:1,__:[24]}),x(h(r),{size:"large",bordered:"",onClick:l[8]||(l[8]=()=>{h(be).searchKeyWord=""})},{icon:A((()=>[x(h(c),null,{default:A((()=>[x(h(te))])),_:1})])),default:A((()=>[l[25]||(l[25]=w("span",{class:"hidden sm:inline-block"},"清空",-1))])),_:1,__:[25]})])),_:1})])),_:1}),x(o,{size:"small",loading:h(ue).loading||h(be).loading,columns:h(ce),class:"mt-3",data:h(be).filterMergeRuleList,pagination:Pe},null,8,["loading","columns","data","pagination"]),x(p,{ref_key:"addAutoUIApp",ref:_e,type:"add",title:"添加应用"},null,512),x(p,{ref_key:"updateAutoUIApp",ref:we,type:"update",title:"更新应用"},null,512)])),_:1}),x(s,{name:"autoui2",disabled:h(ue).androidTargetSdk<35,tab:"应用布局优化 2.0 "+(h(ue).androidTargetSdk<35?"(不支持)":""),"display-directive":"show"},{default:A((()=>[x(i,{size:"small"},{default:A((()=>[x(d,{type:"info",title:"功能开发中，未上线",class:"mb-3"},{default:A((()=>l[26]||(l[26]=[P(" 应用布局优化2.0规则将直接内置进模块内，目前暂不支持展示或进行任何修改，应用布局优化1.0规则不受此影响。 ")]))),_:1,__:[26]}),l[33]||(l[33]=w("div",{class:"flex flex-wrap"},null,-1)),w("div",de,[x(h(r),{class:"mb-3 mr-3",type:h(be).filterInstalledApps?"success":"info",strong:"",loading:h(ue).loading||h(be).loading,secondary:"",onClick:Ae},{icon:A((()=>[x(h(c),null,{default:A((()=>[h(be).filterInstalledApps?(_(),U(h(B),{key:0})):(_(),U(h(J),{key:1}))])),_:1})])),default:A((()=>[P(" "+M(h(be).filterInstalledApps?"已安装应用":"全部应用"),1)])),_:1},8,["type","loading"]),x(h(r),{class:"mb-3 mr-3",type:"warning",secondary:"",loading:h(ue).loading||h(be).loading,onClick:l[9]||(l[9]=()=>R())},{icon:A((()=>[x(h(c),null,{default:A((()=>l[27]||(l[27]=[w("img",{src:e},null,-1)]))),_:1,__:[27]})])),default:A((()=>[l[28]||(l[28]=P(" 应用抽屉 "))])),_:1,__:[28]},8,["loading"]),x(h(r),{class:"mb-3 mr-3",type:"info",secondary:"",loading:h(ue).loading||h(be).loading,onClick:l[10]||(l[10]=e=>h(ve).getModal())},{icon:A((()=>[x(h(c),{size:"16"},{default:A((()=>l[29]||(l[29]=[w("img",{src:t},null,-1)]))),_:1,__:[29]})])),default:A((()=>[l[30]||(l[30]=P(" 应用适配收集表 "))])),_:1,__:[30]},8,["loading"])]),x(n,null,{default:A((()=>[x(h(u),{size:"large",clearable:"",value:h(be).searchKeyWord,"onUpdate:value":l[11]||(l[11]=e=>h(be).searchKeyWord=e),ref_key:"searchKeyWordInput",ref:re,placeholder:"搜索应用名称/应用包名",style:{width:"80%"}},null,8,["value"]),x(h(r),{size:"large",type:"primary",onClick:l[12]||(l[12]=()=>{var e;null==(e=re.value)||e.blur()})},{icon:A((()=>[x(h(c),null,{default:A((()=>[x(h(ee))])),_:1})])),default:A((()=>[l[31]||(l[31]=w("span",{class:"hidden sm:inline-block"},"搜索",-1))])),_:1,__:[31]}),x(h(r),{size:"large",bordered:"",onClick:l[13]||(l[13]=()=>{h(be).searchKeyWord=""})},{icon:A((()=>[x(h(c),null,{default:A((()=>[x(h(te))])),_:1})])),default:A((()=>[l[32]||(l[32]=w("span",{class:"hidden sm:inline-block"},"清空",-1))])),_:1,__:[32]})])),_:1})])),_:1,__:[33]})])),_:1},8,["disabled","tab"])])),_:1})])}}});export{re as default};
