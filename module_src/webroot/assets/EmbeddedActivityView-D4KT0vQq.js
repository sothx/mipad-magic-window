import{_ as e}from"./all_app-D39sbeUz.js";import{_ as a}from"./qq_doc-CyffnODM.js";import{bq as t,br as i,bz as o,d as l,r as n,L as s,aR as d,ar as r,b as c,aQ as p,F as u,m,Z as v,bs as g,bt as f,J as y,bu as b,bv as k,bw as S,c as M,by as x,M as h,c9 as O,d9 as w,l as T,w as A,o as P,h as I,bx as C,da as _,db as R,dc as D,dd as V,aU as E,de as N,df as z,dg as L,dh as F,di as U,dj as B}from"./apis-Dc_OHZ7a.js";import{p as Q}from"./pako-Bb7MnDjl.js";import{u as j,_ as W}from"./index-DfClbtjm.js";import{x as $,y as G,z as q,aq as H,ap as Z,F as Y,B as J,ar as K,as as X,C as ee,at as ae,ak as te,U as ie,J as oe,au as le}from"./hooks-BpgVSvul.js";import{a as ne,b as se}from"./format-D_OGebxR.js";import{r as de}from"./PlusIcon-_zGXuryX.js";import{r as re}from"./ArrowPathIcon-xxUNuktk.js";import{r as ce,a as pe,b as ue,c as me}from"./FunnelIcon-Dpy9SuUQ.js";import{r as ve,a as ge}from"./QuestionMarkCircleIcon-BDXPcpqR.js";import{r as fe}from"./ShareIcon-ChXkx_R_.js";import{r as ye,a as be}from"./XCircleIcon-CEOmb6mA.js";import{i as ke}from"./lodash-DMrPhC4V.js";import{r as Se}from"./Cog6ToothIcon-CeX2szB_.js";import"./iconfont-CKH9wMaD.js";function Me(e,a){return i(),t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m7.848 8.25 1.536.887M7.848 8.25a3 3 0 1 1-5.196-3 3 3 0 0 1 5.196 3Zm1.536.887a2.165 2.165 0 0 1 1.083 1.839c.005.351.054.695.14 1.024M9.384 9.137l2.077 1.199M7.848 15.75l1.536-.887m-1.536.887a3 3 0 1 1-5.196 3 3 3 0 0 1 5.196-3Zm1.536-.887a2.165 2.165 0 0 0 1.083-1.838c.005-.352.054-.695.14-1.025m-1.223 2.863 2.077-1.199m0-3.328a4.323 4.323 0 0 1 2.068-1.379l5.325-1.628a4.5 4.5 0 0 1 2.48-.044l.803.215-7.794 4.5m-2.882-1.664A4.33 4.33 0 0 0 10.607 12m3.736 0 7.794 4.5-.802.215a4.5 4.5 0 0 1-2.48-.043l-5.326-1.629a4.324 4.324 0 0 1-2.068-1.379M14.343 12l-2.882 1.664"})])}function xe(e,a){return i(),t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z","clip-rule":"evenodd"})])}const he={class:"mb-4"},Oe={class:"mb-4"},we={class:"mb-4"},Te={class:"mb-4"},Ae={class:"mb-4"},Pe={class:"mb-4"},Ie={class:"mb-4"},Ce={class:"mb-4"},_e={class:"mb-4"},Re={class:"mb-4"},De={class:"mb-4"},Ve={class:"mb-4"},Ee={class:"mb-4"},Ne=l({__name:"EmbeddedAppDrawer",props:{type:{},title:{}},emits:["submit"],setup(e,{expose:a,emit:l}){const O=n(null),w=e,T=n(!1),A=s(),P=d(),I=r(),C=c((()=>({theme:A.isDarkMode?$:G}))),{message:_,modal:R}=q(["message","modal"],{configProviderProps:C});let D,V;const E=[{label:"强制应用所有界面横屏[nra:cr:rcr:nr]",key:"fullScreen_nra:cr:rcr:nr",rule:"nra:cr:rcr:nr"},{label:"继承应用自身设置横屏[*]",key:"fullScreen_*",rule:"*"},{label:"自定义",key:"fullScreen_custom"}],N=c((()=>{const e=[{label:"默认横屏规则",key:"fullScreen_default",rule:""}];return A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?[...e,...E]:E})),z=[{label:"大尺寸[11:10]",key:"ratio_11_10",ratio:1.1,isShow:()=>Boolean(A.androidTargetSdk<=35)},{label:"默认尺寸",key:"ratio_default",isShow:()=>!0},{label:"小尺寸[15:10]",key:"ratio_15_10",ratio:1.5,isShow:()=>Boolean(A.androidTargetSdk<=35)},{label:"小尺寸[18:10]",key:"ratio_18:10",ratio:1.8,isShow:()=>Boolean(A.androidTargetSdk<=35)},{label:"自定义",key:"ratio_custom",isShow:()=>Boolean(A.androidTargetSdk<=35)},{label:"小尺寸[3:2]",key:"ratio_3:2",isShow:()=>Boolean(A.androidTargetSdk>=36),minAspectRatioCompatChange:"OVERRIDE_MIN_ASPECT_RATIO_MEDIUM"},{label:"小尺寸[16:9]",key:"ratio_16:9",isShow:()=>Boolean(A.androidTargetSdk>=36),minAspectRatioCompatChange:"OVERRIDE_MIN_ASPECT_RATIO_LARGE"}],L=c((()=>z.filter((e=>!e.isShow||e.isShow())))),F=n(N.value[0]),U=n(),B=n(!0),Q=n(),j=n(),W=n(z[1]),Z=n(),Y=n(),J=n(.5),K=n(!1),X=n(!1),ee=n(!1),ae=n(!1),te=n(!1),ie=n([]),oe=e=>{const a=document.querySelector(".n-drawer-content");a instanceof HTMLElement&&(I.info("resizeDrawerContent",e),a.style.height=e?"calc(100% + 200px)":"100%")},le=async e=>{if(e&&A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35){const[e]=await h(new Promise(((e,a)=>{R.create({title:"确认启用第三方横屏优化吗？",type:"warning",preset:"dialog",content:()=>v("p",null,[M("由于小米的BUG，部分应用即使配置了横屏，在系统重启后仍然会丢失横屏配置，开启此项可以保证该应用的横屏规则不会丢失，但每次设备重启或修改模块规则，该应用都将被强制重启，确定要继续吗？")]),positiveText:"确定继续",negativeText:"我再想想",onPositiveClick:()=>{e("positiveClick")},onNegativeClick:()=>{a("negativeClick")}})})));if(e)return}me.value=e},ne=n({openDrawer:e=>new Promise(((a,t)=>{var i,o,l,n,s,d,r,c,p,u,m,v,g;if("update"===w.type&&!e)return t(new Error("更新模式下必须传入初始化参数")),void _.error("初始化参数不能为空");if(D=a,V=t,"add"===w.type&&(j.value="add",F.value=N.value[0],Se.value="",U.value=A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?"":"nra:cr:rcr:nr",ie.value=["fullScreen","fixedOrientation","disabled"],ge.value=!1,fe.value=!1,K.value=!1,ee.value=!1,ye.value=!1,ke.value=!1,be.value=!1,te.value=!1,X.value=!1,ue.value=!1),"update"===w.type&&e)if(j.value="update",ae.value=!1,J.value=.5,ke.value=!1,te.value=!1,Q.value=e.ruleMode,Se.value=e.name,xe.value=e.isSupportEmbedded,e.embeddedRules&&e.embeddedRules.hasOwnProperty("splitRatio")&&(J.value=e.embeddedRules.splitRatio??.5),e.embeddedRules&&e.embeddedRules.hasOwnProperty("relaunch")?ge.value=!!e.embeddedRules.relaunch:ge.value=!0,e.embeddedRules&&e.embeddedRules.hasOwnProperty("placeholder")?ye.value=!!e.embeddedRules.placeholder:ye.value=!1,e.embeddedRules&&e.embeddedRules.hasOwnProperty("splitMinWidth")?be.value=!1:be.value=!0,e.embeddedRules&&e.embeddedRules.hasOwnProperty("scaleMode")?X.value=2===e.embeddedRules.scaleMode:X.value=!1,ce.value=e.settingMode,A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35&&(me.value=e.thirdPartyAppOptimize??!1),(!A.MIOSVersion||A.MIOSVersion&&A.MIOSVersion<2||A.androidTargetSdk<35)&&(pe.value=(null==(i=e.fixedOrientationRule)?void 0:i.disable)??!1),A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35&&(ue.value=(null==(l=null==(o=e.fixedOrientationRule)?void 0:o.compatChange)?void 0:l.split(",").includes("DISABLED:OVERRIDE_UNDEFINED_ORIENTATION_TO_PORTRAIT"))??!1),ve.value=(null==(n=e.fixedOrientationRule)?void 0:n.isShowDivider)??!1,B.value=(null==(s=e.fixedOrientationRule)?void 0:s.supportFullSize)??!1,U.value=(null==(d=e.embeddedRules)?void 0:d.fullRule)??void 0,K.value=(null==(c=null==(r=e.fixedOrientationRule)?void 0:r.compatChange)?void 0:c.split(",").includes("OVERRIDE_UNDEFINED_ORIENTATION_TO_PORTRAIT"))??!1,ee.value=((null==(u=null==(p=e.fixedOrientationRule)?void 0:p.compatChange)?void 0:u.split(",").includes("OVERRIDE_ANY_ORIENTATION"))&&K.value)??!1,"nra:cr:rcr:nr"===U.value?F.value=A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?N.value[1]:N.value[0]:e.embeddedRules&&!e.embeddedRules.hasOwnProperty("fullRule")?(U.value=A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?void 0:"nra:cr:rcr:nr",F.value=A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?N.value[0]:N.value[1]):"*"===U.value?F.value=A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?N.value[2]:N.value[1]:F.value=A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35?N.value[3]:N.value[2],e.fixedOrientationRule&&e.fixedOrientationRule.hasOwnProperty("relaunch")?ge.value=!!e.fixedOrientationRule.relaunch:ge.value=!1,A.androidTargetSdk>=36){const a=(null==(v=null==(m=e.fixedOrientationRule)?void 0:m.compatChange)?void 0:v.split(","))??[],t=L.value.find((e=>e.minAspectRatioCompatChange&&a.includes(e.minAspectRatioCompatChange)))??L.value.find((e=>"ratio_default"===e.key));W.value=t,Y.value=t.minAspectRatioCompatChange??""}else Z.value=(null==(g=e.fixedOrientationRule)?void 0:g.ratio)??void 0,W.value=L.value.find((e=>e.ratio===Z.value))??L.value.find((e=>"ratio_default"===e.key));T.value=!0})),closeDrawer:()=>{T.value=!1,V("Drawer closed without submission")}}),se=(e,a)=>{F.value=a,U.value=["fullScreen_nra:cr:rcr:nr","fullScreen_*"].includes(e)?a.rule:void 0},de=(e,a)=>{W.value=a,A.androidTargetSdk>=36?Y.value=a.minAspectRatioCompatChange??"":Z.value=["ratio_11_10","ratio_15_10","ratio_18:10"].includes(e)?a.ratio:"ratio_custom"===e?1.5:void 0},re=({focused:e,checked:a})=>{const t={};return a?(t.background="#2080f0",e&&(t.boxShadow="0 0 0 2px #2080f040")):(t.background="#d03050",e&&(t.boxShadow="0 0 0 2px #d0305040")),t},ce=n("fullScreen"),pe=n(!1),ue=n(!1),me=n(!1),ve=n(!0),ge=n(!0),fe=n(!1),ye=n(!1),be=n(!1),ke=n(!1),Se=n(""),Me=n(""),xe=n(!1),Ne=n(!1);return a({openDrawer:ne.value.openDrawer}),(e,a)=>{const l=p("n-input-group-label"),n=p("n-input"),s=p("n-input-group"),d=p("n-tag"),r=p("n-alert"),c=p("n-switch"),I=p("n-card"),C=p("n-slider"),_=p("n-input-number"),V=p("n-tab-pane"),E=p("n-button"),z=p("n-dropdown"),j=p("n-tabs"),$=p("n-drawer-content"),G=p("n-drawer");return i(),t(u,null,[m(e.$slots,"default",g(f({openDrawer:ne.value.openDrawer}))),v(G,{show:T.value,"onUpdate:show":a[30]||(a[30]=e=>T.value=e),width:y(A).windowWidth>=640?"450px":"100%",placement:"right"},{default:b((()=>[v($,{title:w.title,closable:""},{footer:b((()=>[v(E,{type:"info",loading:Ne.value,"onUpdate:loading":a[28]||(a[28]=e=>Ne.value=e),onClick:a[29]||(a[29]=()=>(async()=>{if(!Se.value)return void R.create({title:"应用包名不能为空",type:"error",preset:"dialog",content:()=>v("p",null,[M("噫？应用包名不能为空（敲")])});if("fullScreen"===ce.value&&!U.value&&(!A.MIOSVersion||A.MIOSVersion<2||A.androidTargetSdk<35))return void R.create({title:"应用全屏规则不能为空",type:"error",preset:"dialog",content:()=>v("p",null,[M("噫？应用全屏规则不能为空（敲")])});if("add"===w.type&&P.allPackageName.has(Se.value))return void R.create({title:"应用包名已存在",type:"error",preset:"dialog",content:()=>v("p",null,[M("噫？这个应用包名已经存在列表中了（敲")])});if("update"===w.type&&xe.value&&"fullScreen"===ce.value){const[e]=await h(new Promise(((e,a)=>{R.create({title:"确认使用全屏规则吗？",type:"warning",preset:"dialog",content:()=>"custom"===Q.value?v("p",null,[M("当前应用已存在")," ",v("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[M("平行窗口的自定义规则")])," ",M("，继续提交可能导致")," ",v("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[M("平行窗口的自定义规则")])," ",M("丢失。确定要继续吗？")]):v("p",null,[M("当前应用已存在")," ",v("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[M("平行窗口的模块规则")])," ",M("，继续更新将会被更替为")," ",v("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[M("全屏规则")])," ",M("，如后续需要改回")," ",v("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[M("平行窗口的模块规则")])," ",M("可能需要先清除自定义规则，确定要继续吗？")]),positiveText:"确定继续",negativeText:"我再想想",onPositiveClick:()=>{e("positiveClick")},onNegativeClick:()=>{a("negativeClick")}})})));if(e)return}if("update"===w.type&&"module"===Q.value&&ae.value){const[e]=await h(new Promise(((e,a)=>{R.create({title:"确认使用平行窗口自定义规则吗？",type:"warning",preset:"dialog",content:()=>v("p",null,[M("当前应用已存在")," ",v("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[M("平行窗口的模块规则")])," ",M("，继续更新将会被更替为")," ",v("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[M("平行窗口的自定义规则")])," ",M("，且该应用规则不再随模块版本更新，如后续需要改回")," ",v("span",{class:"font-bold "+(A.isDarkMode?"text-teal-400":"text-gray-600")},[M("平行窗口的模块规则")])," ",M("则需要先清除自定义规则，确定要继续吗？")]),positiveText:"确定继续",negativeText:"我再想想",onPositiveClick:()=>{e("positiveClick")},onNegativeClick:()=>{a("negativeClick")}})})));if(e)return}Ne.value=!0;const e={name:Se.value,settingMode:ce.value,...A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35&&{thirdPartyAppOptimize:!(!me.value||"fullScreen"!==ce.value&&"disabled"!==ce.value)},modePayload:{..."fullScreen"===ce.value&&{fullRule:U.value},..."fullScreen"===ce.value&&(!A.MIOSVersion||A.MIOSVersion&&A.MIOSVersion<2||A.androidTargetSdk<35)&&{skipSelfAdaptive:pe.value},..."fullScreen"===ce.value&&A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35&&{fullDisablecompatChange:ue.value},...("fullScreen"===ce.value||"disabled"===ce.value)&&{isShowDivider:ve.value},...("fullScreen"===ce.value||"disabled"===ce.value)&&{supportFullSize:B.value},..."fixedOrientation"===ce.value&&A.androidTargetSdk<=35&&{ratio:Z.value},..."fixedOrientation"===ce.value&&A.androidTargetSdk>=36&&{minAspectRatioCompatChange:Y.value},...("fixedOrientation"===ce.value||"disabled"===ce.value)&&{foRelaunch:ge.value},..."fixedOrientation"===ce.value&&A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35&&{forceFixedOrientation:K.value},..."fixedOrientation"===ce.value&&A.MIOSVersion&&A.MIOSVersion>=2&&A.androidTargetSdk>=35&&K.value&&{forceAnyOrientation:ee.value},..."embedded"===ce.value&&("custom"===Q.value||"module"===Q.value&&ae.value)&&{splitRatio:J.value},..."embedded"===ce.value&&("custom"===Q.value||"module"===Q.value&&ae.value)&&{emRelaunch:fe.value},..."embedded"===ce.value&&("custom"===Q.value||"module"===Q.value&&ae.value)&&ye.value&&{emIsDisabledPlaceholder:ke.value},..."embedded"===ce.value&&("custom"===Q.value||"module"===Q.value&&ae.value)&&te.value&&{emIsSplitMinWidthZeroMode:te.value},..."embedded"===ce.value&&("custom"===Q.value||"module"===Q.value&&ae.value)&&{forceEmbeddedScaleToFixedOrientation:X.value}},loadingCallback:()=>{Ne.value=!1},closeCallback:()=>{Ne.value=!1,T.value=!1}};D(e)})())},{default:b((()=>a[88]||(a[88]=[M(" 提交 ")]))),_:1,__:[88]},8,["loading"])])),default:b((()=>[v(s,null,{default:b((()=>[v(l,{size:"large"},{default:b((()=>a[31]||(a[31]=[M("应用包名")]))),_:1,__:[31]}),v(n,{size:"large",status:Me.value,value:Se.value,"onUpdate:value":a[0]||(a[0]=e=>Se.value=e),"allow-input":e=>H(e),readonly:"update"===w.type,placeholder:"请输入应用包名"},null,8,["status","value","allow-input","readonly"])])),_:1}),"custom"===Q.value?(i(),k(r,{key:0,type:"info",class:"mt-5"},{default:b((()=>[a[34]||(a[34]=M(" 当前应用已被 ")),v(d,{bordered:!1,type:"info"},{default:b((()=>a[32]||(a[32]=[M("自定义规则")]))),_:1,__:[32]}),a[35]||(a[35]=M(" 覆盖，该应用规则不再随模块版本更新，如需恢复模块规则，请先清除 ")),v(d,{bordered:!1,type:"info"},{default:b((()=>a[33]||(a[33]=[M("自定义规则")]))),_:1,__:[33]}),a[36]||(a[36]=M(" 。 "))])),_:1,__:[34,35,36]})):S("",!0),v(j,{class:"my-3",type:"segment",animated:"",value:ce.value,"onUpdate:value":a[27]||(a[27]=e=>ce.value=e)},{default:b((()=>["update"===w.type&&xe.value?(i(),k(V,{key:0,name:"embedded",tab:"平行窗口"},{default:b((()=>[v(r,{"show-icon":!1,bordered:!1,title:"应用分屏显示",type:"success"},{default:b((()=>a[37]||(a[37]=[M(" 开启后，未适配横屏应用界面将通过平行窗口显示 ")]))),_:1,__:[37]}),"module"===Q.value?(i(),k(I,{key:0,bordered:!1,title:"切换自定义规则",size:"small"},{default:b((()=>[o("div",he,[v(d,{bordered:!1,type:"info"},{default:b((()=>a[38]||(a[38]=[M(" 切换为自定义规则后该应用不再随模块更新 ")]))),_:1,__:[38]})]),v(c,{"rail-style":re,value:ae.value,"onUpdate:value":a[1]||(a[1]=e=>ae.value=e),size:"large"},{checked:b((()=>a[39]||(a[39]=[M("使用自定义规则")]))),unchecked:b((()=>a[40]||(a[40]=[M("不使用自定义规则")]))),_:1},8,["value"])])),_:1})):S("",!0),("custom"===Q.value||ae.value)&&ye.value?(i(),k(I,{key:1,bordered:!1,title:"平行窗口冷启动是否默认首页分屏",size:"small"},{default:b((()=>[v(c,{"rail-style":re,value:ke.value,"onUpdate:value":a[2]||(a[2]=e=>ke.value=e),size:"large"},{checked:b((()=>a[41]||(a[41]=[M("平行窗口冷启动移除默认首页分屏")]))),unchecked:b((()=>a[42]||(a[42]=[M("平行窗口冷启动使用默认首页分屏")]))),_:1},8,["value"])])),_:1})):S("",!0),"custom"===Q.value||ae.value?(i(),k(I,{key:2,bordered:!1,title:"平行窗口默认分屏比例",size:"small"},{default:b((()=>[v(C,{value:J.value,"onUpdate:value":a[3]||(a[3]=e=>J.value=e),size:"small",min:.01,max:.99,step:.01},null,8,["value"]),v(_,{"show-button":!1,class:"pt-3",readonly:"",placeholder:"请输入平行窗口默认分屏比例",value:J.value,"onUpdate:value":a[4]||(a[4]=e=>J.value=e),min:.01,max:.99,step:.01},null,8,["value"])])),_:1})):S("",!0),"custom"===Q.value||ae.value?(i(),k(I,{key:3,bordered:!1,title:"平行窗口显示比例发生变化时是否重载",size:"small"},{default:b((()=>[o("div",Oe,[v(d,{bordered:!1,type:"success"},{default:b((()=>a[43]||(a[43]=[M(" 适用于开启 "),o("span",{class:"font-bold"},"平行窗口滑动条",-1),M(" 的应用 ")]))),_:1,__:[43]})]),v(c,{"rail-style":re,value:fe.value,"onUpdate:value":a[5]||(a[5]=e=>fe.value=e),size:"large"},{checked:b((()=>a[44]||(a[44]=[M("平行窗口显示比例变化时重载")]))),unchecked:b((()=>a[45]||(a[45]=[M("平行窗口显示比例变化时不重载")]))),_:1},8,["value"])])),_:1})):S("",!0),"custom"===Q.value||ae.value?(i(),k(I,{key:4,bordered:!1,title:"强制平行窗口居中显示",size:"small"},{default:b((()=>[o("div",we,[v(d,{bordered:!1,type:"success"},{default:b((()=>a[46]||(a[46]=[M(" 开启后 "),o("span",{class:"font-bold"},"平行窗口",-1),M(" 将强制要求居中显示 ")]))),_:1,__:[46]})]),o("div",null,[v(c,{"rail-style":re,"onUpdate:value":a[6]||(a[6]=e=>(async e=>{if(e){const[e]=await h(new Promise(((e,a)=>{R.create({title:"确认启用强制平行窗口居中显示吗？",type:"warning",preset:"dialog",content:()=>v("p",null,[M("开启后，平行窗口将强制要求居中显示，但同时会导致应用丢失平行窗口滑动条或应用元素缩放效果，并且平行窗口默认分屏比例将固定在0.5，如需恢复，则需要先清除自定义规则，确定要继续吗？")]),positiveText:"确定继续",negativeText:"我再想想",onPositiveClick:()=>{e("positiveClick")},onNegativeClick:()=>{a("negativeClick")}})})));if(e)return}X.value=e})(e)),value:X.value,size:"large"},{checked:b((()=>a[47]||(a[47]=[M("强制平行窗口居中显示")]))),unchecked:b((()=>a[48]||(a[48]=[M("不强制平行窗口居中显示")]))),_:1},8,["value"])])])),_:1})):S("",!0),("custom"===Q.value||ae.value)&&be.value&&y(A).androidTargetSdk<=34?(i(),k(I,{key:5,bordered:!1,title:"强制竖屏进入平行窗口",size:"small"},{default:b((()=>[v(c,{"rail-style":re,"onUpdate:value":a[7]||(a[7]=e=>(async e=>{if(e){const[e]=await h(new Promise(((e,a)=>{R.create({title:"确认启用强制竖屏平行窗口吗？",type:"warning",preset:"dialog",content:()=>v("p",null,[M("开启后，应用将支持竖屏进入平行窗口，具体是否生效因应用而异，开启后可能导致部分应用显示异常或者崩溃，如需恢复，则需要先清除自定义规则，确定要继续吗？")]),positiveText:"确定继续",negativeText:"我再想想",onPositiveClick:()=>{e("positiveClick")},onNegativeClick:()=>{a("negativeClick")}})})));if(e)return}te.value=e})(e)),value:te.value,size:"large"},{checked:b((()=>a[49]||(a[49]=[M("强制竖屏进入平行窗口")]))),unchecked:b((()=>a[50]||(a[50]=[M("不强制竖屏进入平行窗口")]))),_:1},8,["value"])])),_:1})):S("",!0)])),_:1})):S("",!0),v(V,{name:"fullScreen",tab:"全屏"},{default:b((()=>[v(r,{"show-icon":!1,bordered:!1,title:"应用横屏显示",type:"info"},{default:b((()=>a[51]||(a[51]=[M(" 开启后，未适配横屏应用界面将全屏显示，并可更改显示规则 ")]))),_:1,__:[51]}),v(I,{bordered:!1,title:"横屏显示规则",size:"small"},{default:b((()=>[v(z,{modelValue:F.value,"onUpdate:modelValue":a[8]||(a[8]=e=>F.value=e),size:"large",trigger:"click",options:N.value,onSelect:se},{default:b((()=>[v(E,{block:"",type:"info",dashed:""},{default:b((()=>[M(x(F.value.label),1)])),_:1})])),_:1},8,["modelValue","options"])])),_:1}),"fullScreen_custom"===F.value.key?(i(),k(I,{key:0,bordered:!1,title:"自定义横屏规则",size:"small"},{default:b((()=>[v(s,null,{default:b((()=>[v(n,{ref_key:"currentFullRuleRef",ref:O,onFocus:a[9]||(a[9]=()=>{return oe(!0),void(null==(e=O.value)||e.$el.scrollIntoView({behavior:"smooth",block:"start"}));var e}),onBlur:a[10]||(a[10]=()=>{return oe(!1),void(null==(e=O.value)||e.$el.scrollIntoView({behavior:"smooth",block:"start"}));var e}),value:U.value,"onUpdate:value":a[11]||(a[11]=e=>U.value=e),placeholder:"请输入横屏规则"},null,8,["value"])])),_:1})])),_:1})):S("",!0),v(I,{bordered:!1,title:"平行窗口滑动条",size:"small"},{default:b((()=>[o("div",Te,[v(d,{bordered:!1,type:"success"},{default:b((()=>a[52]||(a[52]=[M(" 适用于原生适配 "),o("span",{class:"font-bold"},"Android Embedded",-1),M(" 的应用 ")]))),_:1,__:[52]})]),v(c,{"rail-style":re,value:ve.value,"onUpdate:value":a[12]||(a[12]=e=>ve.value=e),size:"large"},{checked:b((()=>a[53]||(a[53]=[M("启用平行窗口滑动条")]))),unchecked:b((()=>a[54]||(a[54]=[M("关闭平行窗口滑动条")]))),_:1},8,["value"])])),_:1}),ve.value?(i(),k(I,{key:1,bordered:!1,title:"平行窗口可滑动至全屏",size:"small"},{default:b((()=>[o("div",Ae,[v(d,{bordered:!1,type:"success"},{default:b((()=>a[55]||(a[55]=[M(" 适用于原生适配 "),o("span",{class:"font-bold"},"Android Embedded",-1),M(" 的应用 ")]))),_:1,__:[55]})]),v(c,{"rail-style":re,value:B.value,"onUpdate:value":a[13]||(a[13]=e=>B.value=e),size:"large"},{checked:b((()=>a[56]||(a[56]=[M("平行窗口可滑动至全屏")]))),unchecked:b((()=>a[57]||(a[57]=[M("平行窗口不可滑动至全屏")]))),_:1},8,["value"])])),_:1})):S("",!0),!y(A).MIOSVersion||y(A).MIOSVersion&&y(A).MIOSVersion<2||y(A).androidTargetSdk<35?(i(),k(I,{key:2,class:"",bordered:!1,title:"跳过应用自适配声明",size:"small"},{default:b((()=>[o("div",Pe,[v(d,{bordered:!1,type:"success"},{default:b((()=>a[58]||(a[58]=[M(" 适用于即使设置了 "),o("span",{class:"font-bold"},"横屏规则",-1),M(" 仍无法横屏的应用 ")]))),_:1,__:[58]})]),v(c,{"rail-style":re,value:pe.value,"onUpdate:value":a[14]||(a[14]=e=>pe.value=e),size:"large"},{checked:b((()=>a[59]||(a[59]=[M("跳过自适配声明")]))),unchecked:b((()=>a[60]||(a[60]=[M("不跳过自适配声明")]))),_:1},8,["value"])])),_:1})):S("",!0),y(A).MIOSVersion&&y(A).MIOSVersion>=2&&y(A).androidTargetSdk>=35?(i(),k(I,{key:3,class:"",bordered:!1,title:"禁用应用兼容性声明",size:"small"},{default:b((()=>[o("div",Ie,[v(d,{bordered:!1,type:"success"},{default:b((()=>a[61]||(a[61]=[M(" 适用于即使设置了 "),o("span",{class:"font-bold"},"横屏规则",-1),M(" 仍无法横屏的应用 ")]))),_:1,__:[61]})]),v(c,{"rail-style":re,value:ue.value,"onUpdate:value":a[15]||(a[15]=e=>ue.value=e),size:"large"},{checked:b((()=>a[62]||(a[62]=[M("禁用应用兼容性声明")]))),unchecked:b((()=>a[63]||(a[63]=[M("不禁用应用兼容性声明")]))),_:1},8,["value"])])),_:1})):S("",!0),y(A).MIOSVersion&&y(A).MIOSVersion>=2&&y(A).androidTargetSdk>=35?(i(),k(I,{key:4,class:"",bordered:!1,title:"第三方应用横屏优化",size:"small"},{default:b((()=>[o("div",Ce,[v(d,{bordered:!1,type:"success"},{default:b((()=>a[64]||(a[64]=[M(" 适用于即使设置了 "),o("span",{class:"font-bold"},"横屏规则",-1),M(" 仍无法横屏的应用 ")]))),_:1,__:[64]})]),v(c,{"rail-style":re,"onUpdate:value":a[16]||(a[16]=e=>le(e)),value:me.value,size:"large"},{checked:b((()=>a[65]||(a[65]=[M("已开启第三方应用横屏优化")]))),unchecked:b((()=>a[66]||(a[66]=[M("未开启第三方应用横屏优化")]))),_:1},8,["value"])])),_:1})):S("",!0)])),_:1}),v(V,{name:"fixedOrientation",tab:"居中布局"},{default:b((()=>[v(r,{"show-icon":!1,bordered:!1,title:"应用居中显示",type:"warning"},{default:b((()=>a[67]||(a[67]=[M(" 开启后，未适配横屏应用界面将居中显示，并可更改显示比例 ")]))),_:1,__:[67]}),v(I,{bordered:!1,title:"居中显示比例",size:"small"},{default:b((()=>[v(z,{value:W.value,"onUpdate:value":a[17]||(a[17]=e=>W.value=e),size:"large",trigger:"click",options:L.value,onSelect:de},{default:b((()=>[v(E,{block:"",type:"error",dashed:""},{default:b((()=>[M(x(W.value.label),1)])),_:1})])),_:1},8,["value","options"])])),_:1}),"ratio_custom"===W.value.key?(i(),k(I,{key:0,bordered:!1,title:"自定义显示比例",size:"small"},{default:b((()=>[v(C,{size:"small",value:Z.value,"onUpdate:value":a[18]||(a[18]=e=>Z.value=e),min:1.01,max:1.99,step:.01},null,8,["value"]),v(_,{"show-button":!1,class:"pt-3",readonly:"",placeholder:"请输入自定义显示比例",value:Z.value,"onUpdate:value":a[19]||(a[19]=e=>Z.value=e),min:1.01,max:1.99,step:.01},null,8,["value"])])),_:1})):S("",!0),v(I,{bordered:!1,title:"应用比例变化时是否重载应用",size:"small"},{default:b((()=>[v(c,{"rail-style":re,value:ge.value,"onUpdate:value":a[20]||(a[20]=e=>ge.value=e),size:"large"},{checked:b((()=>a[68]||(a[68]=[M("应用比例变化时重载应用")]))),unchecked:b((()=>a[69]||(a[69]=[M("应用比例变化时不重载应用")]))),_:1},8,["value"])])),_:1}),y(A).MIOSVersion&&y(A).MIOSVersion>=2&&y(A).androidTargetSdk>=35?(i(),k(I,{key:1,class:"",bordered:!1,title:"强制应用居中显示",size:"small"},{default:b((()=>[o("div",_e,[v(d,{bordered:!1,type:"success"},{default:b((()=>a[70]||(a[70]=[M(" 适用于即使设置了 "),o("span",{class:"font-bold"},"居中布局",-1),M(" 仍无法居中显示的应用 ")]))),_:1,__:[70]})]),o("div",null,[v(c,{"rail-style":re,value:K.value,"onUpdate:value":a[21]||(a[21]=e=>K.value=e),size:"large"},{checked:b((()=>a[71]||(a[71]=[M("强制应用居中显示")]))),unchecked:b((()=>a[72]||(a[72]=[M("不强制应用居中显示")]))),_:1},8,["value"])])])),_:1})):S("",!0),y(A).MIOSVersion&&y(A).MIOSVersion>=2&&y(A).androidTargetSdk>=35&&!0===K.value?(i(),k(I,{key:2,class:"",bordered:!1,title:"强制横屏界面居中显示",size:"small"},{default:b((()=>[o("div",Re,[v(d,{bordered:!1,type:"success"},{default:b((()=>a[73]||(a[73]=[M(" 开启后 "),o("span",{class:"font-bold"},"应用横屏界面",-1),M(" 将强制要求居中显示 ")]))),_:1,__:[73]})]),o("div",null,[v(c,{"rail-style":re,value:ee.value,"onUpdate:value":a[22]||(a[22]=e=>(async e=>{if(e){const[e]=await h(new Promise(((e,a)=>{R.create({title:"确认启用强制横屏界面居中显示吗？",type:"warning",preset:"dialog",content:()=>v("p",null,[M("开启后，应用横屏界面将强制要求居中显示，但同时会导致应用部分适用于全屏场景的界面无法正常进入全屏，也会强制进入居中显示，确定要继续吗？")]),positiveText:"确定继续",negativeText:"我再想想",onPositiveClick:()=>{e("positiveClick")},onNegativeClick:()=>{a("negativeClick")}})})));if(e)return}ee.value=e})(e)),size:"large"},{checked:b((()=>a[74]||(a[74]=[M("强制横屏界面居中显示")]))),unchecked:b((()=>a[75]||(a[75]=[M("不强制横屏界面居中显示")]))),_:1},8,["value"])])])),_:1})):S("",!0)])),_:1}),v(V,{name:"disabled",tab:"原始布局"},{default:b((()=>[v(r,{"show-icon":!1,bordered:!1,title:"应用原始布局",type:"error"},{default:b((()=>a[76]||(a[76]=[M(" 开启后，将禁用任何系统规则干预，应用会根据自身的适配规则进行显示，大多数应用仅竖屏显示 ")]))),_:1,__:[76]}),v(I,{bordered:!1,title:"应用比例变化时是否重载应用",size:"small"},{default:b((()=>[v(c,{"rail-style":re,value:ge.value,"onUpdate:value":a[23]||(a[23]=e=>ge.value=e),size:"large"},{checked:b((()=>a[77]||(a[77]=[M("应用比例变化时重载应用")]))),unchecked:b((()=>a[78]||(a[78]=[M("应用比例变化时不重载应用")]))),_:1},8,["value"])])),_:1}),v(I,{bordered:!1,title:"平行窗口滑动条",size:"small"},{default:b((()=>[o("div",De,[v(d,{bordered:!1,type:"success"},{default:b((()=>a[79]||(a[79]=[M(" 适用于原生适配 "),o("span",{class:"font-bold"},"Android Embedded",-1),M(" 的应用 ")]))),_:1,__:[79]})]),v(c,{"rail-style":re,value:ve.value,"onUpdate:value":a[24]||(a[24]=e=>ve.value=e),size:"large"},{checked:b((()=>a[80]||(a[80]=[M("启用平行窗口滑动条")]))),unchecked:b((()=>a[81]||(a[81]=[M("关闭平行窗口滑动条")]))),_:1},8,["value"])])),_:1}),ve.value?(i(),k(I,{key:0,bordered:!1,title:"平行窗口可滑动至全屏",size:"small"},{default:b((()=>[o("div",Ve,[v(d,{bordered:!1,type:"success"},{default:b((()=>a[82]||(a[82]=[M(" 适用于原生适配 "),o("span",{class:"font-bold"},"Android Embedded",-1),M(" 的应用 ")]))),_:1,__:[82]})]),v(c,{"rail-style":re,value:B.value,"onUpdate:value":a[25]||(a[25]=e=>B.value=e),size:"large"},{checked:b((()=>a[83]||(a[83]=[M("平行窗口可滑动至全屏")]))),unchecked:b((()=>a[84]||(a[84]=[M("平行窗口不可滑动至全屏")]))),_:1},8,["value"])])),_:1})):S("",!0),y(A).MIOSVersion&&y(A).MIOSVersion>=2&&y(A).androidTargetSdk>=35?(i(),k(I,{key:1,class:"",bordered:!1,title:"第三方应用横屏优化",size:"small"},{default:b((()=>[o("div",Ee,[v(d,{bordered:!1,type:"success"},{default:b((()=>a[85]||(a[85]=[M(" 适用于即使设置了 "),o("span",{class:"font-bold"},"原始规则",-1),M(" 仍无法生效原始布局的应用 ")]))),_:1,__:[85]})]),v(c,{"rail-style":re,"onUpdate:value":a[26]||(a[26]=e=>le(e)),value:me.value,size:"large"},{checked:b((()=>a[86]||(a[86]=[M("已开启第三方应用横屏优化")]))),unchecked:b((()=>a[87]||(a[87]=[M("未开启第三方应用横屏优化")]))),_:1},8,["value"])])),_:1})):S("",!0)])),_:1})])),_:1},8,["value"])])),_:1},8,["title"])])),_:1},8,["show","width"])],64)}}}),ze={"com.vmos.pro":e=>{const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t});o.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>v("p",null,[M("经过多轮测试，")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("在大屏设备体验不佳，模块无法对其进行很好的适配，不推荐在大屏设备下使用")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("~")]),positiveText:"已了解该应用可能不兼容"})},"com.guozhigq.pilipala":e=>{const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t});o.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>v("p",null,[" ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("在大屏设备体验不佳，模块仅提供强制居中显示适配优化~")]),positiveText:"已了解该应用可能不兼容"})},"com.xiaomi.mitime":e=>{const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t});o.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>v("p",null,[" ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("在大屏设备体验不佳，模块仅提供强制居中显示适配优化~")]),positiveText:"已了解该应用可能不兼容"})},"com.unicom.woshipin":e=>{const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t});o.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>v("p",null,[" ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("在大屏设备体验不佳，极易触发应用异常崩溃，模块仅提供强制居中显示适配优化~")]),positiveText:"已了解该应用可能不兼容"})},"com.qiyi.video":e=>{const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t}),n="https://caiyun.139.com/m/i?135ClWdvL9xtB";o.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>v("div",null,[v("p",null,[" ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[M("爱奇艺PAD(com.qiyi.video.pad)")])," ",M("~")]),v("p",null,[M("下载地址:")]),v("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),O()},onNegativeClick:()=>{}})},"com.hunantv.imgo.activity":e=>{const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t}),n="https://caiyun.139.com/m/i?135CmUTZaefoj";o.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>v("div",null,[v("p",null,[" ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[M("芒果TV HD(com.imgo.pad)")])," ",M("~")]),v("p",null,[M("下载地址:")]),v("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),O()},onNegativeClick:()=>{}})},"com.taobao.idlefish":e=>{const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t});o.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>v("p",null,[" ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("在大屏设备体验不佳，模块无法对其进行很好的适配，模块更推荐在")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[M("居中布局")])," ",M("下使用")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("~")]),positiveText:"已了解该应用可能不兼容"})},"cn.cntv":e=>{const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t}),n="https://caiyun.139.com/m/i?135CmUTNrzYNh";o.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>v("div",null,[v("p",null,[" ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[M("央视影音 HD(cn.cntvhd)")])," ",M("~")]),v("p",null,[M("下载地址:")]),v("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),O()},onNegativeClick:()=>{}})},"com.sinyee.babybus.recommendapp":e=>{const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t}),n="https://caiyun.139.com/m/i?135ClqWyzHNVM";o.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>v("div",null,[v("p",null,[" ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[M("宝宝巴士 HD(com.bb.happykids)")])," ",M("~")]),v("p",null,[M("下载地址:")]),v("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),O()},onNegativeClick:()=>{}})},"com.ks.kaishustory":e=>{const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t}),n="https://caiyun.139.com/m/i?135Cmkd67YqaE";o.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>v("div",null,[v("p",null,[" ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[M("凯叔讲故事HD(com.ks.kaishustory.hd)")])," ",M("~")]),v("p",null,[M("下载地址:")]),v("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),O()},onNegativeClick:()=>{}})},"com.letv.android.client":e=>{const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t}),n="https://caiyun.139.com/m/i?135CmQkIsmiIY";o.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>v("div",null,[v("p",null,[" ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[M("乐视视频 Pad(ccom.letv.android.client.pad)")])," ",M("~")]),v("p",null,[M("下载地址:")]),v("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),O()},onNegativeClick:()=>{}})},"cn.vcinema.cinema":e=>{const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t}),n="https://caiyun.139.com/m/i?135ClmrX20IdL";o.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>v("div",null,[v("p",null,[" ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w("com.vcinema.cinema.pad","南瓜电影 HD")])," ",M("~")]),v("p",null,[M("下载地址:")]),v("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),O()},onNegativeClick:()=>{}})},"com.mdground.yizhida":e=>{const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t}),n="https://caiyun.139.com/m/i?135Ce3JW7jaOP";o.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>v("div",null,[v("p",null,[" ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w("com.mdground.yizhida.pad","医直达 Pad")])," ",M("~")]),v("p",null,[M("下载地址:")]),v("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),O()},onNegativeClick:()=>{}})},"com.wwzstaff.activity":e=>{const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t}),n="https://caiyun.139.com/m/i?135Clmlw6lnT6";o.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>v("div",null,[v("p",null,[" ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w("com.example.administrator.twocodedemo","客连连Pad端")])," ",M("~")]),v("p",null,[M("下载地址:")]),v("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),O()},onNegativeClick:()=>{}})},"uni.UNI1EB902E":e=>{const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t}),n="https://caiyun.139.com/m/i?135Cdj9ySaUf9";o.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>v("div",null,[v("p",null,[" ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w("com.kokoni.pad","KOKONI3D PAD")])," ",M("~")]),v("p",null,[M("下载地址:")]),v("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),O()},onNegativeClick:()=>{}})},"org.sojex.finance":e=>{const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t}),n="https://caiyun.139.com/m/i?135CmQYvJeeBr";o.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>v("div",null,[v("p",null,[" ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w("org.sojex.financehd","口袋贵金属 HD")])," ",M("~")]),v("p",null,[M("下载地址:")]),v("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),O()},onNegativeClick:()=>{}})},"com.zzvcom.uxin.yxgs":e=>{const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t}),n="https://caiyun.139.com/m/i?135ClSonIiovD";o.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>v("div",null,[v("p",null,[" ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w("com.zzvcom.uxinexpert.pad","优学高手PAD软件")])," ",M("~")]),v("p",null,[M("下载地址:")]),v("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),O()},onNegativeClick:()=>{}})},"com.cctv.yangshipin.app.androidp":e=>{const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t}),n="https://caiyun.139.com/m/i?135CdjETPAsIX";o.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>v("div",null,[v("p",null,[" ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w("cn.ysp.app.pad","央视频 HD")])," ",M("~")]),v("p",null,[M("下载地址:")]),v("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),O()},onNegativeClick:()=>{}})},"uni.UNI724DE05":e=>{const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t}),n="https://caiyun.139.com/m/i?135Ce3KZl34Fz";o.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>v("div",null,[v("p",null,[" ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w("plus.H5D021621","大桥化工 pad")])," ",M("~")]),v("p",null,[M("下载地址:")]),v("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),O()},onNegativeClick:()=>{}})},"com.shangkatong.merchant.app":e=>{const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t}),n="https://caiyun.139.com/m/i?135CdjIYZ6Pzq";o.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>v("div",null,[v("p",null,[" ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w("com.shangkatong.pro.pad","商卡通会员管理Pad")])," ",M("~")]),v("p",null,[M("下载地址:")]),v("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),O()},onNegativeClick:()=>{}})},"com.CDA.StructureMaster":e=>{const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t}),n="https://caiyun.139.com/m/i?135ClqS1uhW8p";o.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>v("div",null,[v("p",null,[" ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("在大屏体验下欠佳，在大屏设备下更推荐使用")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[M("结构大师 HD(com.CDAStudio.StructureMasterHD)")])," ",M("~")]),v("p",null,[M("下载地址:")]),v("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),O()},onNegativeClick:()=>{}})},"com.hujiang.cctalk":e=>{const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t}),n="https://caiyun.139.com/m/i?135Cm8YnuNKOg";o.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>v("div",null,[v("p",null,[" ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("由于自身存在错误的自适应声明，可能无法正常被系统反向适配平行窗口，如果无法正常展示平行窗口，请安装提供的修改版客户端。(Tips: 修改版客户端可能有被")," ",v("span",{class:""+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("封号的风险，不肯定，自行斟酌)")]),v("p",null,[M("下载地址:")]),v("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),O()},onNegativeClick:()=>{}})},"com.xianghu.organization":e=>{const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t}),n="https://caiyun.139.com/m/i?135Cmj9wYVCnM";o.create({title:"应用不兼容感知",type:"warning",preset:"dialog",content:()=>v("div",null,[v("p",null,[" ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("由于自身存在错误的自适应声明，可能无法正常被系统反向适配平行窗口，如果无法正常展示平行窗口，请安装提供的修改版客户端。(Tips: 修改版客户端可能有被")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("封号的风险，不肯定，自行斟酌)")]),v("p",null,[M("下载地址:")]),v("p",null,[n])]),positiveText:"复制下载链接到剪切板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(`${n}`),O()},onNegativeClick:()=>{}})}},Le={"com.coolapk.market":{isShow:()=>s().androidTargetSdk>33,onClick(e){const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t});o.create({title:"应用规则感知",type:"info",preset:"dialog",content(){const t=(e,a,t)=>T(Y,{type:a,size:"small",class:"my-3",block:!0,dashed:!0,onClick:t},e);return v("div",null,[v("p",null,[M("如果您希望")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("在所有界面全屏显示，且不会进入")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[M("平行窗口")])," ",M(",您可以将此自定义规则通过")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[M("[应用横屏布局-从分享口令导入]")])," ",M("进行导入~"),t&&t("获取全局横屏自定义规则","info",(()=>(()=>{const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t}),n={name:"com.coolapk.market",cmpt:a.MIOSVersion&&a.MIOSVersion>=2&&a.androidTargetSdk>=35?2:1,em:{name:"com.coolapk.market",...a.MIOSVersion&&a.MIOSVersion>=2&&a.androidTargetSdk>=35?{skipSelfAdaptive:!0}:void 0,splitPairRule:"com.coolapk.market.view.main.MainActivity:*",activityRule:"com.coolapk.market.view.main.MainActivity",transitionRules:"com.coolapk.market.view.main.MainActivity",clearTop:!1,splitMinWidth:1800},fo:{name:"com.coolapk.market",disable:!0,isShowDivider:!0,...a.MIOSVersion&&a.MIOSVersion>=2&&a.androidTargetSdk>=35?{skipSelfAdaptive:!0}:void 0,supportFullSize:!0},type:"embedded",device:"tablet"===a.deviceType?"pad":"fold",mode:"embedded",...a.MIOSVersion&&a.MIOSVersion>=2&&a.androidTargetSdk>=35?{thirdPartyAppOptimize:!1}:void 0},d=JSON.stringify(n),r=Q.deflate(d,{level:9,memLevel:9,windowBits:15}),p=new Uint8Array(r),u=ne(p);o.create({title:"获取自定义规则",type:"info",preset:"dialog",content(){const t=e=>T(Z,{code:e,class:"my-5 overflow-y-auto line-clamp-6",language:"Base64",wordWrap:!0});return v("div",null,[v("p",null,[M("使用此自定义规则会使")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("在所有界面全屏显示，且不会进入")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[M("平行窗口")])," ",M(",您可以将此自定义规则通过")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[M("[应用横屏布局-从分享口令导入]")])," ",M("进行导入~")]),t&&t(u)])},positiveText:"复制自定义规则到剪贴板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(u)},onNegativeClick:()=>{}})})())),"tablet"===a.deviceType&&a.MIOSVersion&&a.MIOSVersion>=2&&a.androidTargetSdk>=35&&v("div",null,[v("p",null,[M("模块还为")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("进行了更详尽的应用规则适配，您可以将此自定义规则通过")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[M("[应用横屏布局-从分享口令导入]")])," ",M("进行导入~")]),v("p",null,[M("Tips: 此规则需要搭配最新版的Hyper OS 2.0，老版本的 OS 2 可能由于小米BUG存在崩溃的问题。")]),v("p",null,[t&&t("获取精适配平行窗口自定义规则","info",(()=>(()=>{const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t}),n={name:"com.coolapk.market",cmpt:a.MIOSVersion&&a.MIOSVersion>=2&&a.androidTargetSdk>=35?2:1,em:{name:"com.coolapk.market",skipSelfAdaptive:!0,splitRatio:"tablet"===a.deviceType?.3:.5,splitPairRule:"com.coolapk.market.view.main.MainActivity:*,com.coolapk.market.view.userv9.UserSpaceV9Activity:*,com.coolapk.market.view.node.DynamicNodePageActivity:*,com.coolapk.market.view.search.SuperSearchResultActivity:*,com.coolapk.market.view.base.SimpleAlphaActivity:*,com.coolapk.market.view.feed.FeedDetailActivityV8:*,com.coolapk.market.view.appmanager.UpgradeManagerActivity:*,com.coolapk.market.view.feedv8.multiSubmit.MultiSubmitActivity:*,com.coolapk.market.view.appmanager.AppManagerActivity:*,com.coolapk.market.view.user.UserFeedListActivity:*,com.coolapk.market.view.contact.FriendListActivity:*,com.coolapk.market.view.contact.FansListActivity:*,com.coolapk.market.view.user.UserFollowAppActivity:*,com.coolapk.market.view.album.UserAlbumListActivity:*,com.coolapk.market.view.user.MyDigitTabListActivit:*,com.coolapk.market.view.goods.MyGoodsTabListActivity:*,com.coolapk.market.view.user.UserPictureListActivity:*,com.coolapk.market.view.dyhv8.DyhListActivity:*,com.coolapk.market.view.backupList.BackupListActivity:*,com.coolapk.market.view.message.ChattingActivity:*,com.coolapk.market.view.feed.FeedReplyDetailActivity:*,com.coolapk.market.view.feedv8.SubmitFeedV8Activity:*,com.coolapk.market.view.notification.NotificationActivity:*,com.coolapk.market.view.feed.ReplyActivity:*",activityRule:"com.coolapk.market.view.main.MainActivity,com.coolapk.market.view.wallpaper.coolpic.CoolPicDetailActivity,com.coolapk.market.view.appmanager.UpgradeManagerActivity,com.coolapk.market.view.feedv8.multiSubmit.MultiSubmitActivity,com.coolapk.market.view.feed.ReplyActivity,com.coolapk.market.view.splash.SplashActivity,com.coolapk.market.view.splash.FullScreenAdActivity,com.coolapk.market.view.video.VideoDetailListActivity,com.coolapk.market.view.feedv8.FeedEntranceV8Activity,com.coolapk.market.view.photo.QRCodeActivity,com.coolapk.market.view.feedv8.SubmitFeedV8Activity,com.coolapk.market.view.feedv8.QuestionTitleActivity,com.coolapk.market.view.goodsList.CreateFunThingsActivity,com.coolapk.market.view.permission.PrivacyActivity,com.coolapk.market.view.webview.LoginActivity,com.coolapk.market.view.live.LiveActivity,com.coolapk.market.view.message.ChattingActivity,com.coolapk.market.view.feed.FeedReplyDetailActivity,com.coolapk.market.view.feed.ForwardEntityActivity",transitionRules:"com.coolapk.market.view.main.MainActivity,com.coolapk.market.view.feedv8.multiSubmit.MultiSubmitActivity,com.coolapk.market.view.feedv8.SubmitFeedV8Activity,com.coolapk.market.view.message.ChattingActivity,com.coolapk.market.view.feed.ReplyActivity,com.coolapk.market.view.feed.FeedReplyDetailActivity",isShowDivider:!0,supportFullSize:!0,flags:"reusePreContainer:com.coolapk.market.view.photo.PhotoViewActivity,com.coolapk.market.view.collectionList.CollectionSelectActivity;",..."tablet"===a.deviceType?{splitMinWidth:900}:void 0},..."tablet"===a.deviceType?{fo:{name:"com.coolapk.market",isShowDivider:!0,disable:!0,supportFullSize:!0,...a.MIOSVersion&&a.MIOSVersion>=2&&a.androidTargetSdk>=35?{skipSelfAdaptive:!0}:void 0}}:void 0,type:"embedded",device:"tablet"===a.deviceType?"pad":"fold",mode:"embedded",...a.MIOSVersion&&a.MIOSVersion>=2&&a.androidTargetSdk>=35?{thirdPartyAppOptimize:!1}:void 0},d=JSON.stringify(n),r=Q.deflate(d,{level:9,memLevel:9,windowBits:15}),p=new Uint8Array(r),u=ne(p);o.create({title:"获取自定义规则",type:"info",preset:"dialog",content:()=>v("div",null,[v("p",null,[M("模块已为")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("提供了更详尽的平行窗口自定义规则，您可以将此自定义规则通过")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[M("[应用横屏布局-从分享口令导入]")])," ",M("进行导入~")]),v("p",null,[M("Tips: 此规则需要搭配最新版的Hyper OS 2.0，老版本的 OS 2 可能由于小米BUG存在崩溃的问题。")])]),positiveText:"复制自定义规则到剪贴板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(u)},onNegativeClick:()=>{}})})()))])])])])},positiveText:"关闭",onPositiveClick:()=>{}})}},"com.bilibili.app.in":{isShow:()=>(s(),!0),onClick(e){const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t}),n={name:"com.bilibili.app.in",cmpt:a.MIOSVersion&&a.MIOSVersion>=2&&a.androidTargetSdk>=35?2:1,em:{name:"com.bilibili.app.in",disableSensor:!0,splitLineColor:"#FFFFFF:#17181A",isShowDivider:!0,supportFullSize:!0,...a.MIOSVersion&&a.MIOSVersion>=2&&a.androidTargetSdk>=35?{skipSelfAdaptive:!0}:void 0,splitRatio:"tablet"===a.deviceType?.4:.5,placeholder:"tv.danmaku.bili.MainActivityV2:com.bilibili.search.main.BiliMainSearchActivity",splitPairRule:"tv.danmaku.bili.MainActivityV2:*,com.bilibili.search.main.BiliMainSearchActivity:*,com.bilibili.bplus.followinglist.quick.consume.QuickConsumeActivity:*,tv.danmaku.bili.ui.videodownload.VideoDownloadListActivity:*,com.bilibili.lib.ui.GeneralActivity:*,tv.danmaku.bili.ui.favorite.FavoriteBoxActivity:*,tv.danmaku.bili.ui.main2.WatchLaterActivity:*,com.bilibili.lib.ui.GeneralActivity:*,com.bilibili.app.preferences.BiliPreferencesActivity:*,com.bilibili.app.authorspace.ui.AuthorSpaceActivity:*,com.bilibili.search2.main.BiliMainSearchActivity:*",activityRule:"com.bilibili.column.ui.detail.image.ColumnImageViewerActivity,com.bilibili.studio.centerplus.ui.CenterPlusMainActivity,com.bilibili.lib.imageviewer.MediaViewerActivity,com.bilibili.socialize.share.core.ui.BiliShareDelegateActivity,com.bilibili.socialize.share.core.ui.QQAssistActivity,com.tencent.connect.common.AssistActivity,com.bilibili.upper.module.archive.activity.ArchiveTempActivity,com.bilibili.video.story.StoryTransparentActivity",transitionRules:"com.bilibili.lib.imageviewer.MediaViewerActivity,tv.danmaku.bili.sms.SmsLoginDialogActivityV2,com.bilibili.teenagersmode.ui.TeenagersModeDialogActivity,tv.danmaku.bili.ui.answer.AnswerDialogTransferActivity,com.bilibili.bilibililive.ui.room.modresource.BlinkModResourceLoadingActivity,com.bilibili.bilibililive.ui.room.BlinkRoomActivityV2,com.bilibili.lib.fasthybrid.blrouter.SADispatcherActivity,com.bilibili.lib.fasthybrid.container.GameContainerActivity0",flags:"reusePreContainer:com.bilibili.bplus.followinglist.page.browser.ui.LightBrowserActivityV2;",forcePortraitActivity:"com.bilibili.app.blue/com.bilibili.app.preferences.storage.BiliStorageManagerActivity"},..."tablet"===a.deviceType?{fo:{name:"com.bilibili.app.in",...a.MIOSVersion&&a.MIOSVersion>=2&&a.androidTargetSdk>=35?{skipSelfAdaptive:!0,supportModes:"full,fo"}:void 0}}:void 0,type:"embedded",device:"tablet"===a.deviceType?"pad":"fold",mode:"embedded",...a.MIOSVersion&&a.MIOSVersion>=2&&a.androidTargetSdk>=35?{thirdPartyAppOptimize:!1}:void 0},d=JSON.stringify(n),r=Q.deflate(d,{level:9,memLevel:9,windowBits:15}),p=new Uint8Array(r),u=ne(p);o.create({title:"应用规则感知",type:"info",preset:"dialog",content(){const t=e=>T(Z,{code:e,class:"my-5 overflow-y-auto line-clamp-6",language:"Base64",wordWrap:!0});return v("div",null,[v("p",null,[M("部分版本的")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("可能需要单独的规则才能正常触发应用冷启动分屏，您可以将此自定义规则通过")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[M("[应用横屏布局-从分享口令导入]")])," ",M("进行导入~")]),t&&t(u)])},positiveText:"复制自定义规则到剪贴板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(u)},onNegativeClick:()=>{}})}},"com.bilibili.app.blue":{isShow:()=>(s(),!0),onClick(e){const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t}),n={name:"com.bilibili.app.blue",cmpt:a.MIOSVersion&&a.MIOSVersion>=2&&a.androidTargetSdk>=35?2:1,em:{name:"com.bilibili.app.blue",disableSensor:!0,splitLineColor:"#FFFFFF:#17181A",...a.MIOSVersion&&a.MIOSVersion>=2&&a.androidTargetSdk>=35?{skipSelfAdaptive:!0}:void 0,splitRatio:"tablet"===a.deviceType?.4:.5,isShowDivider:!0,supportFullSize:!0,splitPairRule:"tv.danmaku.bili.MainActivityV2:*,com.bilibili.search.main.BiliMainSearchActivity:*,com.bilibili.bplus.followinglist.quick.consume.QuickConsumeActivity:*,tv.danmaku.bili.ui.videodownload.VideoDownloadListActivity:*,com.bilibili.lib.ui.GeneralActivity:*,tv.danmaku.bili.ui.favorite.FavoriteBoxActivity:*,tv.danmaku.bili.ui.main2.WatchLaterActivity:*,com.bilibili.lib.ui.GeneralActivity:*,com.bilibili.app.preferences.BiliPreferencesActivity:*,com.bilibili.app.authorspace.ui.AuthorSpaceActivity:*,com.bilibili.search2.main.BiliMainSearchActivity:*",activityRule:"tv.danmaku.bili.MainActivityV2,com.bilibili.column.ui.detail.image.ColumnImageViewerActivity,com.bilibili.studio.centerplus.ui.CenterPlusMainActivity,com.bilibili.lib.imageviewer.MediaViewerActivity,com.bilibili.socialize.share.core.ui.BiliShareDelegateActivity,com.bilibili.socialize.share.core.ui.QQAssistActivity,com.tencent.connect.common.AssistActivity,com.bilibili.upper.module.archive.activity.ArchiveTempActivity",transitionRules:"tv.danmaku.bili.MainActivityV2,tv.danmaku.bili.sms.SmsLoginDialogActivityV2,com.bilibili.teenagersmode.ui.TeenagersModeDialogActivity,tv.danmaku.bili.ui.answer.AnswerDialogTransferActivity,com.bilibili.bilibililive.ui.room.modresource.BlinkModResourceLoadingActivity,com.bilibili.bilibililive.ui.room.BlinkRoomActivityV2,com.bilibili.lib.fasthybrid.blrouter.SADispatcherActivity,com.bilibili.lib.fasthybrid.container.GameContainerActivity0",flags:"reusePreContainer:com.bilibili.bplus.followinglist.page.browser.ui.LightBrowserActivityV2",forcePortraitActivity:"tv.danmaku.bili/com.bilibili.app.preferences.storage.BiliStorageManagerActivity"},..."tablet"===a.deviceType?{fo:{name:"com.bilibili.app.blue",...a.MIOSVersion&&a.MIOSVersion>=2&&a.androidTargetSdk>=35?{skipSelfAdaptive:!0,supportModes:"full,fo"}:void 0}}:void 0,type:"embedded",device:"tablet"===a.deviceType?"pad":"fold",mode:"embedded",...a.MIOSVersion&&a.MIOSVersion>=2&&a.androidTargetSdk>=35?{thirdPartyAppOptimize:!1}:void 0},d=JSON.stringify(n),r=Q.deflate(d,{level:9,memLevel:9,windowBits:15}),p=new Uint8Array(r),u=ne(p);o.create({title:"应用规则感知",type:"info",preset:"dialog",content(){const t=e=>T(Z,{code:e,class:"my-5 overflow-y-auto line-clamp-6",language:"Base64",wordWrap:!0});return v("div",null,[v("p",null,[M("小米已为")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("适配了应用布局优化，您可以将此自定义规则通过")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[M("[应用横屏布局-从分享口令导入]")])," ",M("进行导入并开启")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("在")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[M("应用布局优化")])," ",M("的开关，即可体验~")]),v("p",null,[M("Tips: 此规则需要搭配最新版的Hyper OS 2.0，老版本的 OS 2 可能由于小米BUG存在较为严重的内存泄露问题，会导致系统越来越卡顿。")]),t&&t(u)])},positiveText:"复制自定义规则到剪贴板",negativeText:"取消",onPositiveClick:()=>{navigator.clipboard.writeText(u)},onNegativeClick:()=>{}})}},"com.hexin.plat.android":{isShow:()=>(s(),!0),onClick(e){const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t});o.create({title:"应用规则感知",type:"info",preset:"dialog",content:()=>v("div",null,[v("p",null,[" ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("已自适配 Android 原生的平行视界，您可以前往")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("的")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[M("系统设置")])," ",M("通过")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[M("开启平行视窗模式")])," ",M("开关控制应用")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[M("全屏显示")])," ",M("还是")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[M("平行窗口")])," ",M("~")])]),positiveText:"确定"})}},"com.douban.frodo":{isShow:()=>(s(),!0),onClick(e){const a=s(),t=c((()=>({theme:a.isDarkMode?$:G}))),{message:i,modal:o,notification:l}=q(["message","modal","notification"],{configProviderProps:t});o.create({title:"应用规则感知",type:"info",preset:"dialog",content:()=>v("div",null,[v("p",null,[" ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("已自适配 Android 原生的平行视界，您可以前往")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("的")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[M("设置")])," ",M("通过")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[M("双屏模式")])," ",M("开关控制应用")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[M("全屏显示")])," ",M("还是")," ",v("span",{class:"font-bold "+(a.isDarkMode?"text-teal-400":"text-gray-600")},[M("平行窗口")])," ",M("~")])]),positiveText:"确定"})}}},Fe={class:"mb-10"},Ue={class:"mt-3"},Be={class:"mb-3 px-4 sm:px-0"},Qe={class:"flex flex-wrap"},je={class:"flex flex-wrap"},We={class:"flex"},$e=l({__name:"EmbeddedActivityView",setup(l){const m=J(),g=n("");j(),K();const f=X(),O=s(),H=d(),Z=ee(),he=r(),Oe=ae(),we=n(!1),Te=n(!1),Ae=n(null),Pe=n(null),Ie=n(null),Ce=c((()=>({theme:O.isDarkMode?$:G}))),{message:_e,modal:Re,notification:De}=q(["message","modal","notification"],{configProviderProps:Ce}),Ve=[{title:"应用名称",minWidth:250,key:"name",render(e,a){var t;const i=new Set(O.installedAndroidApplicationPackageNameList);return v("div",null,[v("div",{class:"flex"},[i.has(e.name)&&v("img",{class:"mr-1 w-[28px] h-[28px] rounded-full object-cover",src:`ksu://icon/${e.name}`,onError:e=>{e.currentTarget.style.display="none"}},null),O.canUsePackageInfoApi&&e.name&&v("p",{class:"mt-1"},[z(e.name)]),!O.canUsePackageInfoApi&&e.applicationName&&v("p",{class:"mt-1"},[e.applicationName])]),e.name&&v("p",null,[v("span",null,[M("(")]),e.name,v("span",null,[M(")")])]),m.allPackageName.has(e.name)&&v(p("n-button"),{class:"mr-1 mt-1",size:"tiny",ghost:!0,type:"success",onClick:()=>(e=>{Re.create({title:"应用布局优化说明",type:"success",preset:"dialog",content:()=>v("p",null,[" ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("已存在应用布局优化的规则，规则仅在应用横屏冷启动全屏场景下才会生效，如果规则未生效，请检查应用布局优化规则是否")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[M("启用")])," ",M("，并建议将应用的横屏配置修改为")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[M("全屏")]),M("，规则效果以应用个体差异而异，建议多多尝试。")])})})(e)},{default:()=>[M("应用布局优化")]}),ze[e.name]&&v(p("n-button"),{class:"mr-1 mt-1",size:"tiny",ghost:!0,type:"warning",onClick:()=>ze[e.name]&&ze[e.name](e)},{default:()=>[M("应用不兼容感知")]}),Le[e.name]&&Le[e.name].isShow&&Le[e.name].isShow()&&v(p("n-button"),{class:"mr-1 mt-1",size:"tiny",ghost:!0,type:"info",onClick:()=>Le[e.name]&&Le[e.name].onClick&&Le[e.name].onClick(e)},{default:()=>[M("应用规则感知")]}),0===(null==(t=e.embeddedRules)?void 0:t.splitMinWidth)&&"embedded"===e.settingMode&&"custom"===e.ruleMode&&v(p("n-button"),{class:"mr-1 mt-1",size:"tiny",ghost:!0,type:"error",onClick:()=>{Re.create({title:"竖屏平行窗口",type:"info",preset:"dialog",content:()=>v("p",null,[M("您已配置")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("强制竖屏平行窗口模式，具体是否生效因应用而异，开启后可能导致部分应用显示异常或者崩溃，如需恢复，则需要先清除自定义规则。")]),positiveText:"确定"})}},{default:()=>[M("竖屏平行窗口")]})])}},{title:"规则来源",minWidth:100,key:"ruleMode",render(e,a){const t=e.isSupportSystemEmbedded&&"embedded"===e.settingMode,i={icon:"custom"===e.ruleMode||t?me:ge};if("custom"===e.ruleMode){const a=()=>{const e=[{label:"分享自定义规则",key:"shareCustomRule",icon:Ge(v("svg",{class:"icon","aria-hidden":"true"},[v("use",{"xlink:href":"#icon-fenxiang"},null)]),20)},{label:"清除自定义规则",key:"cleanCustomRule",icon:Ge(v("svg",{class:"icon","aria-hidden":"true"},[v("use",{"xlink:href":"#icon-qingchu"},null)]),20)}];return t&&e.unshift({label:"切换为系统规则",key:"switchToSystemEmbedded",icon:Ge(v("svg",{class:"icon","aria-hidden":"true"},[v("use",{"xlink:href":"#icon-chushihua"},null)]),20)}),e};return v(p("n-dropdown"),{onSelect:(a,t)=>(async(e,a,t)=>{if("switchToSystemEmbedded"===e&&Xe(t),"cleanCustomRule"===e){const e=Re.create({title:"想清除自定义规则吗？",type:"warning",preset:"dialog",content:()=>v("p",null,[M("清除自定义规则后，你对")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[w(t.name,t.applicationName)])," ",M("所做的所有自定义配置将丢失，如果该应用同时还存在")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[M("模块规则")])," ",M("，将会还原回模块自身的适配规则。确定要继续吗？")]),positiveText:"确定清除",negativeText:"我再想想",onPositiveClick:async()=>{e.loading=!0,t.name in H.customConfigEmbeddedRulesList&&delete H.customConfigEmbeddedRulesList[t.name],t.name in H.customConfigFixedOrientationList&&delete H.customConfigFixedOrientationList[t.name],t.name in H.customConfigEmbeddedSettingConfig&&delete H.customConfigEmbeddedSettingConfig[t.name],t.name in H.customThirdPartyAppOptimizeConfig&&delete H.customThirdPartyAppOptimizeConfig[t.name];const[a,i]=await h(E({...O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?{setAppMode:{name:t.name,action:D(B(H.isPatchMode?H.patchEmbeddedRulesList[t.name]:H.sourceEmbeddedRulesList[t.name],H.isPatchMode?H.patchFixedOrientationList[t.name]:H.sourceFixedOrientationList[t.name]))}}:{switchAction:{name:t.name,action:(H.isPatchMode?H.patchEmbeddedRulesList[t.name]:H.sourceEmbeddedRulesList[t.name])?"enable":"disable"}}}));a?(Re.create({title:"清除自定义规则失败",type:"error",preset:"dialog",content:()=>v("p",null,[M("发生异常错误，更新失败了QwQ，详细错误请查看错误日志~")])}),e.loading=!1):(Re.create({title:"清除自定义规则成功",type:"success",preset:"dialog",content:()=>v("p",null,[M("好耶w，清除自定义规则成功了OwO~如果应用更新后的规则不生效，可以尝试重启"),"tablet"===O.deviceType?"平板":"手机",M("再试试~")])}),e.loading=!1,H.updateMergeRuleList())}})}if("shareCustomRule"===e){const e={name:t.name,cmpt:O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?2:1,em:{name:t.name,...t.embeddedRules},fo:{name:t.name,...t.fixedOrientationRule},type:"embedded",device:"tablet"===O.deviceType?"pad":"fold",mode:t.settingMode,...O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?{thirdPartyAppOptimize:t.thirdPartyAppOptimize}:void 0},a=JSON.stringify(e),i=Q.deflate(a,{level:9,memLevel:9,windowBits:15}),o=new Uint8Array(i),l=ne(o),[n]=await h(navigator.clipboard.writeText(`我分享了一个[应用横屏布局]的自定义规则，可以前往[完美横屏应用计划 For Web UI]导入：\n${l}`));if(n)return void Re.create({title:"复制分享口令失败",type:"error",preset:"dialog",content:()=>v("p",null,[M("复制")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[w(t.name,t.applicationName)])," ",M("的分享口令失败了QwQ，可能由于没有读取/写入剪切板的权限或")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[M("自定义规则")])," ",M("长度过大。")]),positiveText:"确定"});Re.create({title:"复制分享口令成功",type:"success",preset:"dialog",content:()=>v("div",null,[v("p",null,[M("好耶w，复制")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[w(t.name,t.applicationName)])," ",M("分享口令成功了~")]),v("p",null,[M("如果没有复制成功，请确认是否给予了读取/写入剪切板的权限或")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[M("自定义规则")])," ",M("长度过大。")]),v("p",null,[M("分享口令导入入口位于")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[M("应用横屏布局- 从分享口令导入")])," ",M("。")])]),positiveText:"确定"})}})(a,0,e),size:"large",trigger:"click",options:a()},{default:()=>[v(p("n-button"),{size:"small",dashed:!0,type:"info"},{default:()=>[M("自定义规则")],...i})]})}if(t){const t=[{label:"模块规则说明",key:"moduleRuleModeExplain",icon:Ge(v("svg",{class:"icon","aria-hidden":"true"},[v("use",{"xlink:href":"#icon-shuoming1"},null)]),20)},{label:"切换为系统规则",key:"switchToSystemEmbedded",icon:Ge(v("svg",{class:"icon","aria-hidden":"true"},[v("use",{"xlink:href":"#icon-chushihua"},null)]),20)}];return v(p("n-dropdown"),{onSelect:(t,i)=>(async(e,a,t,i)=>{"moduleRuleModeExplain"===e&&Ke(t,i,!0),"switchToSystemEmbedded"===e&&Xe(t)})(t,0,e,a),size:"large",trigger:"click",options:t},{default:()=>[v(p("n-button"),{size:"small",dashed:!0,type:"error"},{default:()=>[M("模块规则")],...i})]})}return v(p("n-button"),{size:"small",dashed:!0,type:"error",onClick:()=>Ke(e)},{default:()=>[M("模块规则")],...i})}},{title:"规则修复",minWidth:100,key:"setting",render(e,a){const t={icon:xe};return v("div",null,[v(p("n-button"),{size:"small",dashed:!0,type:"warning",onClick:()=>{return a=e,void Re.create({title:"想修复应用规则吗？",type:"warning",preset:"dialog",content:()=>v("p",null,[M("由于系统BUG，部分情况下会导致应用当前适配与实际不符，模块可以主动修复")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[w(a.name,a.applicationName)])," ",M("由于系统错误的兼容性配置导致应用布局异常的问题，确定要继续吗？")]),positiveText:"确定修复",negativeText:"我再想想",onPositiveClick:async()=>{const[e,t]=await h(L(a.name));if(e)Re.create({title:"修复应用规则失败",type:"error",preset:"dialog",content:()=>v("p",null,[M("发生异常错误，修复应用规则失败了QwQ，详细错误请查看错误日志~")])});else{if(O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35){const[e,t]=await h(F(a.name,D(a.settingMode)));e&&(he.error("SetAppModeErr",e),Re.create({title:"修复应用规则失败",type:"error",preset:"dialog",content:()=>v("p",null,[M("发生异常错误，修复应用规则失败了QwQ，详细错误请查看错误日志~")])}))}else{const[e,t]=await h(U(a.name,["embedded","fullScreen"].includes(a.settingMode)?"enable":"disable"));e&&(he.error("SwitchActionErr",e),Re.create({title:"修复应用规则失败",type:"error",preset:"dialog",content:()=>v("p",null,[M("发生异常错误，修复应用规则失败了QwQ，详细错误请查看错误日志~")])}))}Re.create({title:"修复应用规则成功",type:"success",preset:"dialog",content:()=>v("p",null,[M("好耶w，修复")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[w(a.name,a.applicationName)])," ",M("的应用规则成功了OwO~")])})}}});var a}},{default:()=>[M("规则修复")],...t})])}},{title:"当前规则",minWidth:100,key:"settingMode",render(e,a){const t={icon:Se},i={embedded:{type:"success",name:"平行窗口",onClick(e,a){"tablet"===O.deviceType?Je(e):Re.create({title:"折叠屏设备使用说明",type:"warning",preset:"dialog",content:()=>v("p",null,[M("折叠屏设备请前往[系统设置-折叠屏专区-应用显示布局]进行应用布局修改~")])})}},fullScreen:{type:"info",name:"全屏",onClick(e,a){"tablet"===O.deviceType?Je(e):Re.create({title:"折叠屏设备使用说明",type:"warning",preset:"dialog",content:()=>v("p",null,[M("折叠屏设备请前往[系统设置-折叠屏专区-应用显示布局]进行应用布局修改~")])})}},fixedOrientation:{type:"warning",name:"居中布局",onClick(e,a){"tablet"===O.deviceType?Je(e):Re.create({title:"折叠屏设备使用说明",type:"warning",preset:"dialog",content:()=>v("p",null,[M("折叠屏设备请前往[系统设置-折叠屏专区-应用显示布局]进行应用布局修改~")])})}},disabled:{type:"error",name:"原始布局",onClick(e,a){"tablet"===O.deviceType?Je(e):Re.create({title:"折叠屏设备使用说明",type:"warning",preset:"dialog",content:()=>v("p",null,[M("折叠屏设备请前往[系统设置-折叠屏专区-应用显示布局]进行应用布局修改~")])})}}};return v(p("n-button"),{size:"small",strong:!0,dashed:!0,type:i[e.settingMode].type,onClick:()=>i[e.settingMode].onClick(e,a)},{default:()=>[i[e.settingMode].name],...t})}}],Ee=n(!1),$e=n(null);function Ge(e,a){return()=>T(te,{size:a},{default:()=>T(e)})}const qe=()=>{H.filterInstalledApps=!H.filterInstalledApps};A((()=>H.isNeedShowErrorModal),((e,a)=>{e&&(Ee.value=!0)}),{immediate:!1});const He=async()=>{await O.getAndroidApplicationPackageNameList(),await H.initDefault()};P((()=>{d()}));const Ze=I({page:1,pageSize:10,simple:!0,showSizePicker:!0,onChange:e=>{Ze.page=e},onUpdatePageSize:e=>{Ze.pageSize=e,Ze.page=1}}),Ye=async()=>{if("tablet"!==O.deviceType)return Re.create({title:"不兼容说明",type:"warning",preset:"dialog",content:()=>v("p",null,[M("该功能仅兼容平板设备，暂时不兼容折叠屏设备，请等待后续更新情况！")])}),void he.info("应用横屏布局-添加应用","该功能仅兼容平板设备，暂时不兼容折叠屏设备，请等待后续更新情况！");if(Pe.value){const[e,a]=await h(Pe.value.openDrawer());if(e)console.log("操作取消:",e);else{if(O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35&&(a.thirdPartyAppOptimize?H.customThirdPartyAppOptimizeConfig[a.name]=D(a.settingMode):a.name in H.sourceThirdPartyAppOptimizeConfig&&H.sourceThirdPartyAppOptimizeConfig[a.name]>-1?H.customThirdPartyAppOptimizeConfig[a.name]=-1:delete H.customThirdPartyAppOptimizeConfig[a.name]),"fullScreen"===a.settingMode&&(a.modePayload.fullRule&&(H.customConfigEmbeddedRulesList[a.name]={name:a.name,fullRule:a.modePayload.fullRule,...O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?{skipSelfAdaptive:!0}:{}}),H.customConfigFixedOrientationList[a.name]={name:a.name,...a.modePayload.isShowDivider?{isShowDivider:!0}:{},...a.modePayload.skipSelfAdaptive&&(!O.MIOSVersion||O.MIOSVersion<2||O.androidTargetSdk<35)?{disable:!0}:{},...a.modePayload.supportFullSize?{supportFullSize:!0}:{},...O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?{supportModes:"full,fo"}:{},...O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?{defaultSettings:"full"}:{},...O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35&&a.modePayload.fullDisablecompatChange?{compatChange:"DISABLED:OVERRIDE_UNDEFINED_ORIENTATION_TO_PORTRAIT"}:{},...O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?{skipSelfAdaptive:!0}:{}}),"fixedOrientation"===a.settingMode){const e=new Set([]);a.modePayload.forceFixedOrientation&&e.add("OVERRIDE_UNDEFINED_ORIENTATION_TO_PORTRAIT"),a.modePayload.forceAnyOrientation&&e.add("OVERRIDE_ANY_ORIENTATION"),a.modePayload.minAspectRatioCompatChange&&(e.delete("OVERRIDE_MIN_ASPECT_RATIO_MEDIUM"),e.delete("OVERRIDE_MIN_ASPECT_RATIO_LARGE"),e.add("OVERRIDE_MIN_ASPECT_RATIO"),e.add("OVERRIDE_MIN_ASPECT_RATIO_EXCLUDE_PORTRAIT_FULLSCREEN"),e.add(a.modePayload.minAspectRatioCompatChange));const t=Array.from(e).join(",");H.customConfigFixedOrientationList[a.name]={name:a.name,...O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?{supportModes:"full,fo"}:{},...O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?{defaultSettings:"fo"}:{},...O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?{skipSelfAdaptive:!0}:{},...void 0!==a.modePayload.ratio&&O.androidTargetSdk<=35?{ratio:a.modePayload.ratio}:{},...t?{compatChange:t}:{},...void 0!==a.modePayload.foRelaunch?{relaunch:a.modePayload.foRelaunch}:{}}}"disabled"===a.settingMode&&(H.customConfigFixedOrientationList[a.name]={name:a.name,disable:!0,...O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?{skipSelfAdaptive:!0}:{},...void 0!==a.modePayload.foRelaunch?{relaunch:a.modePayload.foRelaunch}:{},...a.modePayload.supportFullSize?{supportFullSize:!0}:{},...a.modePayload.isShowDivider?{isShowDivider:!0}:{}}),O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?H.customConfigEmbeddedSettingConfig[a.name]={name:a.name,...V(H.customConfigEmbeddedRulesList[a.name],H.customConfigFixedOrientationList[a.name],a.settingMode)}:H.systemEmbeddedSettingConfig[a.name]={name:a.name,embeddedEnable:!!["embedded","fullScreen"].includes(a.settingMode)};const[e,t]=await h(E({...O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?{setAppMode:{name:a.name,action:D(a.settingMode)}}:{switchAction:{name:a.name,action:["embedded","fullScreen"].includes(a.settingMode)?"enable":"disable"}}}));e?(Re.create({title:"应用添加失败",type:"error",preset:"dialog",content:()=>v("p",null,[M("发生异常错误，更新失败了QwQ，详细错误请查看错误日志~")])}),a.loadingCallback&&a.loadingCallback()):(Re.create({title:"应用添加成功",type:"success",preset:"dialog",content:()=>O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?v("p",null,[M("好耶w，")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[w(a.name,O.installedAppNameList[a.name]||H.applicationName[a.name])])," ",M("的应用配置添加成功了OwO~如果应用添加后的规则不生效，可以尝试重启平板再做尝试~")]):v("p",null,[M("好耶w，")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[w(a.name,O.installedAppNameList[a.name]||H.applicationName[a.name])])," ",M("的应用配置添加成功了OwO~如果应用添加后的规则不生效，可以尝试重启平板并且在")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[M("平板专区-平行窗口")])," ",M("内")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[["embedded","fullScreen"].includes(a.settingMode)?"打开":"关闭"])," ",M("该应用的开关再做尝试~")])}),H.updateMergeRuleList(),a.loadingCallback&&a.loadingCallback(),a.closeCallback&&a.closeCallback())}}},Je=async(e,a)=>{var t;if("tablet"!==O.deviceType)return Re.create({title:"不兼容说明",type:"warning",preset:"dialog",content:()=>v("p",null,[M("该功能仅兼容平板设备，暂时不兼容折叠屏设备，请等待后续更新情况！")])}),void he.info("应用横屏布局-添加应用","该功能仅兼容平板设备，暂时不兼容折叠屏设备，请等待后续更新情况！");if(!H.systemAppOptimizeConfig[e.name]||!O.MIOSVersion||2!==O.MIOSVersion||35!==O.androidTargetSdk||O.isDisabledOS2SystemAppOptimize||O.projectTrebleSupportMagicWindowFix){if(ze[e.name]&&ze[e.name]&&ze[e.name](e),Ie.value){const[a,i]=await h(Ie.value.openDrawer(e));if(a)console.log("操作取消:",a);else{if(O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35&&(i.thirdPartyAppOptimize?H.customThirdPartyAppOptimizeConfig[i.name]=D(i.settingMode):i.name in H.sourceThirdPartyAppOptimizeConfig&&H.sourceThirdPartyAppOptimizeConfig[i.name]>-1?H.customThirdPartyAppOptimizeConfig[i.name]=-1:delete H.customThirdPartyAppOptimizeConfig[i.name]),"fullScreen"===i.settingMode){const{moduleEmbeddedRules:a,currentEmbeddedRules:t,moduleFixedOrientation:o,currentFixedOrientation:l}=le(e.name);if(t.value?(i.modePayload.fullRule&&(t.value.fullRule=i.modePayload.fullRule,t.value.skipSelfAdaptive=!0),O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35&&!i.modePayload.fullRule&&t.value.fullRule&&delete t.value.fullRule,ke(a.value,t.value)||(H.customConfigEmbeddedRulesList[e.name]={name:e.name,...t.value})):i.modePayload.fullRule?H.customConfigEmbeddedRulesList[e.name]={name:e.name,fullRule:i.modePayload.fullRule,...O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?{skipSelfAdaptive:!0}:{}}:O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35&&(H.customConfigEmbeddedRulesList[e.name]={name:e.name,skipSelfAdaptive:!0}),l.value){if(i.modePayload.hasOwnProperty("isShowDivider")&&(l.value.isShowDivider=i.modePayload.isShowDivider),i.modePayload.hasOwnProperty("supportFullSize")&&(l.value.supportFullSize=i.modePayload.supportFullSize),O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35){l.value.hasOwnProperty("disable")&&delete l.value.disable;l.value.hasOwnProperty("compatChange")&&delete l.value.compatChange;i.modePayload.fullDisablecompatChange&&(l.value.compatChange="DISABLED:OVERRIDE_UNDEFINED_ORIENTATION_TO_PORTRAIT"),l.value.supportModes="full,fo",l.value.defaultSettings="full"}else i.modePayload.hasOwnProperty("skipSelfAdaptive")&&(l.value.disable=i.modePayload.skipSelfAdaptive);ke(o.value,l.value)||(H.customConfigFixedOrientationList[e.name]={name:e.name,...l.value})}else H.customConfigFixedOrientationList[e.name]={name:e.name,...i.modePayload.isShowDivider?{isShowDivider:!0}:{},...i.modePayload.skipSelfAdaptive&&(!O.MIOSVersion||O.MIOSVersion&&O.MIOSVersion<2||O.androidTargetSdk<35)?{disable:!0}:{},...i.modePayload.supportFullSize?{supportFullSize:!0}:{},...O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35&&i.modePayload.fullDisablecompatChange?{compatChange:"DISABLED:OVERRIDE_UNDEFINED_ORIENTATION_TO_PORTRAIT"}:{},...O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?{supportModes:"full,fo"}:{},...O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?{defaultSettings:"full"}:{},...O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?{skipSelfAdaptive:!0}:{}}}if("fixedOrientation"===i.settingMode){const{moduleEmbeddedRules:a,currentEmbeddedRules:o,moduleFixedOrientation:l,currentFixedOrientation:n}=le(e.name);if(o.value){if(O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35){o.value.hasOwnProperty("fullRule")&&(delete o.value.fullRule,H.customConfigEmbeddedRulesList[e.name]&&delete H.customConfigEmbeddedRulesList[e.name].fullRule)}ke(a.value,o.value)||(H.customConfigEmbeddedRulesList[e.name]={name:e.name,...o.value})}if(n.value){n.value.hasOwnProperty("disable")&&delete n.value.disable;if(n.value.hasOwnProperty("isScale")&&delete n.value.isScale,void 0!==i.modePayload.ratio&&O.androidTargetSdk<=35?n.value.ratio=i.modePayload.ratio:delete n.value.ratio,void 0!==i.modePayload.foRelaunch?n.value.relaunch=i.modePayload.foRelaunch:delete n.value.relaunch,O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35){n.value.supportModes="full,fo",n.value.defaultSettings="fo",n.value.skipSelfAdaptive=!0;const e=new Set((null==(t=n.value.compatChange)?void 0:t.split(",").filter((e=>e&&!e.startsWith("DISABLED:"))))||[]);i.modePayload.hasOwnProperty("forceFixedOrientation")&&(i.modePayload.forceFixedOrientation?e.add("OVERRIDE_UNDEFINED_ORIENTATION_TO_PORTRAIT"):e.delete("OVERRIDE_UNDEFINED_ORIENTATION_TO_PORTRAIT")),i.modePayload.hasOwnProperty("forceAnyOrientation")&&(i.modePayload.forceAnyOrientation?e.add("OVERRIDE_ANY_ORIENTATION"):e.delete("OVERRIDE_ANY_ORIENTATION")),i.modePayload.hasOwnProperty("minAspectRatioCompatChange")&&(i.modePayload.minAspectRatioCompatChange?(e.delete("OVERRIDE_MIN_ASPECT_RATIO_MEDIUM"),e.delete("OVERRIDE_MIN_ASPECT_RATIO_LARGE"),e.add("OVERRIDE_MIN_ASPECT_RATIO"),e.add("OVERRIDE_MIN_ASPECT_RATIO_EXCLUDE_PORTRAIT_FULLSCREEN"),e.add(i.modePayload.minAspectRatioCompatChange)):(e.delete("OVERRIDE_MIN_ASPECT_RATIO"),e.delete("OVERRIDE_MIN_ASPECT_RATIO_EXCLUDE_PORTRAIT_FULLSCREEN"),e.delete("OVERRIDE_MIN_ASPECT_RATIO_MEDIUM"),e.delete("OVERRIDE_MIN_ASPECT_RATIO_LARGE"))),e.size>0?n.value.compatChange=[...e].join(","):delete n.value.compatChange}ke(l.value,n.value)||(H.customConfigFixedOrientationList[e.name]={name:e.name,...n.value})}else H.customConfigFixedOrientationList[e.name]={name:e.name,...O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?{supportModes:"full,fo"}:{},...O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?{defaultSettings:"fo"}:{},...O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?{skipSelfAdaptive:!0}:{},...O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?(()=>{const e=new Set;i.modePayload.forceFixedOrientation&&e.add("OVERRIDE_UNDEFINED_ORIENTATION_TO_PORTRAIT"),i.modePayload.forceAnyOrientation&&e.add("OVERRIDE_ANY_ORIENTATION"),i.modePayload.minAspectRatioCompatChange&&(e.add("OVERRIDE_MIN_ASPECT_RATIO"),e.add("OVERRIDE_MIN_ASPECT_RATIO_EXCLUDE_PORTRAIT_FULLSCREEN"),e.add(i.modePayload.minAspectRatioCompatChange));const a=Array.from(e).join(",");return a?{compatChange:a}:{}})():{},...void 0!==i.modePayload.ratio&&O.androidTargetSdk<=35?{ratio:i.modePayload.ratio}:{},...void 0!==i.modePayload.foRelaunch?{relaunch:i.modePayload.foRelaunch}:{}}}if("disabled"===i.settingMode){const{moduleFixedOrientation:a,currentFixedOrientation:t}=le(e.name);if(t.value){t.value.skipSelfAdaptive=!0,t.value.disable=!0;t.value.hasOwnProperty("compatChange")&&delete t.value.compatChange;t.value.hasOwnProperty("isScale")&&delete t.value.isScale,void 0!==i.modePayload.foRelaunch?t.value.relaunch=i.modePayload.foRelaunch:delete t.value.relaunch,i.modePayload.hasOwnProperty("isShowDivider")&&(t.value.isShowDivider=i.modePayload.isShowDivider),i.modePayload.hasOwnProperty("supportFullSize")&&(t.value.supportFullSize=i.modePayload.supportFullSize),ke(a.value,t.value)||(H.customConfigFixedOrientationList[e.name]={name:e.name,...t.value})}else H.customConfigFixedOrientationList[e.name]={name:e.name,disable:!0,...O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?{skipSelfAdaptive:!0}:{},...void 0!==i.modePayload.foRelaunch?{relaunch:i.modePayload.foRelaunch}:{},...i.modePayload.supportFullSize?{supportFullSize:!0}:{},...i.modePayload.isShowDivider?{isShowDivider:!0}:{}}}if("embedded"===i.settingMode){if(H.customConfigEmbeddedRulesList[e.name])i.modePayload.hasOwnProperty("splitRatio")&&(H.customConfigEmbeddedRulesList[e.name].splitRatio=i.modePayload.splitRatio),i.modePayload.hasOwnProperty("emRelaunch")&&(H.customConfigEmbeddedRulesList[e.name].relaunch=i.modePayload.emRelaunch),i.modePayload.hasOwnProperty("emIsDisabledPlaceholder")&&i.modePayload.emIsDisabledPlaceholder&&delete H.customConfigEmbeddedRulesList[e.name].placeholder,i.modePayload.hasOwnProperty("forceEmbeddedScaleToFixedOrientation")&&(i.modePayload.forceEmbeddedScaleToFixedOrientation?H.customConfigEmbeddedRulesList[e.name].scaleMode=2:1!==H.customConfigEmbeddedRulesList[e.name].scaleMode&&delete H.customConfigEmbeddedRulesList[e.name].scaleMode),i.modePayload.hasOwnProperty("emIsSplitMinWidthZeroMode")&&i.modePayload.emIsSplitMinWidthZeroMode&&(H.customConfigEmbeddedRulesList[e.name].splitMinWidth=0),H.customConfigEmbeddedRulesList[e.name].hasOwnProperty("fullRule")&&delete H.customConfigEmbeddedRulesList[e.name].fullRule;else{let a=!1;i.modePayload.hasOwnProperty("splitRatio")&&(a=!0),i.modePayload.hasOwnProperty("emRelaunch")&&(a=!0),i.modePayload.hasOwnProperty("placeholder")&&(a=!0),a&&(H.customConfigEmbeddedRulesList[e.name]={...H.isPatchMode?H.patchEmbeddedRulesList[e.name]:H.sourceEmbeddedRulesList[e.name],...i.modePayload.hasOwnProperty("splitRatio")&&{splitRatio:i.modePayload.splitRatio},...i.modePayload.hasOwnProperty("emRelaunch")&&{relaunch:i.modePayload.emRelaunch}},i.modePayload.hasOwnProperty("emIsDisabledPlaceholder")&&i.modePayload.emIsDisabledPlaceholder&&delete H.customConfigEmbeddedRulesList[e.name].placeholder,i.modePayload.hasOwnProperty("emIsSplitMinWidthZeroMode")&&i.modePayload.emIsSplitMinWidthZeroMode&&(H.customConfigEmbeddedRulesList[e.name].splitMinWidth=0),i.modePayload.hasOwnProperty("forceEmbeddedScaleToFixedOrientation")&&(i.modePayload.forceEmbeddedScaleToFixedOrientation?H.customConfigEmbeddedRulesList[e.name].scaleMode=2:1!==H.customConfigEmbeddedRulesList[e.name].scaleMode&&delete H.customConfigEmbeddedRulesList[e.name].scaleMode),H.customConfigEmbeddedRulesList[e.name].hasOwnProperty("fullRule")&&delete H.customConfigEmbeddedRulesList[e.name].fullRule)}if(O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35){const{moduleEmbeddedRules:a,currentEmbeddedRules:t,moduleFixedOrientation:i,currentFixedOrientation:o}=le(e.name);if(o.value){o.value.hasOwnProperty("disable")&&delete o.value.disable;o.value.hasOwnProperty("defaultSettings")&&delete o.value.defaultSettings;o.value.hasOwnProperty("skipSelfAdaptive")||(o.value.skipSelfAdaptive=!0);o.value.hasOwnProperty("compatChange")&&delete o.value.compatChange}if(t.value){t.value.hasOwnProperty("skipSelfAdaptive")||(t.value.skipSelfAdaptive=!0)}ke(a.value,t.value)||(H.customConfigFixedOrientationList[e.name]={name:e.name,...o.value}),ke(i.value,o.value)||(H.customConfigEmbeddedRulesList[e.name]={name:e.name,...t.value})}}if(O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35){const{currentEmbeddedRules:a,currentFixedOrientation:t}=le(e.name);e.settingMode!==i.settingMode&&(H.customConfigEmbeddedSettingConfig[e.name]={name:e.name,...V(a.value,t.value,i.settingMode)})}else H.systemEmbeddedSettingConfig[e.name]={name:e.name,embeddedEnable:!!["embedded","fullScreen"].includes(i.settingMode)};const[a,o]=await h(E({...O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?{setAppMode:{name:e.name,action:D(i.settingMode)}}:{switchAction:{name:e.name,action:["embedded","fullScreen"].includes(i.settingMode)?"enable":"disable"}}}));a?(Re.create({title:"应用更新失败",type:"error",preset:"dialog",content:()=>v("p",null,[M("发生异常错误，更新失败了QwQ，详细错误请查看错误日志~")])}),i.loadingCallback&&i.loadingCallback()):(Re.create({title:"应用更新成功",type:"success",preset:"dialog",content:()=>O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?v("p",null,[M("好耶w，")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("的应用配置更新成功了OwO~如果应用更新后的规则不生效，可以尝试重启"),"tablet"===O.deviceType?"平板":"手机",M("再做尝试~")]):v("p",null,[M("好耶w，")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("的应用配置更新成功了OwO~如果应用更新后的规则不生效，可以尝试重启"),"tablet"===O.deviceType?"平板":"手机",M("并且在")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},["tablet"===O.deviceType?"平板专区-平行窗口":"折叠屏专区-应用横屏显示"])," ",M("内")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[["embedded","fullScreen"].includes(i.settingMode)?"打开":"关闭"])," ",M("该应用的开关再做尝试~")])}),H.updateMergeRuleList(),i.loadingCallback&&i.loadingCallback(),i.closeCallback&&i.closeCallback())}}}else Re.create({title:"该应用已受模块保护",type:"warning",preset:"dialog",content:()=>v("p",null,[M("为确保")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("正常横屏工作，模块已保护该应用不允许修改任何配置，如需修改请先前往")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[M("模块设置")])," ",M("禁用")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[M("系统应用横屏优化")])," ",M("。")])})},Ke=(e,a,t)=>{Re.create({title:"模块规则说明",type:"warning",preset:"dialog",content:()=>t?v("div",null,[v("p",null,[M("模块已对")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("配置了合适的适配规则，且不可被移除，仅有自定义规则可以被移除哦~")]),v("p",null,[M("由于小米也对")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("提供了系统规则，您可以选择切换系统规则作为")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("的自定义规则~")])]):v("p",null,[M("模块已对")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("配置了合适的适配规则，且不可被移除，仅有自定义规则可以被移除哦~")])})},Xe=async(e,a)=>{const t=Re.create({title:"想切换为系统规则吗？",type:"warning",preset:"dialog",content:()=>v("p",null,[M("切换为系统规则后，模块将会使用")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[M("系统内置规则")])," ",M("作为")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("的自定义规则，如后续需要改回")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[M("平行窗口的模块规则")])," ",M("则需要先清除自定义规则，确定要继续吗？")]),positiveText:"确定切换",negativeText:"我再想想",onPositiveClick:async()=>{if(t.loading=!0,!H.systemEmbeddedRulesList[e.name])return Re.create({title:"切换系统规则失败",type:"error",preset:"dialog",content:()=>v("p",null,[M("无法找到")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("的系统规则，切换系统规则失败~")]),positiveText:"确定"}),void(t.loading=!1);{H.customConfigEmbeddedRulesList[e.name]=H.systemEmbeddedRulesList[e.name];const[a,i]=await h(E());a?(Re.create({title:"应用更新失败",type:"error",preset:"dialog",content:()=>v("p",null,[M("发生异常错误，更新失败了QwQ，详细错误请查看错误日志~")])}),t.loading=!1):(Re.create({title:"应用更新成功",type:"success",preset:"dialog",content:()=>O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?v("p",null,[M("好耶w，")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("的应用配置更新成功了OwO~如果应用更新后的规则不生效，可以尝试重启"),"tablet"===O.deviceType?"平板":"手机",M("再做尝试~")]):v("p",null,[M("好耶w，")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[w(e.name,e.applicationName)])," ",M("的应用配置更新成功了OwO~如果应用更新后的规则不生效，可以尝试重启"),"tablet"===O.deviceType?"平板":"手机",M("并且在")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},["tablet"===O.deviceType?"平板专区-平行窗口":"折叠屏专区-应用横屏显示"])," ",M("内")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[["embedded","fullScreen"].includes(e.settingMode)?"打开":"关闭"])," ",M("该应用的开关再做尝试~")])}),H.updateMergeRuleList(),t.loading=!1)}}})};return(l,n)=>{const s=p("n-alert"),d=p("n-input-group"),r=p("n-card");return i(),t(u,null,[o("main",Fe,[o("div",Ue,[o("div",Be,[n[12]||(n[12]=o("h3",{class:C("text-base font-semibold leading-7")},[o("span",{class:"animated-bg bg-clip-text font-semibold text-transparent",style:{"background-image":"linear-gradient(\n\t\t\t\t\t\t\t\t101.22deg,\n\t\t\t\t\t\t\t\trgb(255, 182, 133) -18.32%,\n\t\t\t\t\t\t\t\trgb(255, 111, 29) 7.01%,\n\t\t\t\t\t\t\t\trgb(252, 181, 232) 41.59%,\n\t\t\t\t\t\t\t\trgb(135, 148, 255) 70.98%,\n\t\t\t\t\t\t\t\trgb(60, 112, 255) 91.35%,\n\t\t\t\t\t\t\t\trgb(60, 112, 255) 110.17%\n\t\t\t\t\t\t\t)"}},"应用横屏布局")],-1)),o("p",{class:C("mt-1 max-w-2xl text-sm leading-6 "+(y(O).isDarkMode?"text-gray-300":"text-gray-500"))}," 应用横屏布局，优化应用在横屏下的体验。 ",2)])]),v(r,{size:"small"},{default:b((()=>[y(O).skipConfirm.patchModeAlert?S("",!0):(i(),k(s,{key:0,type:"info",class:"mb-3",closable:"",onClose:n[0]||(n[0]=()=>{y(O).skipConfirm.patchModeAlert=!0})},{default:b((()=>n[13]||(n[13]=[M(" 由于小米系统优化不佳的原因，大量的应用适配规则可能导致系统出现卡顿、掉帧等问题，建议老机型可以前往开启模块的定制模式，详情可以前往模块设置中了解。 ")]))),_:1,__:[13]})),o("div",Qe,["tablet"===y(O).deviceType?(i(),k(y(Y),{key:0,class:"mb-3 mr-3",type:"info",loading:y(O).loading||y(H).loading,onClick:Ye},{icon:b((()=>[v(y(te),null,{default:b((()=>[v(y(de))])),_:1})])),default:b((()=>[n[14]||(n[14]=M(" 添加应用 "))])),_:1,__:[14]},8,["loading"])):S("",!0),v(y(Y),{class:"mb-3 mr-3",type:"success",loading:y(O).loading||y(H).loading,onClick:n[1]||(n[1]=()=>He())},{icon:b((()=>[v(y(te),null,{default:b((()=>[v(y(re))])),_:1})])),default:b((()=>[n[15]||(n[15]=M(" 刷新应用列表 "))])),_:1,__:[15]},8,["loading"]),v(y(Y),{class:"mb-3 mr-3",color:"#8a2be2",loading:y(O).loading||y(H).loading||Te.value,onClick:n[2]||(n[2]=()=>(async()=>{Te.value=!0,await He();const[e,a]=await h(N("miui_embedding_window"));e&&(Re.create({title:"热重载应用数据失败",type:"error",preset:"dialog",content:()=>v("p",null,[M("热重载应用数据失败了QwQ，详情请查看错误日志~")]),positiveText:"确定"}),Te.value=!1),a&&(Re.create({title:"热重载应用数据成功",type:"success",preset:"dialog",content:()=>v("p",null,[M("好耶w，已经重新为你载入包括自定义规则在内的应用数据~")]),positiveText:"确定"}),Te.value=!1)})())},{icon:b((()=>[v(y(te),null,{default:b((()=>[v(y(ce))])),_:1})])),default:b((()=>[n[16]||(n[16]=M(" 热重载应用数据 "))])),_:1,__:[16]},8,["loading"]),y(H).isPatchMode?(i(),k(y(Y),{key:1,class:"mb-3 mr-3",type:"error",loading:y(O).loading||y(H).loading||y(Z).loading.value,onClick:n[3]||(n[3]=()=>y(Z).reloadPatchMode())},{icon:b((()=>[v(y(te),null,{default:b((()=>[v(y(Me))])),_:1})])),default:b((()=>[n[17]||(n[17]=M(" 生成定制应用数据 "))])),_:1,__:[17]},8,["loading"])):S("",!0),y(O).canUsePackageInfoApi?S("",!0):(i(),k(y(Y),{key:2,class:"mb-3 mr-3",color:"#69b2b6",loading:y(O).loading||y(H).loading||y(f).loading.value,onClick:n[4]||(n[4]=e=>(async()=>{const[e,a]=await h(f.getList());e&&Re.create({title:"获取失败",type:"warning",preset:"dialog",content:()=>v("p",null,[M("您的系统环境暂不支持该功能，获取失败~")]),positiveText:"确定"}),a&&Re.create({title:"获取成功",type:"success",preset:"dialog",content:()=>v("p",null,[M("好耶OwO，已重新获取当前已安装的应用名称~")]),positiveText:"确定"})})())},{icon:b((()=>[v(y(te),null,{default:b((()=>[v(y(ve))])),_:1})])),default:b((()=>[n[18]||(n[18]=M(" 获取已安装应用名称 "))])),_:1,__:[18]},8,["loading"])),v(y(Y),{class:"mb-3 mr-3",type:"warning",loading:y(O).loading||y(H).loading||we.value,onClick:n[5]||(n[5]=e=>(async()=>{g.value="";const[,e]=await h(new Promise(((e,a)=>{Re.create({title:"请粘贴分享规则口令",preset:"dialog",style:"min-width:500px; width:50%;",class:"responsive-modal",content:()=>T(ie,{type:"textarea",value:g.value,"onUpdate:value":e=>{g.value=e},autosize:{minRows:8,maxRows:8},placeholder:"在此处粘贴分享规则口令"}),positiveText:"确定提交",negativeText:"取消导入",onPositiveClick(){e("positiveClick")}})})));if(e){we.value=!0;const e=g.value,t=R(e);if(!(null==t?void 0:t.length))return Re.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>v("p",null,[M("导入分享规则失败了QwQ，解析")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[M("自定义规则")])," ",M("口令发生错误，无法正常解析。")]),positiveText:"确定"}),void(we.value=!1);try{const e=se(t),a=Q.inflate(e,{to:"string"}),i=JSON.parse(a);if("embedded"!==i.type)return Re.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>v("p",null,[M("导入分享规则失败了QwQ，该")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[M("自定义规则")])," ",M("不适用于应用横屏布局。")]),positiveText:"确定"}),void(we.value=!1);if("pad"===i.device&&"tablet"!==O.deviceType||"fold"===i.device&&"tablet"===O.deviceType)return Re.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>v("p",null,[M("导入分享规则失败了QwQ，平板和折叠屏的适配规则不能混用哦~")]),positiveText:"确定"}),void(we.value=!1);if(1===i.comp&&O.MIOSVersion&&O.MIOSVersion>1)return Re.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>v("p",null,[M("导入分享规则失败了QwQ，该")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[M("自定义规则")])," ",M("仅兼容Android 13 - 14 的小米机型。")]),positiveText:"确定"}),void(we.value=!1);if(2===i.comp&&(!O.MIOSVersion||O.MIOSVersion<2||O.androidTargetSdk<35))return Re.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>v("p",null,[M("导入分享规则失败了QwQ，该")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[M("自定义规则")])," ",M("仅兼容Android 15+的小米机型。")]),positiveText:"确定"}),void(we.value=!1);H.customConfigEmbeddedRulesList[i.name]=i.em,H.customConfigFixedOrientationList[i.name]=i.fo,O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?(i.thirdPartyAppOptimize?H.customThirdPartyAppOptimizeConfig[i.name]=D(i.mode):i.name in H.sourceThirdPartyAppOptimizeConfig&&H.sourceThirdPartyAppOptimizeConfig[i.name]>-1?H.customThirdPartyAppOptimizeConfig[i.name]=-1:delete H.customThirdPartyAppOptimizeConfig[i.name],H.customConfigEmbeddedSettingConfig[i.name]={name:i.name,...V(H.customConfigEmbeddedRulesList[i.name],H.customConfigFixedOrientationList[i.name],i.mode)}):H.systemEmbeddedSettingConfig[i.name]={name:i.name,embeddedEnable:!!["embedded","fullScreen"].includes(i.mode)};const[o,l]=await h(E({...O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?{setAppMode:{name:i.name,action:D(i.mode)}}:{switchAction:{name:i.name,action:["embedded","fullScreen"].includes(i.mode)?"enable":"disable"}}}));o?(Re.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>v("p",null,[M("发生异常错误，导入失败了QwQ，详细错误请查看错误日志~")])}),we.value=!1):(H.updateMergeRuleList(),await He(),we.value=!1,Re.create({title:"导入分享规则成功",type:"success",preset:"dialog",content:()=>O.MIOSVersion&&O.MIOSVersion>=2&&O.androidTargetSdk>=35?v("p",null,[M("好耶w，")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[w(i.name,O.installedAppNameList[i.name]||H.applicationName[i.name])])," ",M("的应用导入成功了OwO~如果应用更新后的规则不生效，可以尝试重启"),"tablet"===O.deviceType?"平板":"手机",M("再做尝试~")]):v("p",null,[M("好耶w，")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[w(i.name,O.installedAppNameList[i.name]||H.applicationName[i.name])])," ",M("的应用导入成功了OwO~如果应用更新后的规则不生效，可以尝试重启"),"tablet"===O.deviceType?"平板":"手机",M("并且在")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},["tablet"===O.deviceType?"平板专区-平行窗口":"折叠屏专区-应用横屏显示"])," ",M("内")," ",v("span",{class:"font-bold "+(O.isDarkMode?"text-teal-400":"text-gray-600")},[["embedded","fullScreen"].includes(i.mode)?"打开":"关闭"])," ",M("该应用的开关再做尝试~")]),positiveText:"确定"}))}catch(a){Re.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>v("p",null,[M("解析分享规则失败了QwQ，请检查导入口令是否有误")]),positiveText:"确定"}),we.value=!1}}})())},{icon:b((()=>[v(y(te),null,{default:b((()=>[v(y(fe))])),_:1})])),default:b((()=>[n[19]||(n[19]=M(" 从分享口令导入 "))])),_:1,__:[19]},8,["loading"])]),o("div",je,[v(y(Y),{class:"mb-3 mr-3",type:y(H).filterInstalledApps?"success":"info",strong:"",loading:y(O).loading||y(H).loading,secondary:"",onClick:qe},{icon:b((()=>[v(y(te),null,{default:b((()=>[y(H).filterInstalledApps?(i(),k(y(pe),{key:0})):(i(),k(y(ue),{key:1}))])),_:1})])),default:b((()=>[M(" "+x(y(H).filterInstalledApps?"已安装应用":"全部应用"),1)])),_:1},8,["type","loading"]),v(y(Y),{class:"mb-3 mr-3",type:"warning",secondary:"",loading:y(O).loading||y(H).loading,onClick:n[6]||(n[6]=()=>_())},{icon:b((()=>[v(y(te),null,{default:b((()=>n[20]||(n[20]=[o("img",{src:e},null,-1)]))),_:1,__:[20]})])),default:b((()=>[n[21]||(n[21]=M(" 应用抽屉 "))])),_:1,__:[21]},8,["loading"]),v(y(Y),{class:"mb-3 mr-3",type:"info",secondary:"",loading:y(O).loading||y(H).loading,onClick:n[7]||(n[7]=e=>y(Oe).getModal())},{icon:b((()=>[v(y(te),{size:"16"},{default:b((()=>n[22]||(n[22]=[o("img",{src:a},null,-1)]))),_:1,__:[22]})])),default:b((()=>[n[23]||(n[23]=M(" 应用适配收集表 "))])),_:1,__:[23]},8,["loading"])]),o("div",We,[v(d,null,{default:b((()=>[v(y(ie),{size:"large",clearable:"",value:y(H).searchKeyWord,"onUpdate:value":n[8]||(n[8]=e=>y(H).searchKeyWord=e),ref_key:"searchKeyWordInput",ref:Ae,placeholder:"搜索应用名称/应用包名",style:{width:"80%"}},null,8,["value"]),v(y(Y),{size:"large",type:"primary",onClick:n[9]||(n[9]=()=>{var e;null==(e=Ae.value)||e.blur()})},{icon:b((()=>[v(y(te),null,{default:b((()=>[v(y(ye))])),_:1})])),default:b((()=>[n[24]||(n[24]=o("span",{class:"hidden sm:inline-block"},"搜索",-1))])),_:1,__:[24]}),v(y(Y),{size:"large",bordered:"",onClick:n[10]||(n[10]=()=>{y(H).searchKeyWord=""})},{icon:b((()=>[v(y(te),null,{default:b((()=>[v(y(be))])),_:1})])),default:b((()=>[n[25]||(n[25]=o("span",{class:"hidden sm:inline-block"},"清空",-1))])),_:1,__:[25]})])),_:1})])])),_:1}),v(y(oe),{ref_key:"embeddedTableRef",ref:$e,size:"small",loading:y(O).loading||y(H).loading,columns:y(Ve),class:"mt-3",data:y(H).filterMergeRuleList,pagination:Ze},null,8,["loading","columns","data","pagination"])]),v(W,{modelValue:Ee.value,"onUpdate:modelValue":n[11]||(n[11]=e=>Ee.value=e),errorLogging:y(H).errorLogging},null,8,["modelValue","errorLogging"]),v(Ne,{ref_key:"addEmbeddedApp",ref:Pe,type:"add",title:"添加应用"},null,512),v(Ne,{ref_key:"updateEmbeddedApp",ref:Ie,type:"update",title:"更新应用"},null,512)],64)}}});export{$e as default};
